define("bundles/confirmNavigation/nls/confirmNavigation",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/page/lib/nls/metatagsAddressBook",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/page",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/nls/moment.lang",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/discussions",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/require.memoize",["module"],function(module){function argsToJsonHasher(){var r=Array.prototype.slice.call(arguments);return JSON.stringify(r)}function memoize(e,t){var n={};t=t||argsToJsonHasher;var r=function memoized(){var r=t.apply(this,arguments);return r in n||(n[r]=e.apply(this,arguments)),n[r]};return r.force=function(){return r.clear.apply(this,arguments),r.apply(this,arguments)},r.clear=function(){var r=t.apply(this,arguments);delete n[r]},r.reset=function(){n={}},r}var r={version:"0.0.1",load:function load(r,n,t,e){n([r],function(r){t(memoize(r))})}};return r});
define("nls/ondemand",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/json/nls/universities",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/languages",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/topics",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("pages/open-course/common/promises/itemMetadata",["require","exports","module","underscore","bundles/phoenix/lib/exceptions","pages/open-course/common/singletons/courseMaterials"],function(require,exports,module){var _=require("underscore"),e=require("bundles/phoenix/lib/exceptions"),o=require("pages/open-course/common/singletons/courseMaterials"),n=function ItemMetadataPromise(n,t){return _(n).isArray()||(n=[n]),o.then(function(s){var o=s.getItemMetadata(t);if(!o||!_(n).contains(o.getTypeName()))throw new e.NotFound("Metadata for item: "+t);return o})};module.exports=n});
define("bundles/course-preview/constants/enrollment",["require","exports","module","js/lib/keysToConstants"],function(require,exports,module){var s=require("js/lib/keysToConstants"),e=["EXPLICIT","UPSELL","PRE_ENROLLED","ENROLLED"],o=s(e);module.exports={modeKeys:e,modes:o}});
define("js/json/nls/specializations",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/json/nls/categories",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/socialPlugins/wechat/__styles__/wechat-button',[],function(){})
define("nls/socialPlugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});





define("bundles/course-preview/service/promises/enrollmentMode",["require","exports","module","q","bundles/course-preview/constants/enrollment","pages/open-course/common/promises/membership","bundles/s12n/service/promises/s12ns"],function(require,exports,module){var s=require("q"),e=require("bundles/course-preview/constants/enrollment"),n=require("pages/open-course/common/promises/membership"),o=require("bundles/s12n/service/promises/s12ns"),r=function enrollmentModePromise(m,r){return n(m,r).then(function(n){return n.hasEnrolledRole()?s(e.modes.ENROLLED):n.hasPreEnrolled()?s(e.modes.PRE_ENROLLED):o.relatedToCourse(r).then(function(s){return s.isEmpty()?e.modes.EXPLICIT:e.modes.UPSELL})})};module.exports=r});

define('css!pages/open-course/item/styl/index',[],function(){})
define("nls/naptimejs",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/requirejs/identity",["require","exports","module"],function(require,exports,module){module.exports=function(){for(var r=arguments.length,t=Array(r),e=0;r>e;e++)t[e]=arguments[e];return t}});
define("nls/enroll-course",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/certificate-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/course-preview",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("nls/phoenix",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/ondemand/components/sessions/__styles__/SessionStartedModal',[],function(){})
define("nls/payments-common",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/account-settings",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/collapse/collapse',[],function(){})

define('css!bundles/phoenix/components/__styles__/ProfileImage',[],function(){})
define("bundles/requirejs/plugins/lazy",["require","exports","module"],function(require,exports,module){var e={version:"0.0.1",load:function load(e,r,u,i){var n=function getModule(n){r([e],function(e){return n(e)})};return n.lazy={moduleId:e},u(n)}};module.exports=e});

define("nls/user-account",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("nls/program-home",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("pages/open-course/item/views/nls/header",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("pages/open-course/item/views/nls/verifiedCertificateBanner",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/readme",["require","exports","module","jquery","moment","underscore","js/lib/cookie","js/lib/data.attributes","js/vendor/lucid.v2-7-0"],function(require,exports,module){var $=require("jquery"),o=require("moment"),_=require("underscore"),e=require("js/lib/cookie"),s=require("js/lib/data.attributes"),n=require("js/vendor/lucid.v2-7-0"),t={defaults:{"bind.close":"click","attribute.data":"data-readme","attribute.close":"data-readme-close","class":"readme",expires:null,"show.count":0,"show.until.closed":!1,"show.delay":1e3,"animate.open":null,"animate.close":null,"animate.duration":250,type:"banner"},open:!1,stack:[],getReadMe:function getReadMe(o,e){var t=$(o).data("readme.me");return t&&t.constructor==i.prototype.constructor?e?t.customize(e):t:null},makeReadMe:function makeReadMe(s,n){var o=$(s),e=t.getReadMe(o);return e||(e=new i(o,n),o.data("readme.me",e)),e},getCount:function getCount(){var t,i=this.options["attribute.data"]+"-"+this.$el.attr(this.options["attribute.data"]);if(this.options["show.count"])return t=e.get(i),t?parseInt(t,10):0;return 0},increaseCount:function increaseCount(){var o=this.options["attribute.data"]+"-"+this.$el.attr(this.options["attribute.data"]);if(this.options["show.count"]){var i=t.getCount.call(this)+1;return e.set(o,i,{expires:36500}),i}return 0},canShow:function canShow(){var n=this.options["attribute.close"]+"-"+this.$el.attr(this.options["attribute.data"]);if("true"===e.get(n))return!1;var a=t.getCount.call(this),i=this.options["show.count"]?parseInt(this.options["show.count"],10):0,s=this.options.expires;if(s&&o(new Date(s)).diff(o())<0)return this.emitter.trigger("expired"),!1;if(i&&a>=i)return this.emitter.trigger("aged"),!1;if(t.stack.indexOf(this)<0&&t.stack.push(this),t.open)return!1;return t.open=!0,!0}},i=function ReadMe(t,i){var e=this;this.$el=$(t),this.emitter=n.emitter(this),this.customize(i),window.setTimeout(function(){e.open()},this.options["show.delay"]||0)};i.prototype.customize=function(o){var e=this,i;return this.options=_.extend({},s.parse(this.$el,t.defaults,"data-readme-"),o),this.$el.addClass(this.options["class"]),"banner"==this.options.type?(this.$el.css({visibility:"hidden"}).show(),i=this.$el.outerHeight(),this.$el.css({visibility:"visible"}).hide(),this.options["animate.open"]={"margin-top":0},this.options["animate.close"]={"margin-top":-i},this.options["animate.duration"]=250,this.on("opening",function(){e.$el.css({visibility:"visible","margin-top":-i}).show().prependTo($("body"))})):"footer-sticky"==this.options.type&&(this.$el.css({visibility:"hidden"}).show(),i=this.$el.outerHeight(),this.$el.css({visibility:"visible"}).hide(),this.options["animate.open"]={bottom:0},this.options["animate.close"]={bottom:-i},this.options["animate.duration"]=250,this.on("opening",function(){var t={visibility:"visible",position:"absolute",left:0,right:0,bottom:-i};e.$el.css(t).show().appendTo($("body"))})),this},i.prototype.open=function(){var i=this;t.canShow.call(this)&&(!this.options["show.until.closed"]&&this.options["show.count"]&&t.increaseCount.call(this),this.emitter.trigger("opening"),this.$el.on(this.options["bind.close"]+".readme","["+this.options["attribute.close"]+"]",function(){i.options["show.until.closed"]&&i.options["show.count"]&&t.increaseCount.call(i),i.close()}),this.$el.is("["+this.options["attribute.close"]+"]")&&this.$el.on(this.options["bind.close"]+".readme",function(){i.options["show.until.closed"]&&i.options["show.count"]&&t.increaseCount.call(i),i.close()}),this.options["animate.open"]?(this.$el.css({"margin-top":-100}).prependTo($("body")).show(),this.$el.animate(this.options["animate.open"],{duration:this.options["animate.duration"],complete:function complete(){i.emitter.trigger("open")}})):(this.$el.show(),this.emitter.trigger("open")))},i.prototype.close=function(){var i=this;this.trigger("closing"),t.stack.shift(),this.options["animate.close"]?this.$el.animate(this.options["animate.close"],{duration:this.options["animate.duration"],complete:function complete(){i.$el.off(".readme"),i.$el.hide().remove(),i.emitter.trigger("close"),t.open=!1,t.stack.length&&t.stack[0].open()}}):(this.$el.off(".readme"),this.$el.hide().remove(),this.emitter.trigger("close"),t.open=!1,t.stack.length&&t.stack[0].open());var o=this.options["attribute.close"]+"-"+this.$el.attr(this.options["attribute.data"]);e.set(o,"true",{expires:36500})},module.exports=function(i,e){return t.getReadMe(i,e)||t.makeReadMe(i,e)}});

define("pages/open-course/outline/views/nls/banner.verifiedCertificate",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var n=function(e,n,t){var a=function template(i){var r=[],c={},a,t=i||{};return function(t,n,i){r.push('<div data-readme="vc-banner-grandfather" data-readme-show-count="1" data-readme-show-until-closed="data-readme-show-until-closed" class="c-banner-grandfather-vc"><table><tr><td><img'+e.attr("src",t,!0,!1)+' class="c-cert-icon bt3-hidden-xs"/></td><td><div class="c-vc-banner-text"><span class="c-vc-banner-title"></span> '+e.escape(null==(a=n("This course is now offering Course Certificates."))?"":a)+"\n "+e.escape(null==(a=n("To be eligible for a Course Certificate, you need to verify all submitted assignments."))?"":a)+'</div></td><td class="c-vc-banner-buttons"><a'+e.attr("href",i,!0,!1)+' data-js="vc-banner-learn-more" target="_blank" data-readme-close="data-readme-close" class="c-vc-banner-buttons"><button class="c-get-cert-button bt3-btn">'+e.escape(null==(a=n("Learn more"))?"":a)+'</button></a></td><td class="c-vc-banner-buttons"><div data-readme-close="data-readme-close" data-js="readme-close-icon" class="c-banner-close-icon c-vc-banner-buttons readme-close-icon"><span><i class="cif-remove"></i></span></div></td></tr></table></div>')}.call(this,"vcBannerImg"in t?t.vcBannerImg:"undefined"!=typeof vcBannerImg?vcBannerImg:void 0,"_t"in t?t._t:"undefined"!=typeof n?n:void 0,"landingPagePath"in t?t.landingPagePath:"undefined"!=typeof landingPagePath?landingPagePath:void 0),r.join("")};return function(e){return e&&"_t"in e&&(n=e._t.merge(n)),a(e)}};"function"==typeof define&&define.amd?define('pages/open-course/outline/views/banner.verifiedCertificate.html',["js/vendor/jade","i18n!pages/open-course/outline/views/nls/banner.verifiedCertificate"],function(e,a){var t;return n(e,a,t)}):e.jade.templates["pages.open-course.outline.views.banner.verifiedCertificate"]=n(e.jade.helpers)}(window);
define("pages/open-course/outline/views/banner.verifiedCertificate",["require","exports","module","jquery","underscore","bundles/phoenix/lib/view","js/lib/readme","pages/open-course/common/constants","memoize!pages/open-course/common/promises/membership","pages/open-course/outline/views/banner.verifiedCertificate.html","bundles/phoenix/template/models/userIdentity"],function(require,exports,module){var $=require("jquery"),_=require("underscore"),n=require("bundles/phoenix/lib/view"),i=require("js/lib/readme"),e=require("pages/open-course/common/constants"),r=require("memoize!pages/open-course/common/promises/membership"),t=require("pages/open-course/outline/views/banner.verifiedCertificate.html"),o=require("bundles/phoenix/template/models/userIdentity"),s=n.extend({template:t,templateOptions:function templateOptions(){return{vcBannerImg:e.signatureTrack.vcBannerImg,landingPagePath:e.vcLandingPagePath}},events:{'click [data-js~="vc-banner-learn-more"]':"learnMore",'click [data-js~="readme-close-icon"]':"close"},multitracker:{namespace:"open_course.banner_grandfather_vc",baseValues:["course_id"],definitions:{course_id:function course_id(){return this.course.get("id")}},eventingVersion:2},initialize:function initialize(e){this.course=e.course,_.bindAll(this,"onViewAppended","close","learnMore"),this.bind("view:appended",this.onViewAppended)},onViewAppended:function onViewAppended(){i('[data-readme="vc-banner-grandfather"]'),this.$el.replaceWith($('[data-readme="vc-banner-grandfather"]')),this.setElement($('[data-readme="vc-banner-grandfather"]'))},postRender:function postRender(){this.track("render")},close:function close(){this.track("click.close"),this.region.close()},learnMore:function learnMore(){this.track("click.learn_more"),this.region.close()}},{shouldAppend:function shouldAppend(n){var e=n.course,i=e.isVerificationEnabled(),t=o.get("id");return i?r(t,e.id).then(function(n){var i=e.get("verificationEnabledAt")>n.get("timestamp");return i}):!1}});module.exports=s});
define("nls/payments",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define("nls/enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/s12n-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});




define("pages/open-course/s12n/views/nls/banner",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!pages/open-course/s12n/styl/banner',[],function(){})
define("pages/open-course/common/views/banner",["require","exports","module","q","underscore","bundles/phoenix/lib/view","bundles/phoenix/template/models/userIdentity","pages/open-course/common/singletons/course","pages/open-course/item/views/verifiedCertificateBanner","pages/open-course/outline/views/banner.verifiedCertificate","pages/open-course/s12n/views/banner"],function(require,exports,module){var e=require("q"),_=require("underscore"),n=require("bundles/phoenix/lib/view"),i=require("bundles/phoenix/template/models/userIdentity"),s=require("pages/open-course/common/singletons/course"),r=require("pages/open-course/item/views/verifiedCertificateBanner"),t=require("pages/open-course/outline/views/banner.verifiedCertificate"),o=require("pages/open-course/s12n/views/banner"),a=n.extend({name:"banner",banners:[o,r,t],initialize:function initialize(n){_.bindAll(this,"appendBanner","findBanner");var i=e.defer();this.listenToOnce(this,"view:appended",i.resolve),e.all([s,i.promise]).spread(function(e){_(n).extend({course:e,courseId:e.get("id")}),this.findBanner(n),this.listenTo(this,"view:merged",this.onMerge.bind(this,n))}.bind(this)).done()},onMerge:function onMerge(e){this.findBanner(e)},findBanner:function findBanner(n){if(!i.get("authenticated"))return;e.all(_(this.banners).map(function(i){return e.when(i.shouldAppend(n))})).then(function(i){var s=_(i).indexOf(!0),e=this.banners[s];e?this.appendBanner(e,n):this.removeBanner()}.bind(this)).done()},appendBanner:function appendBanner(e,n){this.currentBannerView!==e&&(this.region.append(e,{initialize:n,module:e}),this.currentBannerView=e)},removeBanner:function removeBanner(){_(this.region.regions).each(function(e){e.close()})}});module.exports=a});

define('css!bundles/ondemand/components/__styles__/ItemBreadcrumbs',[],function(){})
define("bundles/ondemand/components/ItemBreadcrumbs",["require","exports","module","react","react-router","i18n!nls/ondemand","js/lib/coursera.react-intl","bundles/ondemand/utils/url","pages/open-course/common/constants","css!./__styles__/ItemBreadcrumbs"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),r=0;r<s.length;r++){var t=s[r],n=Object.getOwnPropertyDescriptor(o,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,n,e=require("react"),c=require("react-router"),t=c.Link,o=require("i18n!nls/ondemand"),i=require("js/lib/coursera.react-intl"),a=i.FormattedMessage,s=require("bundles/ondemand/utils/url"),u=s.getWeekUrl,l=s.getHomeUrl,p=require("pages/open-course/common/constants");require("css!./__styles__/ItemBreadcrumbs");var m=(n=r=function(r){function ItemBreadcrumbs(){var n,e,o;_classCallCheck(this,ItemBreadcrumbs);for(var s=arguments.length,c=Array(s),t=0;s>t;t++)c[t]=arguments[t];return n=e=_possibleConstructorReturn(this,r.call.apply(r,[this].concat(c))),e.onClickCourse=function(){e.props.onClickCourse()},e.onClickWeek=function(){e.props.onClickWeek()},o=n,_possibleConstructorReturn(e,o)}return _inherits(ItemBreadcrumbs,r),ItemBreadcrumbs.prototype.render=function render(){return e.createElement("ol",{className:"rc-ItemBreadcrumbs inline"},e.createElement("li",null,e.createElement(t,{to:l(),onClick:this.onClickCourse},o("Course Home"))),e.createElement("span",{className:"cif-chevron-right item-breadcrumb-chevron item-breadcrumb-text"}),e.createElement("li",null,e.createElement(t,{to:u(this.props.weekNumber),onClick:this.onClickWeek},e.createElement(a,{message:o("Week {number}"),number:this.props.weekNumber}))),e.createElement("span",{className:"cif-chevron-right item-breadcrumb-chevron item-breadcrumb-text"}),e.createElement("li",null,e.createElement("span",{className:"item-breadcrumb-text"},this.props.lessonName)))},ItemBreadcrumbs}(e.Component),r.propTypes={weekNumber:e.PropTypes.number.isRequired,lessonName:e.PropTypes.string.isRequired,itemId:e.PropTypes.string.isRequired,onClickCourse:e.PropTypes.func,onClickWeek:e.PropTypes.func},r.defaultProps={onClickCourse:function onClickCourse(){return void 0},onClickWeek:function onClickWeek(){return void 0}},n);module.exports=m});
define("pages/open-course/common/layout/body",["require","exports","module","bundles/phoenix/template/layout/body"],function(require,exports,module){var e=require("bundles/phoenix/template/layout/body"),o=e.extend({name:"body"});module.exports=o});
define("pages/open-course/item/views/nls/body",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(i){var a=function(t,i,e){var a=function template(a){var i=[],t={},e;return i.push('<div class="bt3-row"><div data-affix="data-affix" class="c-item-header"><div data-js="item-banner"></div><div data-js="item-header"></div></div></div><main data-rc="ItemNavigation" class="c-item-container bt3-row"><div data-js="item-container" class="c-main-content-container"></div></main><div data-rc="ItemViewHonorsModalContainer"></div><div data-js="item-footer" class="bt3-row"></div><div id="c-item-navlist" class="bt3-popover bt3-top"><div class="c-item-navlist-arrow bt3-arrow"></div><div data-js="navlist-contents"></div></div>'),i.join("")};return function(t){return t&&"_t"in t&&(i=t._t.merge(i)),a(t)}};"function"==typeof define&&define.amd?define('pages/open-course/item/views/body.html',["js/vendor/jade","i18n!pages/open-course/item/views/nls/body"],function(i,t){var e;return a(i,t,e)}):i.jade.templates["pages.open-course.item.views.body"]=a(i.jade.helpers)}(window);
define("pages/open-course/item/views/body",["require","exports","module","bundles/ondemand/components/item/ItemNavigation","bundles/ondemand/components/ItemBreadcrumbs","bundles/ondemand/actions/HonorsUserPreferencesActions","js/app/multitrackerSingleton","js/app/scrollTrackerSingleton","js/lib/timing","pages/open-course/common/layout/body","pages/open-course/item/views/body.html","js/lib/affix"],function(require,exports,module){var e=require("bundles/ondemand/components/item/ItemNavigation"),t=require("bundles/ondemand/components/ItemBreadcrumbs"),i=require("bundles/ondemand/actions/HonorsUserPreferencesActions"),n=i.loadHonorsUserPreferences,s=require("js/app/multitrackerSingleton"),o=require("js/app/scrollTrackerSingleton"),r=require("js/lib/timing"),a=require("pages/open-course/common/layout/body"),m=require("pages/open-course/item/views/body.html");require("js/lib/affix");var d=a.extend({name:"body",template:m,initialize:function initialize(e){this.ApplicationStore=this.fluxibleContext.getActionContext().getStore("ApplicationStore"),this.fluxibleContext.getComponentContext().executeAction(n,{authenticated:this.ApplicationStore.isAuthenticatedUser()}),s.push(["openCourse.itemPage.user.isAuthenticated",this.ApplicationStore.isAuthenticatedUser()]),this.lesson=e.lesson,this.itemMetadata=e.itemMetadata,this.weekNumber=e.weekNumber,this.listenTo(this,"view:appended",this.onNewItemDisplayed),this.listenTo(this,"view:merged",this.onNewItemDisplayed),this.listenTo(this,"view:merged",this.onMerge)},renderItemNavigation:function renderItemNavigation(){this.ApplicationStore.isAuthenticatedUser()?this.renderReactInto(e,"ItemNavigation",{weekNumber:this.weekNumber,currentItemId:this.itemMetadata.get("id"),isItemGroupDescriptionPage:!0,isInChoice:!1,currentLesson:this.lesson},this.getChildContext()):document.querySelector('[data-rc="ItemBreadcrumbs"]')&&this.renderReactInto(t,"ItemBreadcrumbs",{weekNumber:this.weekNumber,itemId:this.itemMetadata.get("id"),lessonName:this.lesson.get("name")},this.getChildContext())},getChildContext:function getChildContext(){var e=this.fluxibleContext.getComponentContext();return e.router=this.router,e.fluxibleContext=this.fluxibleContext,e},renderSubviews:function renderSubviews(){this.renderItemNavigation()},postRender:function postRender(){r.setMark("openCourseItem_rendered",!0)},onMerge:function onMerge(e){e&&(this.lesson=e.lesson,this.itemMetadata=e.itemMetadata,this.weekNumber=e.weekNumber)},onNewItemDisplayed:function onNewItemDisplayed(){o.restore(),this.renderSubviews()}});module.exports=d});
define("bundles/phoenix/template/layout/nls/fullscreen",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(e){var n=function(t,e,i){var n=function template(n){var e=[],t={},i;return e.push('<div class="c-phoenix-template-fullscreen"><div data-js="phoenix-template-fullscreen-body" class="c-phoenix-template-fullscreen-body bt3-container-fluid"><div data-js="phoenix-template-region-modal"></div></div></div>'),e.join("")};return function(t){return t&&"_t"in t&&(e=t._t.merge(e)),n(t)}};"function"==typeof define&&define.amd?define('bundles/phoenix/template/layout/fullscreen.html',["js/vendor/jade","i18n!bundles/phoenix/template/layout/nls/fullscreen"],function(e,t){var i;return n(e,t,i)}):e.jade.templates["bundles.phoenix.template.layout.fullscreen"]=n(e.jade.helpers)}(window);

define('css!bundles/phoenix/template/styl/index',[],function(){})
define("bundles/phoenix/template/layout/fullscreen",["require","exports","module","bundles/phoenix/template/layout/fullscreen.html","backbone","jquery","css!bundles/phoenix/template/styl/index.css","bundles/phoenix/template/layout/body"],function(require,exports,module){var e=require("bundles/phoenix/template/layout/fullscreen.html"),Backbone=require("backbone"),$=require("jquery");require("css!bundles/phoenix/template/styl/index.css");var s=Backbone.View.extend({name:"page",template:e,defaultBodyClass:"c-layout-fullscreen",bodyClasses:null,subregions:{body:{"bundles/phoenix/template/layout/body":{to:'[data-js="phoenix-template-fullscreen-body"]',module:require("bundles/phoenix/template/layout/body")}}},className:"c-phoenix-template-fullscreen-container",initialize:function initialize(e){this.bodyClasses=[this.defaultBodyClass],e&&e.bodyClasses&&this.bodyClasses.push(e.bodyClasses),this.on("view:appended",this.onAppended,this),this.on("view:closed",this.onClose,this)},onAppended:function onAppended(){$("body").addClass(this.getBodyClasses())},onClose:function onClose(){$("body").removeClass(this.getBodyClasses())},render:function render(){this.$el.html(this.template())},getBodyClasses:function getBodyClasses(){return this.bodyClasses.join(" ")}});module.exports=s});
define("pages/open-course/common/views/nls/helpwidget",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/userModal/views/nls/userModal",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/userModal/views/nls/signup",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/userModal/views/nls/login",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/userModal/views/nls/passwordResetRequest",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/userModal/views/nls/passwordResetRequestSent",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/userModal/views/nls/passwordResetConfirm",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/userModal/views/nls/requestEmail",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/userModal/views/nls/requestPassword",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("pages/open-course/common/layout/fullscreen",["require","exports","module","bundles/phoenix/template/layout/fullscreen","bundles/phoenix/template/layout/body","pages/open-course/common/views/helpwidget","bundles/phoenix/template/layout/modals"],function(require,exports,module){var e=require("bundles/phoenix/template/layout/fullscreen"),o=e.extend({subregions:{body:{"bundles/phoenix/template/layout/body":{to:'[data-js="phoenix-template-fullscreen-body"]',module:require("bundles/phoenix/template/layout/body")}},helpwidget:{"pages/open-course/common/views/helpwidget":{to:'[data-js="phoenix-template-fullscreen-body"]',module:require("pages/open-course/common/views/helpwidget")}},modals:{"bundles/phoenix/template/layout/modals":{to:'[data-js="phoenix-template-region-modal"]',module:require("bundles/phoenix/template/layout/modals")}}}});module.exports=o});
define("pages/open-course/item/views/nls/unauthenticated",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("pages/open-course/item/entry",["require","exports","module","origami","q","bundles/course-preview/service/promises/enrollmentMode","pages/open-course/common/singletons/course","pages/open-course/common/singletons/courseMaterials","pages/open-course/common/promises/courseProgress","css!pages/open-course/item/styl/index","pages/open-course/item/views/header","pages/open-course/common/views/banner","pages/open-course/item/views/body","pages/open-course/common/layout/fullscreen","pages/open-course/item/views/unauthenticated","lazy!pages/open-course/item/views/locked"],function(require,exports,module){var o=require("origami"),e=require("q"),s=require("bundles/course-preview/service/promises/enrollmentMode"),n=require("pages/open-course/common/singletons/course"),t=require("pages/open-course/common/singletons/courseMaterials"),r=require("pages/open-course/common/promises/courseProgress");require("css!pages/open-course/item/styl/index"),exports.openItemView=function(i,u,c,m){var a=i.getActionContext(),p=a.getStore("CourseStore").getCourseId(),l=a.getStore("CourseStore").getCourseSlug(),d=a.getStore("ApplicationStore").getUserData().id,g=a.getStore("CourseScheduleStore").getSchedule();return e.all([c,t,r(l),n,s(d,p)]).spread(function(a,s,v,l,d){s.getModules().forEach(function(module){module.set("week",g.getWeekForModuleId(module.get("id")))});var e=s.getItemMetadata(m),t=e.get("lesson"),module=t.get("module"),p=module.get("week"),n=e.getLink();-1===window.location.pathname.indexOf(n)&&o.router.navigate(n+window.location.search,{replace:!0,trigger:!1});var r={};r["pages/open-course/item/views/header"]={to:'[data-js="item-header"]',initialize:{model:l,itemMetadata:e,enrollmentMode:d,fluxibleContext:i,router:u},module:require("pages/open-course/item/views/header")};var c={"pages/open-course/common/views/banner":{to:'[data-js="item-banner"]',initialize:{itemMetadata:e,fluxibleContext:i,router:u},module:require("pages/open-course/common/views/banner")}},w={itemHeader:r,itemView:a,banner:c};return o.region.open({"pages/open-course/common/layout/fullscreen":{initialize:{bodyClasses:"c-phoenix-item"},regions:{body:{"pages/open-course/item/views/body":{initialize:{weekNumber:p,lesson:t,itemMetadata:e,fluxibleContext:i,router:u},regions:w,to:'[data-js="phoenix-template-fullscreen-body"]',module:require("pages/open-course/item/views/body")}}},module:require("pages/open-course/common/layout/fullscreen")}})})},exports.openUnauthenticatedItemView=function(o,t,s){var n=e({"pages/open-course/item/views/unauthenticated":{to:'[data-js~="item-container"]',initialize:{fluxibleContext:o,router:t},module:require("pages/open-course/item/views/unauthenticated")}});return exports.openItemView(o,t,n,s)},exports.openLockedItemView=function(o,s,n){var r=e.all([t]).spread(function(t){var r=t.getItemMetadata(n);return e({"pages/open-course/item/views/locked":{to:'[data-js~="item-container"]',initialize:{itemMetadata:r,courseMaterials:t,fluxibleContext:o,router:s},module:require("lazy!pages/open-course/item/views/locked")}})});return exports.openItemView(o,s,r,n)}});
define("bundles/phoenix/utils/openers",["require","exports","module","bundles/phoenix/template/models/userIdentity","pages/open-course/common/promises/itemMetadata","pages/open-course/item/entry"],function(require,exports,module){var t=require("bundles/phoenix/template/models/userIdentity"),n=require("pages/open-course/common/promises/itemMetadata"),e=require("pages/open-course/item/entry"),r=exports.checkAuthenticated=function(r,n){if(!t.get("authenticated"))return e.openUnauthenticatedItemView(null,n)},o=exports.checkNotLockedByItem=function(t,n){if(t.get("isLocked")&&t.get("lockableByItem"))return e.openLockedItemView(null,n)},u=exports.validateOpener=function(e,t,u){return function(m,p,i){for(var s=arguments.length,c=Array(s>3?s-3:0),a=3;s>a;a++)c[a-3]=arguments[a];return n(e,i).then(function(s){for(var n=u||[r,o],e=0;e<n.length;e+=1){var l=n[e],a=l(s,i);if(a)return a}return t.apply(void 0,[m,p,i].concat(c))})}};exports.validateOpeners=function(o,t){for(var n=arguments.length,r=Array(n>2?n-2:0),e=2;n>e;e++)r[e-2]=arguments[e];return r.forEach(function(e){t[e]=u(o,t[e])}),t}});


define("pages/open-course/common/utils/lockExperiment",["require","exports","module","underscore","bundles/epic/client","pages/open-course/common/constants"],function(require,exports,module){var _=require("underscore"),e=require("bundles/epic/client"),s=require("pages/open-course/common/constants");exports.setup=function(t,n,o,c){_(s.lockedAssessments).contains(t)&&e.get("siteOnDemandCompletion","lockedAssessments")&&!function(){var e=n.getGradableItemMetadatas();_(e).chain().rest(1).each(function(n,i){var s=e[i],t=!1,r=_(["closedPeer","gradedPeer","phasedPeer"]).contains(s.getTypeName());if(r){var a=c.getItemProgress(s.get("id")),d=a.getDefinition("submitted");t=d}else{var m=o.getItemGrade(s.get("id"));t=m.isPassing()}n.set({locked:!t},{silent:!0})})}()}});
define("bundles/phoenix/mixins/capabilities",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore"),e=Array.prototype.slice,n={can:function can(e){return _(this.get("capabilities")).contains(e)},canBecause:function canBecause(i,t){var e=this.get("capabilitiesWithReasons"),n=e&&e[i]||{isAllowed:!1,reason:null};return n.isAllowed&&n.reason===t},canAny:function canAny(){var n=e.call(arguments);return _(n).some(this.can.bind(this))},canAll:function canAll(){var n=e.call(arguments);return _(n).every(this.can.bind(this))}};module.exports=n});
define("pages/open-course/peerReview/assignment/models/assignment",["require","exports","module","backbone","bundles/phoenix/lib/mixin","bundles/phoenix/mixins/capabilities"],function(require,exports,module){var Backbone=require("backbone"),i=require("bundles/phoenix/lib/mixin"),n=require("bundles/phoenix/mixins/capabilities"),e=Backbone.Model.extend({});i(e.prototype,n),module.exports=e});


define("pages/open-course/peerReview/data/assignment",["require","exports","module","bundles/phoenix/template/models/userIdentity","q","pages/open-course/peerReview/data/api"],function(require,exports,module){var e=require("bundles/phoenix/template/models/userIdentity"),t=require("q"),n=require("pages/open-course/peerReview/data/api");module.exports=function(s){return e.get("authenticated")?n.getAssignment(s):t({})}});
define("pages/open-course/peerReview/assignment/promises/assignment",["require","exports","module","underscore","pages/open-course/peerReview/assignment/models/assignment","pages/open-course/peerReview/data/assignment"],function(require,exports,module){var _=require("underscore"),e=require("pages/open-course/peerReview/assignment/models/assignment"),n=require("pages/open-course/peerReview/data/assignment");module.exports=function(s){return n(s.metadata).then(function(n){return new e(_({}).extend(n,n.definition,s))})}});
define("pages/open-course/peerReview/components/alerts/viewModels/alerts",["require","exports","module","backbone"],function(require,exports,module){var Backbone=require("backbone"),e=Backbone.Model.extend({defaults:function defaults(){return{severity:"warning",errorTree:null}},isSeverity:function isSeverity(e){return this.get("severity")===e}});module.exports=e});
define("pages/open-course/peerReview/models/errorTree",["require","exports","module","underscore","backbone"],function(require,exports,module){function defaultData(){return{errors:[],children:{}}}var _=require("underscore"),Backbone=require("backbone"),r=function ErrorTree(r){r=r||defaultData();var e=_(r.children).chain().map(function(r,e){return[e,new ErrorTree(r)]}).object().value();this.root={errors:r.errors,children:e}};r.prototype.replace=function(e){e=e||defaultData();var o=this.root.children,t=e.children,n=_.union(_(o).keys(),_(t).keys());_(n).each(function(e){var n=o[e],i=t[e];n?n.replace(i):o[e]=new r(i)}),this.root.errors=e.errors,this.trigger("change")},r.prototype.getRootErrors=function(){return this.root.errors},r.prototype.getAllErrors=function(){var r=_(this.root.children).chain().invoke("getAllErrors").flatten().value();return this.getRootErrors().concat(r)},r.prototype.getChild=function(e){return _(this.root.children).has(e)||(this.root.children[e]=new r),this.root.children[e]},_(r.prototype).extend(Backbone.Events),module.exports=r});
define("pages/open-course/peerReview/data/displayablePhaseSchedule",["require","exports","module","pages/open-course/peerReview/data/api"],function(require,exports,module){var e=require("pages/open-course/peerReview/data/api");module.exports=e.getDisplayablePhaseSchedule});
define("pages/open-course/peerReview/promises/displayablePhaseSchedule",["require","exports","module","q","pages/open-course/peerReview/data/displayablePhaseSchedule"],function(require,exports,module){var e=require("q"),a=require("pages/open-course/peerReview/data/displayablePhaseSchedule");module.exports=function(s){return"phasedPeer"===s.metadata.getTypeName()?a(s.metadata).then(function(e){return e.displayablePhaseSchedule}):e(void 0)}});
define("pages/open-course/peerReview/data/reviewQueue",["require","exports","module","pages/open-course/peerReview/data/api"],function(require,exports,module){var e=require("pages/open-course/peerReview/data/api");module.exports=function(r){return e.getReviewQueue(r)}});
define("pages/open-course/peerReview/models/submissionSummary",["require","exports","module","backbone-associations","moment","js/lib/path","js/lib/truncate","pages/open-course/common/constants","pages/open-course/common/models/socialProfile"],function(require,exports,module){var Backbone=require("backbone-associations"),e=require("moment"),t=require("js/lib/path"),o=require("js/lib/truncate"),n=require("pages/open-course/common/constants"),s=require("pages/open-course/common/models/socialProfile"),i=Backbone.AssociatedModel.extend({relations:[{type:Backbone.One,key:"creator",relatedModel:s}],getReviewLink:function getReviewLink(){return t.join(this.collection.getItemLink(),"review",this.get("id"))},getTimestampString:function getTimestampString(){return this.timestampString=e(this.get("createdAt")).fromNow()},getUserName:function getUserName(){return this.get("creator.fullName")},getUserPhoto:function getUserPhoto(){return this.get("creator.photoUrl")},getTruncatedTitle:function getTruncatedTitle(){return o.byLength(this.get("title"),n.gallery.maxTitleLength)}});module.exports=i});
define("pages/open-course/peerReview/models/submissionSummaries",["require","exports","module","underscore","backbone","pages/open-course/peerReview/models/submissionSummary"],function(require,exports,module){var _=require("underscore"),Backbone=require("backbone"),e=require("pages/open-course/peerReview/models/submissionSummary"),r=Backbone.Collection.extend({model:e,initialize:function initialize(r,e){this.metadata=e.metadata},getItemLink:function getItemLink(){return this.metadata.getLink()},parse:function parse(e,s){var r=_(e.submissionSummaries).map(function(r){var s=_(e.userProfiles).findWhere({userId:r.creatorId});return _(r).extend({creator:s})});return r}});module.exports=r});
define("pages/open-course/peerReview/promises/reviewQueue",["require","exports","module","pages/open-course/peerReview/data/reviewQueue","pages/open-course/peerReview/models/submissionSummaries"],function(require,exports,module){var e=require("pages/open-course/peerReview/data/reviewQueue"),r=require("pages/open-course/peerReview/models/submissionSummaries");module.exports=function(s){return e(s.metadata).then(function(e){return new r(e,{parse:!0,metadata:s.metadata})})}});
define("pages/open-course/peerReview/data/reviewStats",["require","exports","module","pages/open-course/peerReview/data/api"],function(require,exports,module){var e=require("pages/open-course/peerReview/data/api");module.exports=function(r){return e.getReviewStats(r)}});
define("pages/open-course/peerReview/models/reviewStats",["require","exports","module","backbone"],function(require,exports,module){var Backbone=require("backbone"),e=Backbone.Model.extend({defaults:{reviewCount:0}});module.exports=e});
define("pages/open-course/peerReview/promises/reviewStats",["require","exports","module","pages/open-course/peerReview/data/reviewStats","pages/open-course/peerReview/models/reviewStats"],function(require,exports,module){var e=require("pages/open-course/peerReview/data/reviewStats"),t=require("pages/open-course/peerReview/models/reviewStats");module.exports=function(r){return e(r.metadata).then(function(e){return new t(e,{parse:!0,metadata:r.metadata})})}});
define("pages/open-course/peerReview/data/reviews",["require","exports","module","bundles/phoenix/template/models/userIdentity","q","pages/open-course/peerReview/data/api"],function(require,exports,module){var e=require("bundles/phoenix/template/models/userIdentity"),t=require("q"),s=require("pages/open-course/peerReview/data/api");module.exports=function(i,p){return e.get("authenticated")?s.getReviews(i,p):t({})}});
define("pages/open-course/peerReview/models/reviewRating",["require","exports","module","backbone"],function(require,exports,module){var Backbone=require("backbone"),e=Backbone.Model.extend({defaults:{rating:void 0}});module.exports=e});

define("nls/code-evaluator",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/cml",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});



define("pages/open-course/peerReview/reviewTypes/structured/partTypes/multiLineInput/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/multiLineInput/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/options/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/options/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/singleLineInput/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/singleLineInput/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/yesNo/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("pages/open-course/peerReview/reviewTypes/structured/partTypes/yesNo/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={}});
define("nls/peer-admin",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("pages/open-course/peerReview/reviewTypes/factories/reviewsFactory",["require","exports","module","underscore","pages/open-course/peerReview/models/reviewRating","pages/open-course/peerReview/reviewTypes/getReviewTypeConfig"],function(require,exports,module){var _=require("underscore"),e=require("pages/open-course/peerReview/models/reviewRating"),r=require("pages/open-course/peerReview/reviewTypes/getReviewTypeConfig"),i=function reviewsFactory(i){var n=[];_(i.reviews).each(function(e){var s=r(e.typeName),t=s.Review,o=new t(_({}).extend(e,e.definition,{creator:_(i.userProfiles).findWhere({userId:e.creatorId})}),{parse:!0}),a=o.get("id");n.push(o)});var o=_(i.reviewRatings).chain().map(function(e){return[e.reviewId,e]}).object().value(),s=_(n).chain().map(function(i){var r=i.get("id"),n=o[r]||{reviewId:r};return[r,new e(n)]}).object().value();return{reviews:n,reviewRatings:s}};module.exports=i});
define("pages/open-course/peerReview/reviewTypes/base/promises/reviews",["require","exports","module","pages/open-course/peerReview/data/reviews","pages/open-course/peerReview/reviewTypes/factories/reviewsFactory"],function(require,exports,module){var e=require("pages/open-course/peerReview/data/reviews"),r=require("pages/open-course/peerReview/reviewTypes/factories/reviewsFactory");module.exports=function(s,i){return e(s,i).then(r)}});
define("pages/open-course/peerReview/reviewTypes/factories/schemaFactory",["require","exports","module","underscore","pages/open-course/peerReview/reviewTypes/getReviewTypeConfig"],function(require,exports,module){var _=require("underscore"),e=require("pages/open-course/peerReview/reviewTypes/getReviewTypeConfig"),r=function schemaFactory(r){r=r||{typeName:"structured"};var i=e(r.typeName).Schema;return new i(_({}).extend(r.definition),{parse:!0})};module.exports=r});
define("pages/open-course/peerReview/submissionTypes/base/models/submissionSchema",["require","exports","module","backbone-associations"],function(require,exports,module){var Backbone=require("backbone-associations"),e=Backbone.AssociatedModel.extend({typeName:void 0});module.exports=e});
define("pages/open-course/peerReview/submissionTypes/multipart/models/partCollection",["require","exports","module","backbone","underscore"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),e=Backbone.Collection.extend({ordered:!1,parse:function parse(e){var t=_(e).map(function(e,t){return _({}).extend(e.definition,{id:t,typeName:e.typeName})});return this.ordered?_(t).sortBy(function(t){return e[t.id].order}):t},toJSON:function toJSON(){var e=this.map(function(e){return[e.get("id"),{typeName:e.get("typeName"),definition:_(e.toJSON()).omit("id","typeName")}]});return _(e).object()}});module.exports=e});
define("pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmissionSchema",["require","exports","module","backbone-associations"],function(require,exports,module){var Backbone=require("backbone-associations"),e=Backbone.AssociatedModel.extend({typeName:void 0});module.exports=e});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/models/submissionSchema",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmissionSchema"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmissionSchema"),s=e.extend({typeName:"fileUpload"});module.exports=s});
define("pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmission",["require","exports","module","backbone-associations"],function(require,exports,module){var Backbone=require("backbone-associations"),e=Backbone.AssociatedModel.extend({typeName:void 0});module.exports=e});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/models/submission",["require","exports","module","underscore","pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmission"],function(require,exports,module){var _=require("underscore"),e=require("pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmission"),s=e.extend({typeName:"fileUpload",defaults:{fileUrl:"",title:"",caption:""},isEmpty:function isEmpty(){return!!_([this.attributes]).findWhere(this.defaults)},getFilename:function getFilename(){return this.get("fileUrl").split("/").pop()},getDisplayTitle:function getDisplayTitle(){return this.get("title")||this.getFilename()}});module.exports=s});
define("pages/open-course/peerReview/components/inlineValidationErrors/views/nls/inlineValidationErrors",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(r){var e=function(e,r,i){var n=function template(t){var i=[],s={},o,n=t||{};return function(r,n,t){r&&i.push('<div class="bt3-has-error"><div class="bt3-help-block">'+e.escape(null==(o=n(t))?"":o)+"</div></div>")}.call(this,"hasErrors"in n?n.hasErrors:"undefined"!=typeof hasErrors?hasErrors:void 0,"_t"in n?n._t:"undefined"!=typeof r?r:void 0,"errorString"in n?n.errorString:"undefined"!=typeof errorString?errorString:void 0),i.join("")};return function(e){return e&&"_t"in e&&(r=e._t.merge(r)),n(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors.html',["js/vendor/jade","i18n!pages/open-course/peerReview/components/inlineValidationErrors/views/nls/inlineValidationErrors"],function(r,n){var i;return e(r,n,i)}):r.jade.templates["pages.open-course.peerReview.components.inlineValidationErrors.views.inlineValidationErrors"]=e(r.jade.helpers)}(window);
define("pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors",["require","exports","module","underscore","bundles/phoenix/lib/view","pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors.html"],function(require,exports,module){var _=require("underscore"),e=require("bundles/phoenix/lib/view"),r=require("pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors.html"),i=e.extend({template:r,templateOptions:function templateOptions(){var e=this.errorTree.getRootErrors();return{hasErrors:!_(e).isEmpty(),errorString:_(e).map(_.property("errorMessage")).join(" ")}},initialize:function initialize(e){_(this).extend(_(e).pick("errorTree")),this.listenTo(this.errorTree,"change",this.render)}});module.exports=i});

define('css!bundles/peer/components/__styles__/GradingCriteriaPreviewModal',[],function(){})
define("bundles/peer/components/GradingCriteriaPreviewModal",["require","exports","module","backbone","react","bundles/phoenix/components/Content","bundles/phoenix/components/Modal","i18n!nls/ondemand","css!./__styles__/GradingCriteriaPreviewModal"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,r,Backbone=require("backbone"),e=require("react"),o=require("bundles/phoenix/components/Content"),i=require("bundles/phoenix/components/Modal"),t=require("i18n!nls/ondemand");require("css!./__styles__/GradingCriteriaPreviewModal");var a=(r=n=function(r){function GradingCriteriaPreviewModal(){var n,e,o;_classCallCheck(this,GradingCriteriaPreviewModal);for(var i=arguments.length,a=Array(i),t=0;i>t;t++)a[t]=arguments[t];return n=e=_possibleConstructorReturn(this,r.call.apply(r,[this].concat(a))),e.state={showModal:!1},e.onClickModalOpen=function(t){t.preventDefault(),e.setState({showModal:!0})},e.onClickModalClose=function(){e.setState({showModal:!1})},o=n,_possibleConstructorReturn(e,o)}return _inherits(GradingCriteriaPreviewModal,r),GradingCriteriaPreviewModal.prototype.render=function render(){if(0===this.props.criteria.length)return!1;return e.createElement("div",{className:"rc-GradingCriteriaPreviewModal"},e.createElement("button",{onClick:this.onClickModalOpen,className:"button-link"},t("Preview grading criteria")),this.state.showModal&&e.createElement(i,{handleClose:this.onClickModalClose,modalName:t("Preview grading criteria")},e.createElement("h1",null,"Preview grading criteria"),this.props.privilegedRoleViewReviewSchema&&e.createElement("div",{className:"criteria-warning color-warn-dark"},t("You can preview the grading criteria because you have a privileged role in this course. Normal\n                  learners cannot see the grading criteria until they submit a submission.")),this.props.criteria.map(function(t){return e.createElement("div",{className:"criterion card-no-action compact",key:t.get("id")},e.createElement(o,{content:t.get("prompt"),assumeStringIsHtml:!1}))})))},GradingCriteriaPreviewModal}(e.Component),n.propTypes={criteria:e.PropTypes.arrayOf(e.PropTypes.instanceOf(Backbone.Model)).isRequired,privilegedRoleViewReviewSchema:e.PropTypes.bool.isRequired},r);module.exports=a});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var t=function(e,t,a){var i=function template(d){var a=[],o={},i,r=d||{};return function(t){a.push('<div><div data-rc="GradingCriteriaPreviewModal"></div><div data-js="prompt" class="c-peer-review-submit-prompt"></div></div><div data-js="file-upload-error"></div><div data-js="uploader-container" class="c-peer-review-submit-upload-field c-peer-review-submit-text-field c-peer-review-submit-text-field-group-top"></div><div data-js="hide-on-empty-model" class="c-peer-review-submit-text-field-container"><input type="text"'+e.attr("placeholder",t("Title"),!0,!1)+' data-js="title" class="c-peer-review-submit-text-field c-peer-review-submit-text-field-group-middle bt3-form-control"/><div data-js="show-on-empty-title" class="c-peer-review-submit-text-field-annotation">'+e.escape(null==(i=t("optional"))?"":i)+'</div></div><div data-js="hide-on-empty-model" class="c-peer-review-submit-text-field-container"><textarea'+e.attr("placeholder",t("Caption"),!0,!1)+' data-js="caption" class="c-peer-review-submit-text-field c-peer-review-submit-text-field-group-bottom bt3-form-control"></textarea><div data-js="show-on-empty-caption" class="c-peer-review-submit-text-field-annotation">'+e.escape(null==(i=t("optional"))?"":i)+"</div></div>")}.call(this,"_t"in r?r._t:"undefined"!=typeof t?t:void 0),a.join("")};return function(e){return e&&"_t"in e&&(t=e._t.merge(t)),i(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/edit.html',["js/vendor/jade","i18n!pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/nls/edit"],function(e,i){var a;return t(e,i,a)}):e.jade.templates["pages.open-course.peerReview.submissionTypes.multipart.partTypes.fileUpload.views.edit"]=t(e.jade.helpers)}(window);
define("bundles/phoenix/components/fileUploader/viewModels/uploader",["require","exports","module","backbone","js/lib/fsm","underscore"],function(require,exports,module){var Backbone=require("backbone"),e=require("js/lib/fsm"),_=require("underscore"),o=Backbone.Model.extend(_.extend({},e.FiniteStateMachine,{fsm:{states:["ready","uploading","upload-error","uploaded"],transitions:{ready:["uploaded","uploading"],uploading:["ready","upload-error"],"upload-error":["ready","uploading"],uploaded:["uploading"]}},defaults:{state:"ready",progress:0},initialize:function initialize(e){_(this).bindAll("onUploadStart","onUploadProgress","onUploadSuccess","onUploadError"),this.contentModel=e.contentModel,this.contentModel.get("fileUrl")&&this.set("state","uploaded")},onUploadStart:function onUploadStart(){this.set("progress",0),this.transition("uploading"),this.trigger("start")},onUploadProgress:function onUploadProgress(e){var o=100*e.bytes_received/e.bytes_expected;this.set("progress",o),this.trigger("progress",o,e)},onUploadSuccess:function onUploadSuccess(e){var o=e.results[":original"];this.contentModel.set("fileUrl",o&&o[0].url),this.contentModel.set("assembly",e),this.contentModel.set("originalFileName",e.uploads[0].name),this.uploader.reset(),this.transition("uploaded"),this.trigger("success",e)},onUploadError:function onUploadError(e){var o=this.isState("uploading");this.transitionIfNot("upload-error"),this.contentModel.set("fileUrl",""),o&&this.uploader.cancel(),this.uploader.reset(),this.trigger("error",e)},attachUploader:function attachUploader(e){this.uploader=e,e.on("start",this.onUploadStart),e.on("progress",this.onUploadProgress),e.on("success",this.onUploadSuccess),e.on("error",this.onUploadError)},detachUploader:function detachUploader(){this.uploader&&(this.uploader.off("start",this.onUploadStart),this.uploader.off("progress",this.onUploadProgress),this.uploader.off("success",this.onUploadSuccess),this.uploader.off("error",this.onUploadError),this.uploader=null)},removeFile:function removeFile(){this.transition("ready"),this.contentModel.set("fileUrl",""),this.uploader.reset()}}));module.exports=o});
define("bundles/phoenix/components/fileUploader/views/nls/uploader",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var a=function(a,e,s){var n=function template(l){var t=[],r={},n,s=l||{};return function(e,s){t.push('<span data-state="upload-error" class="c-peer-review-submit-upload-error">'+a.escape(null==(n=e("There was an error. Please try again."))?"":n)+'</span><form data-js="upload-form"><a data-js="upload" data-state="ready upload-error"'+a.cls(["link-button","primary","c-upload-button",s],[null,null,null,!0])+'><span data-js="upload-label">'+a.escape(null==(n=e("Upload file"))?"":n)+'</span><input type="file" name="file" multiple="false"/></a></form><div data-state="uploading" class="bt3-progress"><div data-js="progress" role="progress" class="bt3-progress-bar"></div></div><span data-state="uploaded"><a data-js="file-preview-anchor" target="_blank" class="cif-file-o">&nbsp;<span data-js="file-preview-title"></span></a><span data-js="remove" class="c-peer-review-submit-upload-remove">&times;</span></span>')}.call(this,"_t"in s?s._t:"undefined"!=typeof e?e:void 0,"buttonClass"in s?s.buttonClass:"undefined"!=typeof buttonClass?buttonClass:void 0),t.join("")};return function(a){return a&&"_t"in a&&(e=a._t.merge(e)),n(a)}};"function"==typeof define&&define.amd?define('bundles/phoenix/components/fileUploader/views/uploader.html',["js/vendor/jade","i18n!bundles/phoenix/components/fileUploader/views/nls/uploader"],function(e,n){var s;return a(e,n,s)}):e.jade.templates["bundles.phoenix.components.fileUploader.views.uploader"]=a(e.jade.helpers)}(window);
define("bundles/phoenix/components/fileUploader/views/uploader",["require","exports","module","jquery","bundles/phoenix/components/fileUploader/constants","bundles/phoenix/components/fileUploader/viewModels/uploader","bundles/phoenix/components/fileUploader/views/uploader.html","bundles/phoenix/lib/view","js/lib/fsm","js/lib/transloadit"],function(require,exports,module){var $=require("jquery"),e=require("bundles/phoenix/components/fileUploader/constants"),i=require("bundles/phoenix/components/fileUploader/viewModels/uploader"),s=require("bundles/phoenix/components/fileUploader/views/uploader.html"),t=require("bundles/phoenix/lib/view"),o=require("js/lib/fsm"),l=require("js/lib/transloadit"),n=t.extend({template:s,events:{'click [data-js="file-preview-anchor"]':"previewAnchorClicked",'click [data-js="remove"]':"removeFile"},initialize:function initialize(e){this.transloaditParams=e.transloaditParams,this.itemMetadata=e.itemMetadata,this.inputViewModel=e.inputViewModel,this.viewModel=e.viewModel||new i({contentModel:this.model}),this.listenTo(this.viewModel,"change:"+this.viewModel.stateProperty,this.renderState),this.listenTo(this.model,"change:fileUrl",this.renderFileUrl),this.listenTo(this.model,"change:buttonLabel",this.updateButtonLabel),this.listenTo(this.model,"reset",this.reset),this.listenTo(this.viewModel,"change:progress",this.renderProgress),this.listenTo(this.inputViewModel,"change:inputDisabled",this.updateInputs)},previewAnchorClicked:function previewAnchorClicked(e){this.inputViewModel.get("inputDisabled")&&e.preventDefault()},reset:function reset(){if(this.inputViewModel.get("inputDisabled"))return;this.viewModel.removeFile()},removeFile:function removeFile(e){e.preventDefault(),this.reset()},updateInputs:function updateInputs(t,e){this.$$("upload").attr("disabled",e)},renderFileUrl:function renderFileUrl(){this.$$("file-preview-anchor").attr("href",this.model.get("fileUrl")),this.$$("file-preview-title").text(this.model.getFilename())},renderProgress:function renderProgress(){var e=this.viewModel.get("progress"),t=Math.min(Math.max(e,5),95).toFixed(2);this.$$("progress").css("width",t+"%")},updateButtonLabel:function updateButtonLabel(){var e=this.model.get("buttonLabel");e&&this.$$("upload-label").text(e)},state:function state(){return this.viewModel.get("state")},render:function render(){this.$el.html(this.template({buttonClass:this.model.get("buttonClass")||"bt3-btn bt3-btn-primary"})),this.initializeTransloadit(),this.renderFileUrl(),this.renderProgress(),this.renderFsm(),this.renderState(),this.renderFileUrl()},initializeTransloadit:function initializeTransloadit(){var t={params:{auth:{key:e.transloaditKey},template_id:e.peerReviewTransloaditTemplateId,fields:{phoenix_course_id:this.itemMetadata.get("course").get("id")}}},i=$.extend(!0,{},t,this.transloaditParams),s=l(this.$$("upload"),i);this.viewModel.attachUploader(s)},remove:function remove(){this.viewModel.detachUploader(),t.prototype.remove.call(this)}});module.exports=n});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/edit",["require","exports","module","underscore","bundles/phoenix/lib/view","js/lib/fsm","js/lib/transloadit","bundles/phoenix/lib/renderContent","pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors","bundles/peer/components/GradingCriteriaPreviewModal","pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/edit.html","bundles/phoenix/components/fileUploader/views/uploader"],function(require,exports,module){var _=require("underscore"),t=require("bundles/phoenix/lib/view"),a=require("js/lib/fsm"),r=require("js/lib/transloadit"),s=require("bundles/phoenix/lib/renderContent"),e=require("pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors"),o=require("bundles/peer/components/GradingCriteriaPreviewModal"),l=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/edit.html"),i=require("bundles/phoenix/components/fileUploader/views/uploader"),n=t.extend({template:l,bindings:{'[data-js="title"]':"title",'[data-js="caption"]':"caption"},classes:{textFieldGroupTop:"c-peer-review-submit-text-field-group-top"},savedFileUrl:"",savedTitle:"",savedCaption:"",initialize:function initialize(e){_(this).extend(_(e).pick("submissionSchema","reviewSchemaParts","inputViewModel","itemMetadata","errorTree","privilegedRoleViewReviewSchema")),this.listenTo(this.model,"change",this.updateFieldVisibility),this.listenTo(this.inputViewModel,"change:inputDisabled",this.updateInputs),this.savedFileUrl=this.model.get("fileUrl"),this.savedTitle=this.model.get("title"),this.savedCaption=this.model.get("caption"),this.model.on("onSave",function(){this.savedFileUrl=this.model.get("fileUrl"),this.savedTitle=this.model.get("title"),this.savedCaption=this.model.get("caption")}.bind(this))},updateInputs:function updateInputs(i,e){this.$$("title").attr("disabled",e),this.$$("caption").attr("disabled",e),this.$$("uploader-container").toggleClass("disabled",e)},updateFieldVisibility:function updateFieldVisibility(){var e=this.model.isEmpty();this.$$("uploader-container").toggleClass(this.classes.textFieldGroupTop,!e),this.$$("hide-on-empty-model").toggle(!e);var i=!!this.model.get("title");this.$$("show-on-empty-title").toggle(!i);var t=this.model.get("caption");this.$$("show-on-empty-caption").toggle(!t)},renderSubviews:function renderSubviews(){this.region.append(e,{initialize:{errorTree:this.errorTree},to:this.$$("file-upload-error"),module:e}),this.region.append(i,{to:this.$$("uploader-container"),initialize:{itemMetadata:this.itemMetadata,model:this.model,inputViewModel:this.inputViewModel},module:i}),this.renderReactInto(o,"GradingCriteriaPreviewModal",{criteria:this.reviewSchemaParts,privilegedRoleViewReviewSchema:this.privilegedRoleViewReviewSchema})},postRender:function postRender(){this.updateFieldVisibility(),s(this.submissionSchema.get("prompt"),this.$$("prompt"))},hasUnsavedModel:function hasUnsavedModel(){return this.model.get("fileUrl")!==this.savedFileUrl||this.model.get("title")!==this.savedTitle||this.model.get("caption")!==this.savedCaption}});module.exports=n});
define("pages/open-course/peerReview/components/embeddedContent/views/nls/embeddedContentImg",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/components/embeddedContent/views/nls/embeddedContentLink",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/components/embeddedContent/views/nls/embeddedContentIframe",["require","exports","module"],function(require,exports,module){module.exports={}});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(e){var i=function(r,e,s){var i=function template(i){var e=[],r={},s;return e.push('<div data-js="prompt" class="c-peer-review-review-prompt"></div><div data-js="file-upload-error"></div><div class="c-peer-review-review-response"><div data-js="embedded"></div><div data-js="caption" class="c-peer-review-review-response-plain-text"></div></div>'),e.join("")};return function(r){return r&&"_t"in r&&(e=r._t.merge(e)),i(r)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/review.html',["js/vendor/jade","i18n!pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/nls/review"],function(e,r){var s;return i(e,r,s)}):e.jade.templates["pages.open-course.peerReview.submissionTypes.multipart.partTypes.fileUpload.views.review"]=i(e.jade.helpers)}(window);
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/review",["require","exports","module","underscore","bundles/phoenix/lib/view","bundles/phoenix/lib/renderContent","pages/open-course/peerReview/components/embeddedContent/views/embeddedContent","pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors","pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/review.html"],function(require,exports,module){var _=require("underscore"),s=require("bundles/phoenix/lib/view"),n=require("bundles/phoenix/lib/renderContent"),e=require("pages/open-course/peerReview/components/embeddedContent/views/embeddedContent"),i=require("pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors"),t=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/review.html"),o=s.extend({template:t,initialize:function initialize(e){_(this).extend(_(e).pick("errorTree","submissionSchema","submission")),this.listenTo(this.submission,"change",this.updateContents)},renderSubviews:function renderSubviews(){this.region.append(i,{initialize:{errorTree:this.errorTree},to:this.$$("file-upload-error"),module:i})},postRender:function postRender(){this.updateContents(),n(this.submissionSchema.get("prompt"),this.$$("prompt"))},updateContents:function updateContents(){this.$$("caption").text(this.submission.get("caption")),this.$$("embedded").empty(),this.region.append(e,{to:this.$$("embedded"),initialize:{text:this.submission.getDisplayTitle(),url:this.submission.get("fileUrl")},module:e})}});module.exports=o});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/config",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/models/submissionSchema","pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/models/submission","pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/edit","pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/review"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/models/submissionSchema"),s=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/models/submission"),i=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/edit"),p=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/views/review");module.exports={EditView:i,ReviewView:p,SubmissionSchema:e,Submission:s}});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/models/submissionSchema",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmissionSchema"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmissionSchema"),s=e.extend({typeName:"plainText"});module.exports=s});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/models/submission",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmission"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmission"),s=e.extend({typeName:"plainText",defaults:{plainText:""}});module.exports=s});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(e){var t=function(i,e,r){var t=function template(t){var e=[],i={},r;return e.push('<div><div data-rc="GradingCriteriaPreviewModal"></div><div data-js="prompt" class="c-peer-review-submit-prompt"></div></div><div data-js="plain-text-error"></div><textarea data-js="text-input" class="c-peer-review-submit-text-field bt3-form-control"></textarea>'),e.join("")};return function(i){return i&&"_t"in i&&(e=i._t.merge(e)),t(i)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/edit.html',["js/vendor/jade","i18n!pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/nls/edit"],function(e,i){var r;return t(e,i,r)}):e.jade.templates["pages.open-course.peerReview.submissionTypes.multipart.partTypes.plainText.views.edit"]=t(e.jade.helpers)}(window);
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/edit",["require","exports","module","underscore","bundles/phoenix/lib/view","bundles/phoenix/lib/renderContent","pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors","bundles/peer/components/GradingCriteriaPreviewModal","pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/edit.html"],function(require,exports,module){var _=require("underscore"),i=require("bundles/phoenix/lib/view"),t=require("bundles/phoenix/lib/renderContent"),e=require("pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors"),n=require("bundles/peer/components/GradingCriteriaPreviewModal"),s=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/edit.html"),r=i.extend({template:s,bindings:{'[data-js="text-input"]':"plainText"},lastSave:"",initialize:function initialize(e){_(this).extend(_(e).pick("submissionSchema","reviewSchemaParts","inputViewModel","errorTree","privilegedRoleViewReviewSchema")),this.listenTo(this.inputViewModel,"change:inputDisabled",this.updateInputs),this.lastSave=this.model.get("plainText"),this.model.on("onSave",function(){this.lastSave=this.model.get("plainText")}.bind(this))},updateInputs:function updateInputs(i,e){this.$$("text-input").attr("disabled",e)},renderSubviews:function renderSubviews(){this.region.append(e,{initialize:{errorTree:this.errorTree},to:this.$$("plain-text-error"),module:e}),this.renderReactInto(n,"GradingCriteriaPreviewModal",{criteria:this.reviewSchemaParts,privilegedRoleViewReviewSchema:this.privilegedRoleViewReviewSchema})},hasUnsavedModel:function hasUnsavedModel(){return this.model.get("plainText")!==this.lastSave},postRender:function postRender(){t(this.submissionSchema.get("prompt"),this.$$("prompt"))}});module.exports=r});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(e){var i=function(r,e,n){var i=function template(i){var e=[],r={},n;return e.push('<div data-js="prompt" class="c-peer-review-review-prompt"></div><div data-js="plain-text-error"></div><div data-js="simple-text" class="c-peer-review-review-response c-peer-review-review-response-plain-text"></div>'),e.join("")};return function(r){return r&&"_t"in r&&(e=r._t.merge(e)),i(r)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/review.html',["js/vendor/jade","i18n!pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/nls/review"],function(e,r){var n;return i(e,r,n)}):e.jade.templates["pages.open-course.peerReview.submissionTypes.multipart.partTypes.plainText.views.review"]=i(e.jade.helpers)}(window);
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/review",["require","exports","module","underscore","bundles/phoenix/lib/view","bundles/phoenix/lib/renderContent","pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors","pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/review.html"],function(require,exports,module){var _=require("underscore"),i=require("bundles/phoenix/lib/view"),s=require("bundles/phoenix/lib/renderContent"),e=require("pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors"),n=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/review.html"),t=i.extend({template:n,initialize:function initialize(e){_(this).extend(_(e).pick("errorTree","submissionSchema","submission")),this.listenTo(this.submission,"change",this.updateContents)},renderSubviews:function renderSubviews(){this.region.append(e,{initialize:{errorTree:this.errorTree},to:this.$$("plain-text-error"),module:e})},postRender:function postRender(){this.updateContents(),s(this.submissionSchema.get("prompt"),this.$$("prompt"))},updateContents:function updateContents(){this.$$("simple-text").text(this.submission.get("plainText"))}});module.exports=t});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/config",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/models/submissionSchema","pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/models/submission","pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/edit","pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/review"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/models/submissionSchema"),s=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/models/submission"),i=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/edit"),p=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/views/review");module.exports={EditView:i,ReviewView:p,SubmissionSchema:e,Submission:s}});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/models/submissionSchema",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmissionSchema"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmissionSchema"),s=e.extend({typeName:"richText"});module.exports=s});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/models/submission",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmission"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmission"),s=e.extend({typeName:"richText",defaults:{richText:""}});module.exports=s});
define("bundles/assess/lib/constants",["require","exports","module"],function(require,exports,module){module.exports={defaultUserHtmlClass:"coursera-assess-user",legacyUserHtmlClass:"coursera-assess-user-legacy",htmlGuideLink:"https://instructor-support.desk.com/customer/portal/articles/1441676#html"}});
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e){var t=function wysihtml5_init(){var n=e.document,t={version:"0.4.0pre",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function EMPTY_FUNCTION(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46},o=function(){function isHostMethod(t,n){var e=_typeof(t[n]);return e==f||!(e!=c||!t[n])||"unknown"==e}function isHostObject(e,t){return!(_typeof(e[t])!=c||!e[t])}function isHostProperty(e,t){return _typeof(e[t])!=r}function createMultiplePropertyTest(e){return function(r,t){for(var n=t.length;n--;)if(!e(r,t[n]))return!1;return!0}}function isTextRange(e){return e&&i(e,g)&&o(e,m)}function fail(n){e.alert("Rangy not supported in your browser. Reason: "+n),t.initialized=!0,t.supported=!1}function warn(o){var n="Rangy warning: "+o;t.config.alertOnWarn?e.alert(n):_typeof(e.console)!=r&&_typeof(window.console.log)!=r&&e.console.log(n)}function init(){if(t.initialized)return;var r,s=!1,a=!1;isHostMethod(n,"createRange")&&(r=n.createRange(),i(r,h)&&o(r,v)&&(s=!0),r.detach());var c=isHostObject(n,"body")?n.body:n.getElementsByTagName("body")[0];c&&isHostMethod(c,"createTextRange")&&(r=c.createTextRange(),isTextRange(r)&&(a=!0)),s||a||fail("Neither Range nor TextRange are implemented"),t.initialized=!0,t.features={implementsDomRange:s,implementsTextRange:a};for(var f=u.concat(l),d=0,m=f.length;m>d;++d)try{f[d](t)}catch(g){isHostObject(e,"console")&&isHostMethod(window.console,"log")&&e.console.log("Init listener threw an exception. Continuing.",g)}}function createMissingNativeApi(t){t=t||e,init();for(var n=0,r=a.length;r>n;++n)a[n](t)}function Module(e){this.name=e,this.initialized=!1,this.supported=!1}var c="object",f="function",r="undefined",v=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],h=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],m=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],g=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],i=createMultiplePropertyTest(isHostMethod),p=createMultiplePropertyTest(isHostObject),o=createMultiplePropertyTest(isHostProperty),t={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:isHostMethod,isHostObject:isHostObject,isHostProperty:isHostProperty,areHostMethods:i,areHostObjects:p,areHostProperties:o,isTextRange:isTextRange},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};t.fail=fail,t.warn=warn,{}.hasOwnProperty?t.util.extend=function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])}:fail("hasOwnProperty not supported");var l=[],u=[];t.init=init,t.addInitListener=function(e){t.initialized?e(t):l.push(e)};var a=[];t.addCreateMissingNativeApiListener=function(e){a.push(e)},t.createMissingNativeApi=createMissingNativeApi,Module.prototype.fail=function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},Module.prototype.warn=function(e){t.warn("Module "+this.name+": "+e)},Module.prototype.createError=function(e){return new Error("Error in Rangy "+this.name+" module: "+e)},t.createModule=function(e,n){var module=new Module(e);t.modules[e]=module,u.push(function(e){n(e,module),module.initialized=!0,module.supported=!0})},t.requireModules=function(r){for(var n=0,o=r.length,module,e;o>n;++n){if(e=r[n],module=t.modules[e],!(module&&module instanceof Module))throw new Error("Module '"+e+"' not found");if(!module.supported)throw new Error("Module '"+e+"' not supported")}};var d=!1,s=function loadHandler(e){d||(d=!0,t.initialized||init())};if(("undefined"==typeof e?"undefined":_typeof(e))==r)return void fail("No window found");if(("undefined"==typeof n?"undefined":_typeof(n))==r)return void fail("No document found");return isHostMethod(n,"addEventListener")&&n.addEventListener("DOMContentLoaded",s,!1),isHostMethod(e,"addEventListener")?e.addEventListener("load",s,!1):isHostMethod(e,"attachEvent")?e.attachEvent("onload",s):fail("Window does not have required addEventListener or attachEvent method"),t}();o.createModule("DomUtil",function(o,module){function isHtmlNamespace(e){var n;return _typeof(e.namespaceURI)==t||null===(n=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==n}function parentElement(t){var e=t.parentNode;return 1==e.nodeType?e:null}function getNodeIndex(e){for(var t=0;e=e.previousSibling;)t++;return t}function getNodeLength(e){var t;return isCharacterDataNode(e)?e.length:(t=e.childNodes)?t.length:0}function getCommonAncestor(n,r){var t=[],e;for(e=n;e;e=e.parentNode)t.push(e);for(e=r;e;e=e.parentNode)if(i(t,e))return e;return null}function isAncestorOf(n,t,r){for(var e=r?t:t.parentNode;e;){if(e===n)return!0;e=e.parentNode}return!1}function getClosestAncestorIn(n,r,o){for(var t,e=o?n:n.parentNode;e;){if(t=e.parentNode,t===r)return e;e=t}return null}function isCharacterDataNode(t){var e=t.nodeType;return 3==e||4==e||8==e}function insertAfter(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function splitDataNode(e,t){var n=e.cloneNode(!1);return n.deleteData(0,t),e.deleteData(t,e.length-t),insertAfter(n,e),n}function getDocument(e){if(9==e.nodeType)return e;if(_typeof(e.ownerDocument)!=t)return e.ownerDocument;if(_typeof(e.document)!=t)return e.document;if(e.parentNode)return getDocument(e.parentNode);throw new Error("getDocument: no document found for node")}function getWindow(n){var e=getDocument(n);if(_typeof(e.defaultView)!=t)return e.defaultView;if(_typeof(e.parentWindow)!=t)return e.parentWindow;throw new Error("Cannot get a window object for node")}function getIframeDocument(e){if(_typeof(e.contentDocument)!=t)return e.contentDocument;if(_typeof(e.contentWindow)!=t)return e.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function getIframeWindow(e){if(_typeof(e.contentWindow)!=t)return e.contentWindow;if(_typeof(e.contentDocument)!=t)return e.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function getBody(t){return e.isHostObject(t,"body")?t.body:t.getElementsByTagName("body")[0]}function getRootContainer(e){for(var t;t=e.parentNode;)e=t;return e}function comparePoints(t,i,n,s){var o,e,a,c,r;if(t==n)return i===s?0:s>i?-1:1;if(o=getClosestAncestorIn(n,t,!0))return i<=getNodeIndex(o)?-1:1;if(o=getClosestAncestorIn(t,n,!0))return getNodeIndex(o)<s?-1:1;if(e=getCommonAncestor(t,n),a=t===e?e:getClosestAncestorIn(t,e,!0),c=n===e?e:getClosestAncestorIn(n,e,!0),a===c)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(r=e.firstChild;r;){if(r===a)return-1;if(r===c)return 1;r=r.nextSibling}throw new Error("Should not be here!")}function fragmentFromNodeChildren(e){for(var t=getDocument(e).createDocumentFragment(),n;n=e.firstChild;)t.appendChild(n);return t}function inspectNode(e){if(!e)return"[No node]";if(isCharacterDataNode(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">["+e.childNodes.length+"]"}return e.nodeName}function NodeIterator(e){this.root=e,this._next=e}function createIterator(e){return new NodeIterator(e)}function DomPosition(e,t){this.node=e,this.offset=t}function DOMException(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var t="undefined",e=o.util;e.areHostMethods(n,["createDocumentFragment","createElement","createTextNode"])||module.fail("document missing a Node creation method"),e.isHostMethod(n,"getElementsByTagName")||module.fail("document missing getElementsByTagName method");var r=n.createElement("div");e.areHostMethods(r,["insertBefore","appendChild","cloneNode"]||!e.areHostObjects(r,["previousSibling","nextSibling","childNodes","parentNode"]))||module.fail("Incomplete Element implementation"),e.isHostProperty(r,"innerHTML")||module.fail("Element is missing innerHTML property");var s=n.createTextNode("test");e.areHostMethods(s,["splitText","deleteData","insertData","appendData","cloneNode"]||!e.areHostObjects(r,["previousSibling","nextSibling","childNodes","parentNode"])||!e.areHostProperties(s,["data"]))||module.fail("Incomplete Text Node implementation");var i=function arrayContains(e,n){for(var t=e.length;t--;)if(e[t]===n)return!0;return!1};NodeIterator.prototype={_current:null,hasNext:function hasNext(){return!!this._next},next:function next(){var e=this._current=this._next,t,next;if(this._current)if(t=e.firstChild)this._next=t;else{for(next=null;e!==this.root&&!(next=e.nextSibling);)e=e.parentNode;this._next=next}return this._current},detach:function detach(){this._current=this._next=this.root=null}},DomPosition.prototype={equals:function equals(e){return this.node===e.node&this.offset==e.offset},inspect:function inspect(){return"[DomPosition("+inspectNode(this.node)+":"+this.offset+")]"}},DOMException.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},DOMException.prototype.toString=function(){return this.message},o.dom={arrayContains:i,isHtmlNamespace:isHtmlNamespace,parentElement:parentElement,getNodeIndex:getNodeIndex,getNodeLength:getNodeLength,getCommonAncestor:getCommonAncestor,isAncestorOf:isAncestorOf,getClosestAncestorIn:getClosestAncestorIn,isCharacterDataNode:isCharacterDataNode,insertAfter:insertAfter,splitDataNode:splitDataNode,getDocument:getDocument,getWindow:getWindow,getIframeWindow:getIframeWindow,getIframeDocument:getIframeDocument,getBody:getBody,getRootContainer:getRootContainer,comparePoints:comparePoints,inspectNode:inspectNode,fragmentFromNodeChildren:fragmentFromNodeChildren,createIterator:createIterator,DomPosition:DomPosition},o.DOMException=DOMException}),o.createModule("DomRange",function(r,module){function isNonTextPartiallySelected(t,n){return 3!=t.nodeType&&(e.isAncestorOf(t,n.startContainer,!0)||e.isAncestorOf(t,n.endContainer,!0))}function getRangeDocument(t){return e.getDocument(t.startContainer)}function dispatchEvent(e,r,o){var t=e._listeners[r];if(t)for(var n=0,i=t.length;i>n;++n)t[n].call(e,{target:e,args:o})}function getBoundaryBeforeNode(t){return new d(t.parentNode,e.getNodeIndex(t))}function getBoundaryAfterNode(t){return new d(t.parentNode,e.getNodeIndex(t)+1)}function insertNodeAtPosition(n,t,r){var o=11==n.nodeType?n.firstChild:n;return e.isCharacterDataNode(t)?r==t.length?e.insertAfter(n,t):t.parentNode.insertBefore(n,0===r?t:e.splitDataNode(t,r)):r>=t.childNodes.length?t.appendChild(n):t.insertBefore(n,t.childNodes[r]),o}function cloneSubtree(n){for(var r,e,i=getRangeDocument(n.range).createDocumentFragment(),o;e=n.next();){if(r=n.isPartiallySelectedSubtree(),e=e.cloneNode(!r),r&&(o=n.getSubtreeIterator(),e.appendChild(cloneSubtree(o)),o.detach(!0)),10==e.nodeType)throw new t("HIERARCHY_REQUEST_ERR");i.appendChild(e)}return i}function iterateSubtree(n,r,t){var s,a;t=t||{stop:!1};for(var o,i;o=n.next();)if(n.isPartiallySelectedSubtree()){if(r(o)===!1)return void(t.stop=!0);if(i=n.getSubtreeIterator(),iterateSubtree(i,r,t),i.detach(!0),t.stop)return}else for(s=e.createIterator(o);a=s.next();)if(r(a)===!1)return void(t.stop=!0)}function deleteSubtree(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),deleteSubtree(t),t.detach(!0)):e.remove()}function extractSubtree(n){for(var e,o=getRangeDocument(n.range).createDocumentFragment(),r;e=n.next();){if(n.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),r=n.getSubtreeIterator(),e.appendChild(extractSubtree(r)),r.detach(!0)):n.remove(),10==e.nodeType)throw new t("HIERARCHY_REQUEST_ERR");o.appendChild(e)}return o}function getNodesInRange(i,e,t){var n=!(!e||!e.length),r,s=!!t;n&&(r=new RegExp("^("+e.join("|")+")$"));var o=[];return iterateSubtree(new RangeIterator(i,!1),function(e){n&&!r.test(e.nodeType)||s&&!t(e)||o.push(e)}),o}function _inspect(t){var n="undefined"==typeof t.getName?"Range":t.getName();return"["+n+"("+e.inspectNode(t.startContainer)+":"+t.startOffset+", "+e.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function RangeIterator(t,r){if(this.range=t,this.clonePartiallySelectedTextNodes=r,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&e.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||e.isCharacterDataNode(this.sc)?e.getClosestAncestorIn(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||e.isCharacterDataNode(this.ec)?e.getClosestAncestorIn(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function RangeException(e){this.code=this[e],this.codeName=e,this.message="RangeException: "+this.codeName}function RangeNodeIterator(e,t,n){this.nodes=getNodesInRange(e,t,n),this._next=this.nodes[0],this._position=0}function createAncestorFinder(t){return function(r,i){for(var o,n=i?r:r.parentNode;n;){if(o=n.nodeType,e.arrayContains(t,o))return n;n=n.parentNode}return null}}function assertNoDocTypeNotationEntityAncestor(e,t){if(N(e,t))throw new RangeException("INVALID_NODE_TYPE_ERR")}function assertNotDetached(e){if(!e.startContainer)throw new t("INVALID_STATE_ERR")}function assertValidNodeType(t,n){if(!e.arrayContains(n,t.nodeType))throw new RangeException("INVALID_NODE_TYPE_ERR")}function assertValidOffset(n,r){if(0>r||r>(e.isCharacterDataNode(n)?n.length:n.childNodes.length))throw new t("INDEX_SIZE_ERR")}function assertSameDocumentOrFragment(e,n){if(a(e,!0)!==a(n,!0))throw new t("WRONG_DOCUMENT_ERR")}function assertNodeNotReadOnly(e){if(E(e,!0))throw new t("NO_MODIFICATION_ALLOWED_ERR")}function assertNode(e,n){if(!e)throw new t(n)}function isOrphan(t){return!e.arrayContains(h,t.nodeType)&&!a(t,!0)}function isValidOffset(t,n){return n<=(e.isCharacterDataNode(t)?t.length:t.childNodes.length)}function assertRangeValid(e){if(assertNotDetached(e),isOrphan(e.startContainer)||isOrphan(e.endContainer)||!isValidOffset(e.startContainer,e.startOffset)||!isValidOffset(e.endContainer,e.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function RangePrototype(){}function copyComparisonConstantsToObject(e){e.START_TO_START=l,e.START_TO_END=v,e.END_TO_END=b,e.END_TO_START=p,e.NODE_BEFORE=g,e.NODE_AFTER=m,e.NODE_BEFORE_AND_AFTER=u,e.NODE_INSIDE=c}function copyComparisonConstants(e){copyComparisonConstantsToObject(e),copyComparisonConstantsToObject(e.prototype)}function createRangeContentRemover(t,n){return function(){assertRangeValid(this);var r=this.startContainer,i=this.startOffset,a=this.commonAncestorContainer,o=new RangeIterator(this,!0),c,s;r!==a&&(c=e.getClosestAncestorIn(r,a,!0),s=getBoundaryAfterNode(c),r=s.node,i=s.offset),iterateSubtree(o,assertNodeNotReadOnly),o.reset();var l=t(o);return o.detach(),n(this,r,i,r,i),l}}function createPrototypeRange(n,t,i){function createBeforeAfterNodeSetter(e,t){return function(n){assertNotDetached(this),assertValidNodeType(n,f),assertValidNodeType(o(n),h);var r=(e?getBoundaryBeforeNode:getBoundaryAfterNode)(n);(t?setRangeStart:setRangeEnd)(this,r.node,r.offset)}}function setRangeStart(n,r,i){var s=n.endContainer,a=n.endOffset;(r!==n.startContainer||i!==n.startOffset)&&((o(r)!=o(s)||1==e.comparePoints(r,i,s,a))&&(s=r,a=i),t(n,r,i,s,a))}function setRangeEnd(n,r,i){var s=n.startContainer,a=n.startOffset;(r!==n.endContainer||i!==n.endOffset)&&((o(r)!=o(s)||-1==e.comparePoints(r,i,s,a))&&(s=r,a=i),t(n,s,a,r,i))}function setRangeStartAndEnd(e,n,r){(n!==e.startContainer||r!==e.startOffset||n!==e.endContainer||r!==e.endOffset)&&t(e,n,r,n,r)}n.prototype=new RangePrototype,r.util.extend(n.prototype,{setStart:function setStart(e,t){assertNotDetached(this),assertNoDocTypeNotationEntityAncestor(e,!0),assertValidOffset(e,t),setRangeStart(this,e,t)},setEnd:function setEnd(e,t){assertNotDetached(this),assertNoDocTypeNotationEntityAncestor(e,!0),assertValidOffset(e,t),setRangeEnd(this,e,t)},setStartBefore:createBeforeAfterNodeSetter(!0,!0),setStartAfter:createBeforeAfterNodeSetter(!1,!0),setEndBefore:createBeforeAfterNodeSetter(!0,!1),setEndAfter:createBeforeAfterNodeSetter(!1,!1),collapse:function collapse(e){assertRangeValid(this),e?t(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):t(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function selectNodeContents(n){assertNotDetached(this),assertNoDocTypeNotationEntityAncestor(n,!0),t(this,n,0,n,e.getNodeLength(n))},selectNode:function selectNode(e){assertNotDetached(this),assertNoDocTypeNotationEntityAncestor(e,!1),assertValidNodeType(e,f);var n=getBoundaryBeforeNode(e),r=getBoundaryAfterNode(e);t(this,n.node,n.offset,r.node,r.offset)},extractContents:createRangeContentRemover(extractSubtree,t),deleteContents:createRangeContentRemover(deleteSubtree,t),canSurroundContents:function canSurroundContents(){assertRangeValid(this),assertNodeNotReadOnly(this.startContainer),assertNodeNotReadOnly(this.endContainer);var e=new RangeIterator(this,!0),t=e._first&&isNonTextPartiallySelected(e._first,this)||e._last&&isNonTextPartiallySelected(e._last,this);return e.detach(),!t},detach:function detach(){i(this)},splitBoundaries:function splitBoundaries(){assertRangeValid(this);var n=this.startContainer,i=this.startOffset,r=this.endContainer,o=this.endOffset,s=n===r;e.isCharacterDataNode(r)&&o>0&&o<r.length&&e.splitDataNode(r,o),e.isCharacterDataNode(n)&&i>0&&i<n.length&&(n=e.splitDataNode(n,i),s?(o-=i,r=n):r==n.parentNode&&o>=e.getNodeIndex(n)&&o++,i=0),t(this,n,i,r,o)},normalizeBoundaries:function normalizeBoundaries(){assertRangeValid(this);var o=this.startContainer,i=this.startOffset,n=this.endContainer,r=this.endOffset,c=function mergeForward(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(n=e,r=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},l=function mergeBackward(t){var s=t.previousSibling;if(s&&s.nodeType==t.nodeType){o=t;var c=t.length;if(i=s.length,t.insertData(0,s.data),s.parentNode.removeChild(s),o==n)r+=i,n=o;else if(n==t.parentNode){var a=e.getNodeIndex(t);r==a?(n=t,r=c):r>a&&r--}}},u=!0;if(e.isCharacterDataNode(n))n.length==r&&c(n);else{if(r>0){var s=n.childNodes[r-1];s&&e.isCharacterDataNode(s)&&c(s)}u=!this.collapsed}if(u){if(e.isCharacterDataNode(o))0===i&&l(o);else if(i<o.childNodes.length){var a=o.childNodes[i];a&&e.isCharacterDataNode(a)&&l(a)}}else o=n,i=r;t(this,o,i,n,r)},collapseToPoint:function collapseToPoint(e,t){assertNotDetached(this),assertNoDocTypeNotationEntityAncestor(e,!0),assertValidOffset(e,t),setRangeStartAndEnd(this,e,t)}}),copyComparisonConstants(n)}function updateCollapsedAndCommonAncestor(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:e.getCommonAncestor(t.startContainer,t.endContainer)}function updateBoundaries(e,t,n,r,o){var i=e.startContainer!==t||e.startOffset!==n,s=e.endContainer!==r||e.endOffset!==o;e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=o,updateCollapsedAndCommonAncestor(e),dispatchEvent(e,"boundarychange",{startMoved:i,endMoved:s})}function detach(e){assertNotDetached(e),e.startContainer=e.startOffset=e.endContainer=e.endOffset=null,e.collapsed=e.commonAncestorContainer=null,dispatchEvent(e,"detach",null),e._listeners=null}function Range(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},updateCollapsedAndCommonAncestor(this)}r.requireModules(["DomUtil"]);var e=r.dom,d=e.DomPosition,t=r.DOMException;RangeIterator.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function reset(){this._current=null,this._next=this._first},hasNext:function hasNext(){return!!this._next},next:function next(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,e.isCharacterDataNode(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function remove(){var t=this._current,n,r;!e.isCharacterDataNode(t)||t!==this.sc&&t!==this.ec?t.parentNode&&t.parentNode.removeChild(t):(n=t===this.sc?this.so:0,r=t===this.ec?this.eo:t.length,n!=r&&t.deleteData(n,r-n))},isPartiallySelectedSubtree:function isPartiallySelectedSubtree(){var e=this._current;return isNonTextPartiallySelected(e,this.range)},getSubtreeIterator:function getSubtreeIterator(){var t;if(this.isSingleCharacterDataNode)t=this.range.cloneRange(),t.collapse();else{t=new Range(getRangeDocument(this.range));var n=this._current,r=n,o=0,i=n,s=e.getNodeLength(n);e.isAncestorOf(n,this.sc,!0)&&(r=this.sc,o=this.so),e.isAncestorOf(n,this.ec,!0)&&(i=this.ec,s=this.eo),updateBoundaries(t,r,o,i,s)}return new RangeIterator(t,this.clonePartiallySelectedTextNodes)},detach:function detach(e){e&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},RangeException.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},RangeException.prototype.toString=function(){return this.message},RangeNodeIterator.prototype={_current:null,hasNext:function hasNext(){return!!this._next},next:function next(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function detach(){this._current=this._next=this.nodes=null}};var f=[1,3,4,5,7,8,10],h=[2,9,11],S=[5,6,10,12],w=[1,3,4,5,7,8,10,11],T=[1,3,4,5,7,8],o=e.getRootContainer,a=createAncestorFinder([9,11]),E=createAncestorFinder(S),N=createAncestorFinder([6,10,12]),y=n.createElement("style"),s=!1;try{y.innerHTML="<b>x</b>",s=3==y.firstChild.nodeType}catch(x){}r.features.htmlParsingConforms=s;var C=s?function(o){var r=this.startContainer,i=e.getDocument(r);if(!r)throw new t("INVALID_STATE_ERR");var n=null;return 1==r.nodeType?n=r:e.isCharacterDataNode(r)&&(n=e.parentElement(r)),n=null===n||"HTML"==n.nodeName&&e.isHtmlNamespace(e.getDocument(n).documentElement)&&e.isHtmlNamespace(n)?i.createElement("body"):n.cloneNode(!1),n.innerHTML=o,e.fragmentFromNodeChildren(n)}:function(n){assertNotDetached(this);var r=getRangeDocument(this),t=r.createElement("body");return t.innerHTML=n,e.fragmentFromNodeChildren(t)},i=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],l=0,v=1,b=2,p=3,g=0,m=1,u=2,c=3;RangePrototype.prototype={attachListener:function attachListener(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function compareBoundaryPoints(t,n){assertRangeValid(this),assertSameDocumentOrFragment(this.startContainer,n.startContainer);var r,o,i,s,a=t==p||t==l?"start":"end",c=t==v||t==l?"start":"end";return r=this[a+"Container"],o=this[a+"Offset"],i=n[c+"Container"],s=n[c+"Offset"],e.comparePoints(r,o,i,s)},insertNode:function insertNode(n){if(assertRangeValid(this),assertValidNodeType(n,w),assertNodeNotReadOnly(this.startContainer),e.isAncestorOf(n,this.startContainer,!0))throw new t("HIERARCHY_REQUEST_ERR");var r=insertNodeAtPosition(n,this.startContainer,this.startOffset);this.setStartBefore(r)},cloneContents:function cloneContents(){assertRangeValid(this);var t,n;if(this.collapsed)return getRangeDocument(this).createDocumentFragment();if(this.startContainer===this.endContainer&&e.isCharacterDataNode(this.startContainer))return t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),n=getRangeDocument(this).createDocumentFragment(),n.appendChild(t),n;var r=new RangeIterator(this,!0);return t=cloneSubtree(r),r.detach(),t},canSurroundContents:function canSurroundContents(){assertRangeValid(this),assertNodeNotReadOnly(this.startContainer),assertNodeNotReadOnly(this.endContainer);var e=new RangeIterator(this,!0),t=e._first&&isNonTextPartiallySelected(e._first,this)||e._last&&isNonTextPartiallySelected(e._last,this);return e.detach(),!t},surroundContents:function surroundContents(e){if(assertValidNodeType(e,T),!this.canSurroundContents())throw new RangeException("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);insertNodeAtPosition(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function cloneRange(){assertRangeValid(this);for(var t=new Range(getRangeDocument(this)),n=i.length,e;n--;)e=i[n],t[e]=this[e];return t},toString:function toString(){assertRangeValid(this);var t=this.startContainer;if(t===this.endContainer&&e.isCharacterDataNode(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var n=[],r=new RangeIterator(this,!0);return iterateSubtree(r,function(e){(3==e.nodeType||4==e.nodeType)&&n.push(e.data)}),r.detach(),n.join("")},compareNode:function compareNode(r){assertRangeValid(this);var n=r.parentNode,o=e.getNodeIndex(r);if(!n)throw new t("NOT_FOUND_ERR");var s=this.comparePoint(n,o),i=this.comparePoint(n,o+1);return 0>s?i>0?u:g:i>0?m:c},comparePoint:function comparePoint(t,n){if(assertRangeValid(this),assertNode(t,"HIERARCHY_REQUEST_ERR"),assertSameDocumentOrFragment(t,this.startContainer),e.comparePoints(t,n,this.startContainer,this.startOffset)<0)return-1;if(e.comparePoints(t,n,this.endContainer,this.endOffset)>0)return 1;return 0},createContextualFragment:C,toHtml:function toHtml(){assertRangeValid(this);var e=getRangeDocument(this).createElement("div");return e.appendChild(this.cloneContents()),e.innerHTML},intersectsNode:function intersectsNode(t,s){if(assertRangeValid(this),assertNode(t,"NOT_FOUND_ERR"),e.getDocument(t)!==getRangeDocument(this))return!1;var n=t.parentNode,r=e.getNodeIndex(t);assertNode(n,"NOT_FOUND_ERR");var o=e.comparePoints(n,r,this.endContainer,this.endOffset),i=e.comparePoints(n,r+1,this.startContainer,this.startOffset);return s?0>=o&&i>=0:0>o&&i>0},isPointInRange:function isPointInRange(t,n){return assertRangeValid(this),assertNode(t,"HIERARCHY_REQUEST_ERR"),assertSameDocumentOrFragment(t,this.startContainer),e.comparePoints(t,n,this.startContainer,this.startOffset)>=0&&e.comparePoints(t,n,this.endContainer,this.endOffset)<=0},intersectsRange:function intersectsRange(n,i){if(assertRangeValid(this),getRangeDocument(n)!=getRangeDocument(this))throw new t("WRONG_DOCUMENT_ERR");var r=e.comparePoints(this.startContainer,this.startOffset,n.endContainer,n.endOffset),o=e.comparePoints(this.endContainer,this.endOffset,n.startContainer,n.startOffset);return i?0>=r&&o>=0:0>r&&o>0},intersection:function intersection(t){if(this.intersectsRange(t)){var r=e.comparePoints(this.startContainer,this.startOffset,t.startContainer,t.startOffset),o=e.comparePoints(this.endContainer,this.endOffset,t.endContainer,t.endOffset),n=this.cloneRange();return-1==r&&n.setStart(t.startContainer,t.startOffset),1==o&&n.setEnd(t.endContainer,t.endOffset),n}return null},union:function union(t){if(this.intersectsRange(t,!0)){var n=this.cloneRange();return-1==e.comparePoints(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&n.setStart(t.startContainer,t.startOffset),1==e.comparePoints(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&n.setEnd(t.endContainer,t.endOffset),n}throw new RangeException("Ranges do not intersect")},containsNode:function containsNode(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==c},containsNodeContents:function containsNodeContents(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,e.getNodeLength(t))<=0},containsRange:function containsRange(e){return this.intersection(e).equals(e)},containsNodeText:function containsNodeText(n){var e=this.cloneRange();e.selectNode(n);var t=e.getNodes([3]);if(t.length>0){e.setStart(t[0],0);var r=t.pop();e.setEnd(r,r.length);var o=this.containsRange(e);return e.detach(),o}return this.containsNodeContents(n)},createNodeIterator:function createNodeIterator(e,t){return assertRangeValid(this),new RangeNodeIterator(this,e,t)},getNodes:function getNodes(e,t){return assertRangeValid(this),getNodesInRange(this,e,t)},getDocument:function getDocument(){return getRangeDocument(this)},collapseBefore:function collapseBefore(e){assertNotDetached(this),this.setEndBefore(e),this.collapse(!1)},collapseAfter:function collapseAfter(e){assertNotDetached(this),this.setStartAfter(e),this.collapse(!0)},getName:function getName(){return"DomRange"},equals:function equals(e){return Range.rangesEqual(this,e)},inspect:function inspect(){return _inspect(this)}},createPrototypeRange(Range,updateBoundaries,detach),r.rangePrototype=RangePrototype.prototype,Range.rangeProperties=i,Range.RangeIterator=RangeIterator,Range.copyComparisonConstants=copyComparisonConstants,Range.createPrototypeRange=createPrototypeRange,Range.inspect=_inspect,Range.getRangeDocument=getRangeDocument,Range.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},r.DomRange=Range,r.RangeException=RangeException}),o.createModule("WrappedRange",function(e,module){function getTextRangeContainerElement(n){var i=n.parentElement(),e=n.duplicate();e.collapse(!0);var r=e.parentElement();e=n.duplicate(),e.collapse(!1);var s=e.parentElement(),o=r==s?r:t.getCommonAncestor(r,s);return o==i?o:t.getCommonAncestor(i,o)}function textRangeIsCollapsed(e){return 0===e.compareEndPoints("StartToEnd",e)}function getTextRangeBoundaryPosition(d,g,s,m){var r=d.duplicate();r.collapse(s);var n=r.parentElement();if(t.isAncestorOf(g,n,!0)||(n=g),!n.canHaveHTML)return new o(n.parentNode,t.getNodeIndex(n));var e=t.getDocument(n).createElement("span"),h,v=s?"StartToStart":"StartToEnd",a,u,f,c;do n.insertBefore(e,e.previousSibling),r.moveToElementText(e);while((h=r.compareEndPoints(v,d))>0&&e.previousSibling);if(c=e.nextSibling,-1==h&&c&&t.isCharacterDataNode(c)){r.setEndPoint(s?"EndToStart":"EndToEnd",d);var l;if(/[\r\n]/.test(c.data)){var i=r.duplicate(),p=i.text.replace(/\r\n/g,"\r").length;for(l=i.moveStart("character",p);-1==(h=i.compareEndPoints("StartToEnd",i));)l++,i.moveStart("character",1)}else l=r.text.length;f=new o(c,l)}else a=(m||!s)&&e.previousSibling,u=(m||s)&&e.nextSibling,f=u&&t.isCharacterDataNode(u)?new o(u,0):a&&t.isCharacterDataNode(a)?new o(a,a.length):new o(n,t.getNodeIndex(e));return e.parentNode.removeChild(e),f}function createBoundaryTextRange(e,c){var r,o,s=e.offset,l=t.getDocument(e.node),n,a,i=l.body.createTextRange(),u=t.isCharacterDataNode(e.node);return u?(r=e.node,o=r.parentNode):(a=e.node.childNodes,r=s<a.length?a[s]:null,o=e.node),n=l.createElement("span"),n.innerHTML="&#feff;",r?o.insertBefore(n,r):o.appendChild(n),i.moveToElementText(n),i.collapse(!c),o.removeChild(n),u&&i[c?"moveStart":"moveEnd"]("character",s),i}e.requireModules(["DomUtil","DomRange"]);var r,t=e.dom,o=t.DomPosition,i=e.DomRange;if(!e.features.implementsDomRange||e.features.implementsTextRange&&e.config.preferTextRange){if(e.features.implementsTextRange){r=function WrappedRange(e){this.textRange=e,this.refresh()},r.prototype=new i(n),r.prototype.refresh=function(){var e,t,n=getTextRangeContainerElement(this.textRange);textRangeIsCollapsed(this.textRange)?t=e=getTextRangeBoundaryPosition(this.textRange,n,!0,!0):(e=getTextRangeBoundaryPosition(this.textRange,n,!0,!1),t=getTextRangeBoundaryPosition(this.textRange,n,!1,!1)),this.setStart(e.node,e.offset),
this.setEnd(t.node,t.offset)},i.copyComparisonConstants(r);var s=function(){return this}();"undefined"==typeof s.Range&&(s.Range=r),e.createNativeRange=function(e){return e=e||n,e.body.createTextRange()}}}else!function(){function updateRangeProperties(t){for(var n=u.length,e;n--;)e=u[n],t[e]=t.nativeRange[e]}function updateNativeRange(e,t,n,r,o){var i=e.startContainer!==t||e.startOffset!=n,s=e.endContainer!==r||e.endOffset!=o;(i||s)&&(e.setEnd(r,o),e.setStart(t,n))}function detach(e){e.nativeRange.detach(),e.detached=!0;for(var t=u.length,n;t--;)n=u[t],e[n]=null}var o,u=i.rangeProperties,d,l;r=function WrappedRange(e){if(!e)throw new Error("Range must be specified");this.nativeRange=e,updateRangeProperties(this)},i.createPrototypeRange(r,updateNativeRange,detach),o=r.prototype,o.selectNode=function(e){this.nativeRange.selectNode(e),updateRangeProperties(this)},o.deleteContents=function(){this.nativeRange.deleteContents(),updateRangeProperties(this)},o.extractContents=function(){var e=this.nativeRange.extractContents();return updateRangeProperties(this),e},o.cloneContents=function(){return this.nativeRange.cloneContents()},o.surroundContents=function(e){this.nativeRange.surroundContents(e),updateRangeProperties(this)},o.collapse=function(e){this.nativeRange.collapse(e),updateRangeProperties(this)},o.cloneRange=function(){return new r(this.nativeRange.cloneRange())},o.refresh=function(){updateRangeProperties(this)},o.toString=function(){return this.nativeRange.toString()};var a=n.createTextNode("test");t.getBody(n).appendChild(a);var s=n.createRange();s.setStart(a,0),s.setEnd(a,0);try{s.setStart(a,1),d=!0,o.setStart=function(e,t){this.nativeRange.setStart(e,t),updateRangeProperties(this)},o.setEnd=function(e,t){this.nativeRange.setEnd(e,t),updateRangeProperties(this)},l=function createBeforeAfterNodeSetter(e){return function(t){this.nativeRange[e](t),updateRangeProperties(this)}}}catch(f){d=!1,o.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}updateRangeProperties(this)},o.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}updateRangeProperties(this)},l=function createBeforeAfterNodeSetter(e,t){return function(n){try{this.nativeRange[e](n)}catch(r){this.nativeRange[t](n),this.nativeRange[e](n)}updateRangeProperties(this)}}}o.setStartBefore=l("setStartBefore","setEndBefore"),o.setStartAfter=l("setStartAfter","setEndAfter"),o.setEndBefore=l("setEndBefore","setStartBefore"),o.setEndAfter=l("setEndAfter","setStartAfter"),s.selectNodeContents(a),s.startContainer==a&&s.endContainer==a&&0===s.startOffset&&s.endOffset==a.length?o.selectNodeContents=function(e){this.nativeRange.selectNodeContents(e),updateRangeProperties(this)}:o.selectNodeContents=function(e){this.setStart(e,0),this.setEnd(e,i.getEndOffset(e))},s.selectNodeContents(a),s.setEnd(a,3);var c=n.createRange();c.selectNodeContents(a),c.setEnd(a,4),c.setStart(a,2),-1==s.compareBoundaryPoints(s.START_TO_END,c)&1==s.compareBoundaryPoints(s.END_TO_START,c)?o.compareBoundaryPoints=function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:o.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},e.util.isHostMethod(s,"createContextualFragment")&&(o.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),t.getBody(n).removeChild(a),s.detach(),c.detach()}(),e.createNativeRange=function(e){return e=e||n,e.createRange()};e.features.implementsTextRange&&(r.rangeToTextRange=function(e){if(e.collapsed){var r=createBoundaryTextRange(new o(e.startContainer,e.startOffset),!0);return r}var i=createBoundaryTextRange(new o(e.startContainer,e.startOffset),!0),s=createBoundaryTextRange(new o(e.endContainer,e.endOffset),!1),n=t.getDocument(e.startContainer).body.createTextRange();return n.setEndPoint("StartToStart",i),n.setEndPoint("EndToEnd",s),n}),r.prototype.getName=function(){return"WrappedRange"},e.WrappedRange=r,e.createRange=function(t){return t=t||n,new r(e.createNativeRange(t))},e.createRangyRange=function(e){return e=e||n,new i(e)},e.createIframeRange=function(n){return e.createRange(t.getIframeDocument(n))},e.createIframeRangyRange=function(n){return e.createRangyRange(t.getIframeDocument(n))},e.addCreateMissingNativeApiListener(function(n){var t=n.document;"undefined"==typeof t.createRange&&(t.createRange=function(){return e.createRange(this)}),t=n=null})}),o.createModule("WrappedSelection",function(t,module){function getWinSelection(t){return(t||e).getSelection()}function getDocSelection(t){return(t||e).document.selection}function updateAnchorAndFocusFromRange(e,t,n){var r=n?"end":"start",o=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[o+"Container"],e.focusOffset=t[o+"Offset"]}function updateAnchorAndFocusFromNativeSelection(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function updateEmptySelection(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function getNativeRange(e){var n;return e instanceof u?(n=e._selectionNativeRange,n||(n=t.createNativeRange(o.getDocument(e.startContainer)),n.setEnd(e.endContainer,e.endOffset),n.setStart(e.startContainer,e.startOffset),e._selectionNativeRange=n,e.attachListener("detach",function(){this._selectionNativeRange=null}))):e instanceof N?n=e.nativeRange:t.features.implementsDomRange&&e instanceof o.getWindow(e.startContainer).Range&&(n=e),n}function rangeContainsSingleElement(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!o.isAncestorOf(e[0],e[t]))return!1;return!0}function getSingleElementFromRange(e){var t=e.getNodes();if(!rangeContainsSingleElement(t))throw new Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function isTextRange(e){return!!e&&"undefined"!=typeof e.text}function updateFromTextRange(e,n){var t=new N(n);e._ranges=[t],updateAnchorAndFocusFromRange(e,t,!1),e.rangeCount=1,e.isCollapsed=t.collapsed}function updateControlSelection(e){if(e._ranges.length=0,"None"==e.docSelection.type)updateEmptySelection(e);else{var n=e.docSelection.createRange();if(isTextRange(n))updateFromTextRange(e,n);else{e.rangeCount=n.length;for(var r,s=o.getDocument(n.item(0)),i=0;i<e.rangeCount;++i)r=t.createRange(s),r.selectNode(n.item(i)),e._ranges.push(r);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,updateAnchorAndFocusFromRange(e,e._ranges[e.rangeCount-1],!1)}}}function addRangeToControlSelection(r,i){for(var e=r.docSelection.createRange(),s=getSingleElementFromRange(i),a=o.getDocument(e.item(0)),t=o.getBody(a).createControlRange(),n=0,c=e.length;c>n;++n)t.add(e.item(n));try{t.add(s)}catch(l){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}t.select(),updateControlSelection(r)}function WrappedSelection(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function createControlSelection(i,t){for(var s=o.getDocument(t[0].startContainer),n=o.getBody(s).createControlRange(),e=0,r;e<rangeCount;++e){r=getSingleElementFromRange(t[e]);try{n.add(r)}catch(a){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}n.select(),updateControlSelection(i)}function assertNodeInSameDocument(e,t){if(e.anchorNode&&o.getDocument(e.anchorNode)!==o.getDocument(t))throw new p("WRONG_DOCUMENT_ERR")}function inspect(e){var n=[],r=new R(e.anchorNode,e.anchorOffset),o=new R(e.focusNode,e.focusOffset),i="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var t=0,s=e.rangeCount;s>t;++t)n[t]=u.inspect(e.getRangeAt(t));return"["+i+"(Ranges: "+n.join(", ")+")(anchor: "+r.inspect()+", focus: "+o.inspect()+"]"}t.requireModules(["DomUtil","DomRange","WrappedRange"]),t.config.checkSelectionRanges=!0;var T="boolean",w="_rangySelection",o=t.dom,s=t.util,u=t.DomRange,N=t.WrappedRange,p=t.DOMException,R=o.DomPosition,h,y,c="Control",S=t.util.isHostMethod(e,"getSelection"),d=t.util.isHostObject(n,"selection"),g=d&&(!S||t.config.preferTextRange);g?(h=getDocSelection,t.isSelectionValid=function(r){var t=(r||e).document,n=t.selection;return"None"!=n.type||o.getDocument(n.createRange().parentElement())==t}):S?(h=getWinSelection,t.isSelectionValid=function(){return!0}):module.fail("Neither document.selection or window.getSelection() detected."),t.getNativeSelection=h;var i=h(),I=t.createNativeRange(n),m=o.getBody(n),l=s.areHostObjects(i,["anchorNode","focusNode"]&&s.areHostProperties(i,["anchorOffset","focusOffset"]));t.features.selectionHasAnchorAndFocus=l;var b=s.isHostMethod(i,"extend");t.features.selectionHasExtend=b;var A="number"==typeof i.rangeCount;t.features.selectionHasRangeCount=A;var E=!1,D=!0;s.areHostMethods(i,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof i.rangeCount&&t.features.implementsDomRange&&!function(){var i=n.createElement("iframe");m.appendChild(i);var r=o.getIframeDocument(i);r.open(),r.write("<html><head></head><body>12</body></html>"),r.close();var t=o.getIframeWindow(i).getSelection(),c=r.documentElement,l=c.lastChild,s=l.firstChild,e=r.createRange();e.setStart(s,1),e.collapse(!0),t.addRange(e),D=1==t.rangeCount,t.removeAllRanges();var a=e.cloneRange();e.setStart(s,0),a.setEnd(s,2),t.addRange(e),t.addRange(a),E=2==t.rangeCount,e.detach(),a.detach(),m.removeChild(i)}(),t.features.selectionSupportsMultipleRanges=E,t.features.collapsedNonEditableSelectionsSupported=D;var a=!1,L;m&&s.isHostMethod(m,"createControlRange")&&(L=m.createControlRange(),s.areHostProperties(L,["item","add"])&&(a=!0)),t.features.implementsControlRange=a,y=l?function selectionIsCollapsed(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function selectionIsCollapsed(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var v;s.isHostMethod(i,"getRangeAt")?v=function getSelectionRangeAt(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:l&&(v=function getSelectionRangeAt(e){var r=o.getDocument(e.anchorNode),n=t.createRange(r);return n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&(n.setStart(e.focusNode,e.focusOffset),n.setEnd(e.anchorNode,e.anchorOffset)),n}),t.getSelection=function(t){t=t||e;var n=t[w],r=h(t),o=d?getDocSelection(t):null;return n?(n.nativeSelection=r,n.docSelection=o,n.refresh(t)):(n=new WrappedSelection(r,o,t),t[w]=n),n},t.getIframeSelection=function(e){return t.getSelection(o.getIframeWindow(e))};var r=WrappedSelection.prototype;if(!g&&l&&s.areHostMethods(i,["removeAllRanges","addRange"])){r.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),updateEmptySelection(this)};var O=function addRangeBackwards(n,e){var o=u.getRangeDocument(e),r=t.createRange(o);r.collapseToPoint(e.endContainer,e.endOffset),n.nativeSelection.addRange(getNativeRange(r)),n.nativeSelection.extend(e.startContainer,e.startOffset),n.refresh()};A?r.addRange=function(e,o){if(a&&d&&this.docSelection.type==c)addRangeToControlSelection(this,e);else if(o&&b)O(this,e);else{var n;if(E?n=this.rangeCount:(this.removeAllRanges(),n=0),this.nativeSelection.addRange(getNativeRange(e)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(t.config.checkSelectionRanges){var r=v(this.nativeSelection,this.rangeCount-1);r&&!u.rangesEqual(r,e)&&(e=new N(r))}this._ranges[this.rangeCount-1]=e,updateAnchorAndFocusFromRange(this,e,f(this.nativeSelection)),this.isCollapsed=y(this)}else this.refresh()}}:r.addRange=function(e,t){t&&b?O(this,e):(this.nativeSelection.addRange(getNativeRange(e)),this.refresh())},r.setRanges=function(e){if(a&&e.length>1)createControlSelection(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}}}else{if(!(s.isHostMethod(i,"empty")&&s.isHostMethod(I,"select")&&a&&g))return module.fail("No means of selecting a Range or TextRange was found"),!1;r.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=o.getDocument(this.anchorNode);else if(this.docSelection.type==c){var t=this.docSelection.createRange();t.length&&(e=o.getDocument(t.item(0)).body.createTextRange())}if(e){var n=e.body.createTextRange();n.select(),this.docSelection.empty()}}}catch(r){}updateEmptySelection(this)},r.addRange=function(e){this.docSelection.type==c?addRangeToControlSelection(this,e):(N.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,updateAnchorAndFocusFromRange(this,e,!1))},r.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?createControlSelection(this,e):t&&this.addRange(e[0])}}r.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new p("INDEX_SIZE_ERR");return this._ranges[e]};var C;if(g)C=function refreshSelection(e){var n;t.isSelectionValid(e.win)?n=e.docSelection.createRange():(n=o.getBody(e.win.document).createTextRange(),n.collapse(!0)),e.docSelection.type==c?updateControlSelection(e):isTextRange(n)?updateFromTextRange(e,n):updateEmptySelection(e)};else if(s.isHostMethod(i,"getRangeAt")&&"number"==typeof i.rangeCount)C=function refreshSelection(e){if(a&&d&&e.docSelection.type==c)updateControlSelection(e);else if(e&&e.nativeSelection&&(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount),e.rangeCount){for(var n=0,r=e.rangeCount;r>n;++n)e._ranges[n]=new t.WrappedRange(e.nativeSelection.getRangeAt(n));updateAnchorAndFocusFromRange(e,e._ranges[e.rangeCount-1],f(e.nativeSelection)),e.isCollapsed=y(e)}else updateEmptySelection(e)};else{if(!l||_typeof(i.isCollapsed)!=T||_typeof(I.collapsed)!=T||!t.features.implementsDomRange)return module.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;C=function refreshSelection(e){var t,n=e.nativeSelection;n.anchorNode?(t=v(n,0),e._ranges=[t],e.rangeCount=1,updateAnchorAndFocusFromNativeSelection(e),e.isCollapsed=y(e)):updateEmptySelection(e)}}r.refresh=function(t){var n=t?this._ranges.slice(0):null;if(C(this),t){var e=n.length;if(e!=this._ranges.length)return!1;for(;e--;)if(!u.rangesEqual(n[e],this._ranges[e]))return!1;return!0}};var x=function removeRangeManually(e,o){var n=e.getAllRanges(),r=!1;e.removeAllRanges();for(var t=0,i=n.length;i>t;++t)r||o!==n[t]?e.addRange(n[t]):r=!0;e.rangeCount||updateEmptySelection(e)};a?r.removeRange=function(n){if(this.docSelection.type==c){for(var e=this.docSelection.createRange(),a=getSingleElementFromRange(n),l=o.getDocument(e.item(0)),r=o.getBody(l).createControlRange(),i,s=!1,t=0,u=e.length;u>t;++t)i=e.item(t),i!==a||s?r.add(e.item(t)):s=!0;r.select(),updateControlSelection(this)}else x(this,n)}:r.removeRange=function(e){x(this,e)};var f;!g&&l&&t.features.implementsDomRange?(f=function selectionIsBackwards(e){var t=!1;return e.anchorNode&&(t=1==o.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t},r.isBackwards=function(){return f(this)}):f=r.isBackwards=function(){return!1},r.toString=function(){for(var t=[],e=0,n=this.rangeCount;n>e;++e)t[e]=""+this._ranges[e];return t.join("")},r.collapse=function(e,r){assertNodeInSameDocument(this,e);var n=t.createRange(o.getDocument(e));n.collapseToPoint(e,r),this.removeAllRanges(),this.addRange(n),this.isCollapsed=!0},r.collapseToStart=function(){if(!this.rangeCount)throw new p("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},r.collapseToEnd=function(){if(!this.rangeCount)throw new p("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},r.selectAllChildren=function(e){assertNodeInSameDocument(this,e);var n=t.createRange(o.getDocument(e));n.selectNodeContents(e),this.removeAllRanges(),this.addRange(n)},r.deleteFromDocument=function(){if(a&&d&&this.docSelection.type==c){for(var t=this.docSelection.createRange(),e;t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();this.removeAllRanges();for(var r=0,o=n.length;o>r;++r)n[r].deleteContents();this.addRange(n[o-1])}},r.getAllRanges=function(){return this._ranges.slice(0)},r.setSingleRange=function(e){this.setRanges([e])},r.containsNode=function(t,n){for(var e=0,r=this._ranges.length;r>e;++e)if(this._ranges[e].containsNode(t,n))return!0;return!1},r.toHtml=function(){var t="";if(this.rangeCount){for(var n=u.getRangeDocument(this._ranges[0]).createElement("div"),e=0,r=this._ranges.length;r>e;++e)n.appendChild(this._ranges[e].cloneContents());t=n.innerHTML}return t},r.getName=function(){return"WrappedSelection"},r.inspect=function(){return inspect(this)},r.detach=function(){this.win[w]=null,this.win=this.anchorNode=this.focusNode=null},WrappedSelection.inspect=inspect,t.Selection=WrappedSelection,t.selectionPrototype=r,t.addCreateMissingNativeApiListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return t.getSelection(this)}),e=null})});var r=function Base(){};return r.extend=function(i,s){var n=r.prototype.extend;r._prototyping=!0;var t=new this;n.call(t,i),t.base=function(){},delete r._prototyping;var o=t.constructor,e=t.constructor=function(){if(!r._prototyping)if(this._constructing||this.constructor==e)this._constructing=!0,o.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],t)};return e.ancestor=this,e.extend=this.extend,e.forEach=this.forEach,e.implement=this.implement,e.prototype=t,e.toString=this.toString,e.valueOf=function(t){return"object"==t?e:o.valueOf()},n.call(e,s),"function"==typeof e.init&&e.init(),e},r.prototype={extend:function extend(n,e){if(arguments.length>1){var o=this[n];if(o&&"function"==typeof e&&(!o.valueOf||o.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var i=e.valueOf();e=function value(){var e=this.base||r.prototype.base;this.base=o;var t=i.apply(this,arguments);return this.base=e,t},e.valueOf=function(t){return"object"==t?e:i},e.toString=r.toString}this[n]=e}else if(n){var extend=r.prototype.extend;r._prototyping||"function"==typeof this||(extend=this.extend||extend);for(var s={toSource:null},a=["constructor","toString","valueOf"],c=r._prototyping?0:1;t=a[c++];)n[t]!=s[t]&&extend.call(this,t,n[t]);for(var t in n)s[t]||extend.call(this,t,n[t])}return this}},r=r.extend({constructor:function constructor(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function forEach(e,n,r){for(var t in e)void 0===this.prototype[t]&&n.call(r,e[t],t,e)},implement:function implement(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function toString(){return String(this.valueOf())}}),t.browser=function(){function iosVersion(e){return+(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]}function androidVersion(e){return+(e.match(/android (\d+)/)||[void 0,0])[1]}var r=navigator.userAgent,o=n.createElement("div"),t=-1!==r.indexOf("MSIE")&&-1===r.indexOf("Opera"),i=-1!==r.indexOf("Gecko")&&-1===r.indexOf("KHTML"),a=-1!==r.indexOf("AppleWebKit/"),c=-1!==r.indexOf("Chrome/"),s=-1!==r.indexOf("Opera/");return{USER_AGENT:r,supported:function supported(){var e=this.USER_AGENT.toLowerCase(),t="contentEditable"in o,r=n.execCommand&&n.queryCommandSupported&&n.queryCommandState,i=n.querySelector&&n.querySelectorAll,s=this.isIos()&&iosVersion(e)<5||this.isAndroid()&&androidVersion(e)<4||-1!==e.indexOf("opera mobi")||-1!==e.indexOf("hpwos/");return t&&r&&i&&!s},isTouchDevice:function isTouchDevice(){return this.supportsEvent("touchmove")},isIos:function isIos(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function isAndroid(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function supportsSandboxedIframes(){return t},throwsMixedContentWarningWhenIframeSrcIsEmpty:function throwsMixedContentWarningWhenIframeSrcIsEmpty(){return!("querySelector"in n)},displaysCaretInEmptyContentEditableCorrectly:function displaysCaretInEmptyContentEditableCorrectly(){return t},hasCurrentStyleProperty:function hasCurrentStyleProperty(){return"currentStyle"in o},hasHistoryIssue:function hasHistoryIssue(){return i},insertsLineBreaksOnReturn:function insertsLineBreaksOnReturn(){return i},supportsPlaceholderAttributeOn:function supportsPlaceholderAttributeOn(e){return"placeholder"in e},supportsEvent:function supportsEvent(e){return"on"+e in o||function(){return o.setAttribute("on"+e,"return;"),"function"==typeof o["on"+e]}()},supportsEventsInIframeCorrectly:function supportsEventsInIframeCorrectly(){return!s},supportsHTML5Tags:function supportsHTML5Tags(n){var e=n.createElement("div"),t="<article>foo</article>";return e.innerHTML=t,e.innerHTML.toLowerCase()===t},supportsCommand:function(){var e={formatBlock:t,insertUnorderedList:t||a,insertOrderedList:t||a},n={insertHTML:i};return function(r,t){var o=e[t];if(!o){try{return r.queryCommandSupported(t)}catch(i){}try{return r.queryCommandEnabled(t)}catch(s){return!!n[t]}}return!1}}(),doesAutoLinkingInContentEditable:function doesAutoLinkingInContentEditable(){return t},canDisableAutoLinking:function canDisableAutoLinking(){return this.supportsCommand(n,"AutoUrlDetect")},clearsContentEditableCorrectly:function clearsContentEditableCorrectly(){return i||s||a},supportsGetAttributeCorrectly:function supportsGetAttributeCorrectly(){var e=n.createElement("td");return"1"!=e.getAttribute("rowspan")},canSelectImagesInContentEditable:function canSelectImagesInContentEditable(){return i||t||s},autoScrollsToCaret:function autoScrollsToCaret(){return!a},autoClosesUnclosedTags:function autoClosesUnclosedTags(){var n=o.cloneNode(!1),e,t;return n.innerHTML="<p><div></div>",t=n.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function supportsNativeGetElementsByClassName(){return-1!==String(n.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function supportsSelectionModify(){return"getSelection"in e&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function needsSpaceAfterLineBreak(){return s},supportsSpeechApiOn:function supportsSpeechApiOn(e){var t=r.match(/Chrome\/(\d+)/)||[void 0,0];return t[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function crashesWhenDefineProperty(e){return t&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function doesAsyncFocus(){return t},hasProblemsSettingCaretAfterImg:function hasProblemsSettingCaretAfterImg(){return t},hasUndoInContextMenu:function hasUndoInContextMenu(){return i||c||s},hasInsertNodeIssue:function hasInsertNodeIssue(){return s},hasIframeFocusIssue:function hasIframeFocusIssue(){return t}}}(),t.lang.array=function(e){return{contains:function contains(n){if(e.indexOf)return-1!==e.indexOf(n);for(var t=0,r=e.length;r>t;t++)if(e[t]===n)return!0;return!1},without:function without(r){r=t.lang.array(r);for(var o=[],n=0,i=e.length;i>n;n++)r.contains(e[n])||o.push(e[n]);return o},get:function get(){for(var t=0,r=e.length,n=[];r>t;t++)n.push(e[t]);return n}}},t.lang.Dispatcher=r.extend({on:function on(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},off:function off(n,o){this.events=this.events||{};var e=0,t,r;if(n){for(t=this.events[n]||[],r=[];e<t.length;e++)t[e]!==o&&o&&r.push(t[e]);this.events[n]=r}else this.events={};return this},fire:function fire(n,r,o){this.events=this.events||{};for(var t=this.events[n]||[],e=0;e<t.length;e++)t[e].call(this,r,o);return this},observe:function observe(){return this.on.apply(this,arguments)},stopObserving:function stopObserving(){return this.off.apply(this,arguments)}}),t.lang.object=function(e){return{merge:function merge(t){for(var n in t)e[n]=t[n];return this},get:function get(){return e},clone:function clone(){var n={},t;for(t in e)n[t]=e[t];return n},isArray:function isArray(){return"[object Array]"===Object.prototype.toString.call(e)}}},function(){var e=/^\s+/,n=/\s+$/;t.lang.string=function(t){return t=String(t),{trim:function trim(){return t.replace(e,"").replace(n,"")},interpolate:function interpolate(e){for(var n in e)t=this.replace("#{"+n+"}").by(e[n]);return t},replace:function replace(e){return{by:function by(n){return t.split(e).join(n)}}}}}}(),function(e){function autoLink(e){if(_hasParentThatShouldBeIgnored(e))return e;return e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),_parseNode(e)}function _convertUrlsToLinks(e){return e.replace(t,function(c,e){var t=(e.match(r)||[])[1]||"",a=i[t];e=e.replace(r,""),e.split(a).length>e.split(t).length&&(e+=t,t="");var o=e,s=e;return e.length>n&&(s=s.substr(0,n)+"..."),"www."===o.substr(0,4)&&(o="http://"+o),'<a href="'+o+'">'+s+"</a>"+t})}function _getTempElement(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}function _wrapMatchesInNode(t){var n=t.parentNode,e=_getTempElement(n.ownerDocument);for(e.innerHTML="<span></span>"+_convertUrlsToLinks(t.data),e.removeChild(e.firstChild);e.firstChild;)n.insertBefore(e.firstChild,t);n.removeChild(t)}function _hasParentThatShouldBeIgnored(e){for(var t;e.parentNode;){if(e=e.parentNode,t=e.nodeName,o.contains(t))return!0;if("body"===t)return!1}return!1}function _parseNode(n){if(o.contains(n.nodeName))return;if(n.nodeType===e.TEXT_NODE&&n.data.match(t))return void _wrapMatchesInNode(n);for(var i=e.lang.array(n.childNodes).get(),s=i.length,r=0;s>r;r++)_parseNode(i[r]);return n}var o=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),t=/((https?:\/\/|www\.)[^\s<]{3,})/gi,r=/([^\w\/\-](,?))$/i,n=100,i={")":"(","]":"[","}":"{"};e.dom.autoLink=autoLink,e.dom.autoLink.URL_REG_EXP=t}(t),function(t){var e=t.dom;e.addClass=function(t,n){var r=t.classList;if(r)return r.add(n);if(e.hasClass(t,n))return;t.className+=" "+n},e.removeClass=function(e,t){var n=e.classList;if(n)return n.remove(t);e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")},e.hasClass=function(n,e){var r=n.classList;if(r)return r.contains(e);var t=n.className;return t.length>0&&(t==e||new RegExp("(^|\\s)"+e+"(\\s|$)").test(t))}}(t),t.dom.contains=function(){var e=n.documentElement;if(e.contains)return function(n,e){return e.nodeType!==t.ELEMENT_NODE&&(e=e.parentNode),n!==e&&n.contains(e)};if(e.compareDocumentPosition)return function(e,t){return!!(16&e.compareDocumentPosition(t))}}(),t.dom.convertToList=function(){function _createListItem(t,n){var e=t.createElement("li");return n.appendChild(e),e}function _createList(e,t){return e.createElement(t)}function convertToList(n,m){if("UL"===n.nodeName||"OL"===n.nodeName||"MENU"===n.nodeName)return n;var l=n.ownerDocument,i=_createList(l,m),u=n.querySelectorAll("br"),g=u.length,c,h,a,o,s,d,f,e,r;for(r=0;g>r;r++)for(o=u[r];(s=o.parentNode)&&s!==n&&s.lastChild===o;){if("block"===t.dom.getStyle("display").from(s)){s.removeChild(o);break}t.dom.insert(o).after(o.parentNode)}for(c=t.lang.array(n.childNodes).get(),h=c.length,r=0;h>r;r++){if(e=e||_createListItem(l,i),a=c[r],d="block"===t.dom.getStyle("display").from(a),f="BR"===a.nodeName,d){e=e.firstChild?_createListItem(l,i):e,e.appendChild(a),e=null;continue}if(f){e=e.firstChild?null:e;continue}e.appendChild(a)}return 0===c.length&&_createListItem(l,i),n.parentNode.replaceChild(i,n),i}return convertToList}(),t.dom.copyAttributes=function(e){return{from:function from(t){return{to:function to(o){for(var n,r=0,i=e.length;i>r;r++)n=e[r],"undefined"!=typeof t[n]&&""!==t[n]&&(o[n]=t[n]);return{andTo:arguments.callee}}}}}},function(e){var n=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],r=function shouldIgnoreBoxSizingBorderBox(t){if(o(t))return parseInt(e.getStyle("width").from(t),10)<t.offsetWidth;return!1},o=function hasBoxSizingBorderBox(r){for(var t=0,o=n.length;o>t;t++)if("border-box"===e.getStyle(n[t]).from(r))return n[t]};e.copyStyles=function(o){return{from:function from(a){r(a)&&(o=t.lang.array(o).without(n));for(var c="",l=o.length,i=0,s;l>i;i++)s=o[i],c+=s+":"+e.getStyle(s).from(a)+";";return{to:function to(t){return e.setStyles(c).on(t),{andTo:arguments.callee}}}}}}}(t.dom),function(e){e.dom.delegate=function(t,n,r,o){return e.dom.observe(t,r,function(i){for(var r=i.target,s=e.lang.array(t.querySelectorAll(n));r&&r!==t;){if(s.contains(r)){o.call(r,i);break}r=r.parentNode}})}}(t),t.dom.getAsDom=function(){var r=function _innerHTMLShiv(n,t){var e=t.createElement("div");e.style.display="none",t.body.appendChild(e);try{e.innerHTML=n}catch(r){}return t.body.removeChild(e),e},o=function _ensureHTML5Compatibility(t){if(t._wysihtml5_supportsHTML5Tags)return;for(var n=0,r=e.length;r>n;n++)t.createElement(e[n]);t._wysihtml5_supportsHTML5Tags=!0},e=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(i,e){e=e||n;var s;return"object"===("undefined"==typeof i?"undefined":_typeof(i))&&i.nodeType?(s=e.createElement("div"),s.appendChild(i)):t.browser.supportsHTML5Tags(e)?(s=e.createElement("div"),s.innerHTML=i):(o(e),s=r(i,e)),s}}(),t.dom.getParentElement=function(){function _isSameNodeName(n,e){if(!e||!e.length)return!0;return"string"==typeof e?n===e:t.lang.array(e).contains(n)}function _isElement(e){return e.nodeType===t.ELEMENT_NODE}function _hasClassName(n,t,r){var e=(n.className||"").match(r)||[];if(!t)return!!e.length;return e[e.length-1]===t}function _getParentElementWithNodeName(e,t,n){for(;n--&&e&&"BODY"!==e.nodeName;){if(_isSameNodeName(e.nodeName,t))return e;e=e.parentNode}return null}function _getParentElementWithNodeNameAndClassName(e,t,n,r,o){for(;o--&&e&&"BODY"!==e.nodeName;){if(_isElement(e)&&_isSameNodeName(e.nodeName,t)&&_hasClassName(e,n,r))return e;e=e.parentNode}return null}return function(n,e,t){return t=t||50,e.className||e.classRegExp?_getParentElementWithNodeNameAndClassName(n,e.nodeName,e.className,e.classRegExp,t):_getParentElementWithNodeName(n,e.nodeName,t)}}(),t.dom.getStyle=function(){function camelize(e){return e.replace(r,function(e){return e.charAt(1).toUpperCase()})}var e={"float":"styleFloat"in n.createElement("div").style?"styleFloat":"cssFloat"},r=/\-[a-z]/g;return function(n){return{from:function from(r){if(r.nodeType!==t.ELEMENT_NODE)return;var l=r.ownerDocument,s=e[n]||camelize(n),i=r.style,c=r.currentStyle,a=i[s];if(a)return a;if(c)try{return c[s]}catch(h){}var d=l.defaultView||l.parentWindow,f=("height"===n||"width"===n)&&"TEXTAREA"===r.nodeName,u,o;if(d.getComputedStyle)return f&&(u=i.overflow,i.overflow="hidden"),o=d.getComputedStyle(r,null).getPropertyValue(n),0===n.indexOf("border")&&-1!==n.indexOf("width")&&(o=Math.round(parseFloat(o))+"px"),f&&(i.overflow=u||""),o}}}}(),t.dom.hasElementWithTagName=function(){function _getDocumentIdentifier(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=t++)}var e={},t=1;return function(n,r){var o=_getDocumentIdentifier(n)+":"+r,t=e[o];return t||(t=e[o]=n.getElementsByTagName(r)),t.length>0}}(),function(e){function _getDocumentIdentifier(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=n++)}var t={},n=1;e.dom.hasElementWithClassName=function(n,r){if(!e.browser.supportsNativeGetElementsByClassName())return!!n.querySelector("."+r);var i=_getDocumentIdentifier(n)+":"+r,o=t[i];return o||(o=t[i]=n.getElementsByClassName(r)),o.length>0}}(t),t.dom.insert=function(e){
return{after:function after(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function before(t){t.parentNode.insertBefore(e,t)},into:function into(t){t.appendChild(e)}}},t.dom.insertCSS=function(e){return e=e.join("\n"),{into:function into(n){var t=n.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(n.createTextNode(e));var r=n.querySelector("head link");if(r)return void r.parentNode.insertBefore(t,r);var o=n.querySelector("head");o&&o.appendChild(t)}}},t.dom.observe=function(e,t,n){t="string"==typeof t?[t]:t;for(var o,r,i=0,s=t.length;s>i;i++)if(r=t[i],e.addEventListener)if("DOMNodeRemoved"==r){var a=function(){var e=window.MutationObserver||window.WebKitMutationObserver,t=window.addEventListener;return function(n,r){if(e){var o=new e(function(e,t){e[0].removedNodes.length&&r()});o.observe(n,{childList:!0,subtree:!0})}else t&&n.addEventListener("DOMNodeRemoved",r,!1)}}();a(e,n)}else e.addEventListener(r,n,!1);else o=function handlerWrapper(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},n.call(e,t)},e.attachEvent("on"+r,o);return{stop:function stop(){for(var r,i=0,s=t.length;s>i;i++)r=t[i],e.removeEventListener?e.removeEventListener(r,n,!1):e.detachEvent("on"+r,o)}}},t.dom.parse=function(){function parse(o,d,i,f){t.lang.object(e).merge(s).merge(d).get(),i=i||o.ownerDocument||n;var l=i.createDocumentFragment(),u="string"==typeof o,r,c,a;for(r=u?t.dom.getAsDom(o,i):o;r.firstChild;)a=r.firstChild,r.removeChild(a),c=e.disable?a:_convert(a,f),c&&l.appendChild(c);return r.innerHTML="",r.appendChild(l),u?t.quirks.getCorrectInnerHTML(r):r}function _convert(n,s){var l=n.nodeType,a=n.childNodes,u=a.length,c=o[l],t=0,e,i;if(e=c&&c(n),!e)return null;for(t=0;u>t;t++)i=_convert(a[t],s),i&&e.appendChild(i);if(s&&e.childNodes.length<=1&&e.nodeName.toLowerCase()===r&&!e.attributes.length)return e.firstChild;return e}function _handleElement(n){var o,s,c=e.tags,i=n.nodeName.toLowerCase(),a=n.scopeName;if(n._wysihtml5)return null;if(n._wysihtml5=1,"wysihtml5-temp"===n.className)return null;if(a&&"HTML"!=a&&(i=a+":"+i),"outerHTML"in n&&(t.browser.autoClosesUnclosedTags()||"P"!==n.nodeName||"</p>"===n.outerHTML.slice(-4).toLowerCase()||(i="div")),e.disable)s=n.ownerDocument.createElement(i),_handleAttributes(n,s,{disable:!0});else{if(i in c){if(o=c[i],!o||o.remove)return null;o="string"==typeof o?{rename_tag:o}:o}else{if(!n.firstChild)return null;o={rename_tag:r}}s=n.ownerDocument.createElement(o.rename_tag||i),_handleAttributes(n,s,o)}return n=null,s}function _handleAttributes(m,p,s){var n={},T=s.set_class,b=s.add_class,w=s.set_attributes,C=s.check_attributes,x=e.classes,o=0,f=[],N=[],h=[],v=[],S,y,d,g,r,u,a;if(w&&(n=t.lang.object(w).clone()),C&&!s.disable)for(r in C){if(a=c[C[r]],!a)continue;u=a(_getAttribute(m,r)),"string"==typeof u&&(n[r]=u)}else if(s.disable){var E=m.attributes,R=E.length;for(o=0;R>o;o++)u=E[o].value,"string"==typeof u&&(n[E[o].name]=u)}if(T&&f.push(T),b)for(r in b){if(a=l[b[r]],!a)continue;g=a(_getAttribute(m,r)),"string"==typeof g&&f.push(g)}for(x["_wysihtml5-temp-placeholder"]=1,v=m.getAttribute("class"),v&&(f=f.concat(v.split(i))),S=f.length,o=0;S>o;o++)d=f[o],x[d]&&N.push(d);for(y=N.length;y--;)d=N[y],t.lang.array(h).contains(d)||h.unshift(d);h.length&&(n["class"]=h.join(" "));for(r in n)try{p.setAttribute(r,n[r])}catch(A){}n.src&&("undefined"!=typeof n.width&&p.setAttribute("width",n.width),"undefined"!=typeof n.height&&p.setAttribute("height",n.height))}function _getAttribute(e,t){t=t.toLowerCase();var n=e.nodeName;if("IMG"==n&&"src"==t&&_isLoadedImage(e)===!0)return e.src;if(a&&"outerHTML"in e){var r=e.outerHTML.toLowerCase(),o=-1!=r.indexOf(" "+t+"=");return o?e.getAttribute(t):null}return e.getAttribute(t)}function _isLoadedImage(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}}function _handleText(e){return e.ownerDocument.createTextNode(e.data)}var o={1:_handleElement,3:_handleText},r="span",i=/\s+/,s={tags:{},classes:{}},e={},a=!t.browser.supportsGetAttributeCorrectly(),c={url:function(){var e=/^https?:\/\//i;return function(t){if(!t||!t.match(e))return null;return t.replace(e,function(e){return e.toLowerCase()})}}(),src:function(){var e=/^(\/|https?:\/\/)/i;return function(t){if(!t||!t.match(e))return null;return t.replace(e,function(e){return e.toLowerCase()})}}(),href:function(){var e=/^(\/|https?:\/\/|mailto:)/i;return function(t){if(!t||!t.match(e))return null;return t.replace(e,function(e){return e.toLowerCase()})}}(),allow:function(){return function(e){return e}}(),alt:function(){var e=/[^ a-z0-9_\-]/gi;return function(t){if(!t)return"";return t.replace(e,"")}}(),numbers:function(){var e=/\D/g;return function(t){return t=(t||"").replace(e,""),t||null}}()},l={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[String(t).toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[String(t).toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[String(t).toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[String(t).charAt(0)]}}()};return parse}(),t.dom.removeEmptyTextNodes=function(o){for(var e,r=t.lang.array(o.childNodes).get(),i=r.length,n=0;i>n;n++)e=r[n],e.nodeType===t.TEXT_NODE&&""===e.data&&e.parentNode.removeChild(e)},t.dom.renameElement=function(e,o){for(var n=e.ownerDocument.createElement(o),r;r=e.firstChild;)n.appendChild(r);return t.dom.copyAttributes(["align","className"]).from(e).to(n),e.parentNode.replaceChild(n,e),n},t.dom.replaceWithChildNodes=function(e){if(!e.parentNode)return;if(!e.firstChild)return void e.parentNode.removeChild(e);for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null},function(e){function _isBlockElement(t){return"block"===e.getStyle("display").from(t)}function _isLineBreak(e){return"BR"===e.nodeName}function _appendLineBreak(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}function resolveList(t,u){if(!t.nodeName.match(/^(MENU|UL|OL)$/))return;var i=t.ownerDocument,r=i.createDocumentFragment(),s=t.previousElementSibling||t.previousSibling,n,a,c,l,o,e;if(u)for(s&&!_isBlockElement(s)&&_appendLineBreak(r);e=t.firstElementChild||t.firstChild;){for(a=e.lastChild;n=e.firstChild;)c=n===a,l=c&&!_isBlockElement(n)&&!_isLineBreak(n),r.appendChild(n),l&&_appendLineBreak(r);e.parentNode.removeChild(e)}else for(;e=t.firstElementChild||t.firstChild;){if(e.querySelector&&e.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;n=e.firstChild;)r.appendChild(n);else{for(o=i.createElement("p");n=e.firstChild;)o.appendChild(n);r.appendChild(o)}e.parentNode.removeChild(e)}t.parentNode.replaceChild(r,t)}e.resolveList=resolveList}(t.dom),function(e){var t=n,o=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],i=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],s=["referrer","write","open","close"];e.dom.Sandbox=r.extend({constructor:function constructor(t,n){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),this.iframe=this._createIframe()},insertInto:function insertInto(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.iframe)},getIframe:function getIframe(){return this.iframe},getWindow:function getWindow(){this._readyError()},getDocument:function getDocument(){this._readyError()},destroy:function destroy(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function _readyError(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function _createIframe(){var r=this,n=t.createElement("iframe");return n.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(n),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(n.src="javascript:'<html></html>'"),n.onload=function(){n.onreadystatechange=n.onload=null,r._onLoadIframe(n)},n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&(n.onreadystatechange=n.onload=null,r._onLoadIframe(n))},n},_onLoadIframe:function _onLoadIframe(a){if(!e.dom.contains(t.documentElement,a))return;var u=this,l=a.contentWindow,c=a.contentWindow.document,d=t.characterSet||t.charset||"utf-8",f=this._getHtml({charset:d,stylesheets:this.config.stylesheets});if(c.open("text/html","replace"),c.write(f),c.close(),this.getWindow=function(){return a.contentWindow},this.getDocument=function(){return a.contentWindow.document},l.onerror=function(e,t,n){throw new Error("wysihtml5.Sandbox: "+e,t,n)},!e.browser.supportsSandboxedIframes()){var n,r;for(n=0,r=o.length;r>n;n++)this._unset(l,o[n]);for(n=0,r=i.length;r>n;n++)this._unset(l,i[n],e.EMPTY_FUNCTION);for(n=0,r=s.length;r>n;n++)this._unset(c,s[n]);this._unset(c,"cookie","",!0)}this.loaded=!0,setTimeout(function(){u.callback(u)},0)},_getHtml:function _getHtml(n){var t=n.stylesheets,o="",r=0,i;if(t="string"==typeof t?[t]:t)for(i=t.length;i>r;r++)o+='<link rel="stylesheet" href="'+t[r]+'">';return n.stylesheets=o,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(n)},_unset:function _unset(n,t,r,o){try{n[t]=r}catch(s){}try{n.__defineGetter__(t,function(){return r})}catch(s){}if(o)try{n.__defineSetter__(t,function(){})}catch(s){}if(!e.browser.crashesWhenDefineProperty(t))try{var i={get:function get(){return r}};o&&(i.set=function(){}),Object.defineProperty(n,t,i)}catch(s){}}})}(t),function(){var e={className:"class"};t.dom.setAttributes=function(t){return{on:function on(r){for(var n in t)r.setAttribute(e[n]||n,t[n])}}}}(),t.dom.setStyles=function(e){return{on:function on(r){var n=r.style;if("string"==typeof e)return void(n.cssText+=";"+e);for(var t in e)"float"===t?(n.cssFloat=e[t],n.styleFloat=e[t]):n[t]=e[t]}}},function(e){e.simulatePlaceholder=function(i,t,s){var o="placeholder",n=function unset(){t.hasPlaceholderSet()&&t.clear(),t.placeholderSet=!1,e.removeClass(t.element,o)},r=function set(){t.isEmpty()&&(t.placeholderSet=!0,t.setValue(s),e.addClass(t.element,o))};i.on("set_placeholder",r).on("unset_placeholder",n).on("focus:composer",n).on("paste:composer",n).on("blur:composer",r),r()}}(t.dom),function(e){var t=n.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(t.dom),t.quirks.cleanPastedHTML=function(){function cleanPastedHTML(r,o,a){o=o||e,a=a||r.ownerDocument||n;var i,u="string"==typeof r,d,s,f,c,l=0;i=u?t.dom.getAsDom(r,a):r;for(c in o)for(s=i.querySelectorAll(c),d=o[c],f=s.length;f>l;l++)d(s[l]);return s=r=o=null,u?i.innerHTML:i}var e={"a u":t.dom.replaceWithChildNodes};return cleanPastedHTML}(),t.quirks.ensureProperClearing=function(){var e=function clearIfNecessary(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();("<p>&nbsp;</p>"==t||"<p>&nbsp;</p><p>&nbsp;</p>"==t)&&(e.innerHTML="")},0)};return function(n){t.dom.observe(n.element,["cut","keydown"],e)}}(),function(e){var t="%7E";e.quirks.getCorrectInnerHTML=function(s){var n=s.innerHTML;if(-1===n.indexOf(t))return n;var o=s.querySelectorAll("[href*='~'], [src*='~']"),i,a,c,r;for(r=0,c=o.length;c>r;r++)i=o[r].href||o[r].src,a=e.lang.string(i).replace("~").by(t),n=e.lang.string(n).replace(a).by(i);return n}}(t),function(e){var t="wysihtml5-quirks-redraw";e.quirks.redraw=function(n){e.dom.addClass(n,t),e.dom.removeClass(n,t);try{var r=n.ownerDocument;r.execCommand("italic",!1,null),r.execCommand("italic",!1,null)}catch(o){}}}(t),function(e){function _getCumulativeOffsetTop(e){var t=0;if(e.parentNode)do t+=e.offsetTop||0,e=e.offsetParent;while(e);return t}var t=e.dom;e.Selection=r.extend({constructor:function constructor(e){o.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},getBookmark:function getBookmark(){var e=this.getRange();return e&&e.cloneRange()},setBookmark:function setBookmark(e){if(!e)return;this.setSelection(e)},setBefore:function setBefore(t){var e=o.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function setAfter(t){var e=o.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function selectNode(n,u){var r=o.createRange(this.doc),s=n.nodeType===e.ELEMENT_NODE,i="canHaveHTML"in n?n.canHaveHTML:"IMG"!==n.nodeName,c=s?n.innerHTML:n.data,a=""===c||c===e.INVISIBLE_SPACE,l=t.getStyle("display").from(n),d="block"===l||"list-item"===l;if(a&&s&&i&&!u)try{n.innerHTML=e.INVISIBLE_SPACE}catch(f){}i?r.selectNodeContents(n):r.selectNode(n),i&&a&&s?r.collapse(d):i&&a&&(r.setStartAfter(n),r.setEndAfter(n)),this.setSelection(r)},getSelectedNode:function getSelectedNode(n){var t,e;if(n&&this.doc.selection&&"Control"===this.doc.selection.type&&(e=this.doc.selection.createRange(),e&&e.length))return e.item(0);return t=this.getSelection(this.doc),t.focusNode===t.anchorNode?t.focusNode:(e=this.getRange(this.doc),e?e.commonAncestorContainer:this.doc.body)},executeAndRestore:function executeAndRestore(u,c){var n=this.doc.body,g=c&&n.scrollTop,m=c&&n.scrollLeft,f="_wysihtml5-temp-placeholder",h='<span class="'+f+'">'+e.INVISIBLE_SPACE+"</span>",s=this.getRange(this.doc),r,a,l,d,i;if(!s)return void u(n,n);e.browser.hasInsertNodeIssue()?this.doc.execCommand("insertHTML",!1,h):(d=s.createContextualFragment(h),s.insertNode(d));try{u(s.startContainer,s.endContainer)}catch(p){setTimeout(function(){throw p},0)}r=this.doc.querySelector("."+f),r?(i=o.createRange(this.doc),l=r.nextSibling,e.browser.hasInsertNodeIssue()&&l&&"BR"===l.nodeName?(a=this.doc.createTextNode(e.INVISIBLE_SPACE),t.insert(a).after(r),i.setStartBefore(a),i.setEndBefore(a)):(i.selectNode(r),i.deleteContents()),this.setSelection(i)):n.focus(),c&&(n.scrollTop=g,n.scrollLeft=m);try{r.parentNode.removeChild(r)}catch(v){}},executeAndRestoreSimple:function executeAndRestoreSimple(c){var e=this.getRange(),a=this.doc.body,r,s,n,i,t;if(!e)return void c(a,a);i=e.getNodes([3]),s=i[0]||e.startContainer,n=i[i.length-1]||e.endContainer,t={collapsed:e.collapsed,startContainer:s,startOffset:s===e.startContainer?e.startOffset:0,endContainer:n,endOffset:n===e.endContainer?e.endOffset:n.length};try{c(e.startContainer,e.endContainer)}catch(l){setTimeout(function(){throw l},0)}r=o.createRange(this.doc);try{r.setStart(t.startContainer,t.startOffset)}catch(u){}try{r.setEnd(t.endContainer,t.endOffset)}catch(d){}try{this.setSelection(r)}catch(f){}},set:function set(t,n){var e=o.createRange(this.doc);e.setStart(t,n||0),this.setSelection(e)},insertHTML:function insertHTML(n){var r=o.createRange(this.doc),e=r.createContextualFragment(n),t=e.lastChild;this.insertNode(e),t&&this.setAfter(t)},insertNode:function insertNode(t){var e=this.getRange();e&&e.insertNode(t)},surround:function surround(e){var t=this.getRange();if(!t)return;try{t.surroundContents(e),this.selectNode(e)}catch(n){e.appendChild(t.extractContents()),t.insertNode(e)}},scrollIntoView:function scrollIntoView(){var t=this.doc,o=5,i=t.documentElement.scrollHeight>t.documentElement.offsetHeight,n=t._wysihtml5ScrollIntoViewElement=t._wysihtml5ScrollIntoViewElement||function(){var n=t.createElement("span");return n.innerHTML=e.INVISIBLE_SPACE,n}(),r;i&&(this.insertNode(n),r=_getCumulativeOffsetTop(n),n.parentNode.removeChild(n),r>=t.body.scrollTop+t.documentElement.offsetHeight-o&&(t.body.scrollTop=r))},selectLine:function selectLine(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function _selectLine_W3C(){var t=this.doc.defaultView,e=t.getSelection();e.modify("extend","left","lineboundary"),e.modify("extend","right","lineboundary")},_selectLine_MSIE:function _selectLine_MSIE(){var t=this.doc.selection.createRange(),e=t.boundingTop,s=this.doc.body.scrollWidth,a,i,n,r,o;if(!t.moveToPoint)return;for(0===e&&(n=this.doc.createElement("span"),this.insertNode(n),e=n.offsetTop,n.parentNode.removeChild(n)),e+=1,r=-10;s>r;r+=2)try{t.moveToPoint(r,e);break}catch(c){}for(a=e,i=this.doc.selection.createRange(),o=s;o>=0;o--)try{i.moveToPoint(o,a);break}catch(l){}t.setEndPoint("EndToEnd",i),t.select()},getText:function getText(){var e=this.getSelection();return e?e.toString():""},getNodes:function getNodes(t,n){var e=this.getRange();return e?e.getNodes([t],n):[]},getRange:function getRange(){var e=this.getSelection();return e&&e.rangeCount&&e.getRangeAt(0)},getSelection:function getSelection(){return o.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function setSelection(e){var t=this.doc.defaultView||this.doc.parentWindow,n=o.getSelection(t);return n.setSingleRange(e)}})}(t),function(e,t){function hasClass(e,n,r){if(!e.className)return!1;var t=e.className.match(r)||[];return t[t.length-1]===n}function addClass(e,t,n){e.className?(removeClass(e,n),e.className+=" "+t):e.className=t}function removeClass(e,t){e.className&&(e.className=e.className.replace(t,""))}function hasSameClasses(e,t){return e.className.replace(n," ")==t.className.replace(n," ")}function replaceWithOwnChildren(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function elementsHaveSameNonClassAttributes(t,i){if(t.attributes.length!=i.attributes.length)return!1;for(var n=0,s=t.attributes.length,e,r,o;s>n;++n)if(e=t.attributes[n],o=e.name,"class"!=o){if(r=i.attributes.getNamedItem(o),e.specified!=r.specified)return!1;if(e.specified&&e.nodeValue!==r.nodeValue)return!1}return!0}function isSplitPoint(e,n){if(t.dom.isCharacterDataNode(e))return 0===n?!!e.previousSibling:n==e.length?!!e.nextSibling:!0;return n>0&&n<e.childNodes.length}function splitNodeAt(o,e,r){var n;if(t.dom.isCharacterDataNode(e)&&(0===r?(r=t.dom.getNodeIndex(e),e=e.parentNode):r==e.length?(r=t.dom.getNodeIndex(e)+1,e=e.parentNode):n=t.dom.splitDataNode(e,r)),!n){n=e.cloneNode(!1),n.id&&n.removeAttribute("id");for(var i;i=e.childNodes[r];)n.appendChild(i);t.dom.insertAfter(n,e)}return e==o?n:splitNodeAt(o,n.parentNode,t.dom.getNodeIndex(n))}function Merge(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function HTMLApplier(e,t,n,o){this.tagNames=e||[r],this.cssClass=t||"",this.similarClassRegExp=n,this.normalize=o,this.applyToAnyTagName=!1}var r="span",n=/\s+/g;Merge.prototype={doMerge:function doMerge(){for(var r=[],n,e,o,t=0,i=this.textNodes.length;i>t;++t)n=this.textNodes[t],e=n.parentNode,r[t]=n.data,t&&(e.removeChild(n),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=o=r.join(""),o},getLength:function getLength(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function toString(){for(var t=[],e=0,n=this.textNodes.length;n>e;++e)t[e]="'"+this.textNodes[e].data+"'";return"[Merge("+t.join(",")+")]"}},HTMLApplier.prototype={getAncestorWithClass:function getAncestorWithClass(n){for(var r;n;){if(r=this.cssClass?hasClass(n,this.cssClass,this.similarClassRegExp):!0,n.nodeType==e.ELEMENT_NODE&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&r)return n;n=n.parentNode}return!1},postApply:function postApply(o,h){for(var d=o[0],n=o[o.length-1],r=[],e,s=d,l=n,m=0,u=n.length,i,a,t=0,c=o.length;c>t;++t)i=o[t],a=this.getAdjacentMergeableTextNode(i.parentNode,!1),a?(e||(e=new Merge(a),r.push(e)),e.textNodes.push(i),i===d&&(s=e.firstTextNode,m=s.length),i===n&&(l=e.firstTextNode,u=e.getLength())):e=null;var f=this.getAdjacentMergeableTextNode(n.parentNode,!0);if(f&&(e||(e=new Merge(n),r.push(e)),e.textNodes.push(f)),r.length){for(t=0,c=r.length;c>t;++t)r[t].doMerge();h.setStart(s,m),h.setEnd(l,u)}},getAdjacentMergeableTextNode:function getAdjacentMergeableTextNode(n,r){var o=n.nodeType==e.TEXT_NODE,s=o?n.parentNode:n,t,i=r?"nextSibling":"previousSibling";if(o){if(t=n[i],t&&t.nodeType==e.TEXT_NODE)return t}else if(t=s[i],t&&this.areElementsMergeable(n,t))return t[r?"firstChild":"lastChild"];return null},areElementsMergeable:function areElementsMergeable(e,n){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase())&&hasSameClasses(e,n)&&elementsHaveSameNonClassAttributes(e,n)},createContainer:function createContainer(t){var e=t.createElement(this.tagNames[0]);return this.cssClass&&(e.className=this.cssClass),e},applyToTextNode:function applyToTextNode(e){var n=e.parentNode;if(1==n.childNodes.length&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase()))this.cssClass&&addClass(n,this.cssClass,this.similarClassRegExp);else{var r=this.createContainer(t.dom.getDocument(e));e.parentNode.insertBefore(r,e),r.appendChild(e)}},isRemovable:function isRemovable(n){return t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&e.lang.string(n.className).trim()==this.cssClass},undoToTextNode:function undoToTextNode(r,e,t){if(!e.containsNode(t)){var n=e.cloneRange();n.selectNode(t),n.isPointInRange(e.endContainer,e.endOffset)&&isSplitPoint(e.endContainer,e.endOffset)&&(splitNodeAt(t,e.endContainer,e.endOffset),e.setEndAfter(t)),n.isPointInRange(e.startContainer,e.startOffset)&&isSplitPoint(e.startContainer,e.startOffset)&&(t=splitNodeAt(t,e.startContainer,e.startOffset))}this.similarClassRegExp&&removeClass(t,this.similarClassRegExp),this.isRemovable(t)&&replaceWithOwnChildren(t)},applyToRange:function applyToRange(t){var n=t.getNodes([e.TEXT_NODE]);if(!n.length)try{var i=this.createContainer(t.endContainer.ownerDocument);return t.surroundContents(i),void this.selectNode(t,i)}catch(a){}if(t.splitBoundaries(),n=t.getNodes([e.TEXT_NODE]),n.length){for(var r,o=0,s=n.length;s>o;++o)r=n[o],this.getAncestorWithClass(r)||this.applyToTextNode(r);t.setStart(n[0],0),r=n[n.length-1],t.setEnd(r,r.length),this.normalize&&this.postApply(n,t)}},undoToRange:function undoToRange(t){var n=t.getNodes([e.TEXT_NODE]),r,o;if(n.length)t.splitBoundaries(),n=t.getNodes([e.TEXT_NODE]);else{var c=t.endContainer.ownerDocument,i=c.createTextNode(e.INVISIBLE_SPACE);t.insertNode(i),t.selectNode(i),n=[i]}for(var s=0,a=n.length;a>s;++s)r=n[s],o=this.getAncestorWithClass(r),o&&this.undoToTextNode(r,t,o);1==a?this.selectNode(t,n[0]):(t.setStart(n[0],0),r=n[n.length-1],t.setEnd(r,r.length),this.normalize&&this.postApply(n,t))},selectNode:function selectNode(n,t){var r=t.nodeType===e.ELEMENT_NODE,s="canHaveHTML"in t?t.canHaveHTML:!0,i=r?t.innerHTML:t.data,o=""===i||i===e.INVISIBLE_SPACE;if(o&&r&&s)try{t.innerHTML=e.INVISIBLE_SPACE}catch(a){}n.selectNodeContents(t),o&&r?n.collapse(!1):o&&(n.setStartAfter(t),n.setEndAfter(t))},getTextSelectedByRange:function getTextSelectedByRange(r,t){var e=t.cloneRange();e.selectNodeContents(r);var n=e.intersection(t),o=n?n.toString():"";return e.detach(),o},isAppliedToRange:function isAppliedToRange(o){var i=[],t,n=o.getNodes([e.TEXT_NODE]);if(!n.length)return t=this.getAncestorWithClass(o.startContainer),t?[t]:!1;for(var r=0,a=n.length,s;a>r;++r){if(s=this.getTextSelectedByRange(n[r],o),t=this.getAncestorWithClass(n[r]),""!==s&&!t)return!1;i.push(t)}return i},toggleRange:function toggleRange(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)}},e.selection.HTMLApplier=HTMLApplier}(t,o),t.Commands=r.extend({constructor:function constructor(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function support(e){return t.browser.supportsCommand(this.doc,e)},exec:function exec(e,s){var n=t.commands[e],o=t.lang.array(arguments).get(),i=n&&n.exec,r=null;if(this.editor.fire("beforecommand:composer"),i)o.unshift(this.composer),r=i.apply(n,o);else try{r=this.doc.execCommand(e,!1,s)}catch(a){}return"styleWithCSS"!=e&&(this.composer.parent.synchronizer&&this.composer.parent.synchronizer.sync(),this.editor.fire("aftercommand:composer")),r},state:function state(n,i){var e=t.commands[n],r=t.lang.array(arguments).get(),o=e&&e.state;if(o)return r.unshift(this.composer),o.apply(e,r);try{return this.doc.queryCommandState(n)}catch(s){return!1}}}),t.commands.bold={exec:function exec(e,n){return t.commands.formatInline.exec(e,n,"strong")},state:function state(e,n){return t.commands.formatInline.state(e,n,"strong")}},function(t){function _removeFormat(a,o){for(var s=o.length,n=0,t,r,i;s>n;n++)t=o[n],r=e.getParentElement(t,{nodeName:"code"}),i=e.getTextContent(t),i.match(e.autoLink.URL_REG_EXP)&&!r?r=e.renameElement(t,"code"):e.replaceWithChildNodes(t)}function _format(i,d){var v=i.doc,p="_wysihtml5-temp-"+ +new Date,y=/non-matching-class/g,l=0,u,h,o,m,g,c,a,s,f;for(t.commands.formatInline.exec(i,r,n,p,y),h=v.querySelectorAll(n+"."+p),u=h.length;u>l;l++){o=h[l],o.removeAttribute("class");for(f in d)o.setAttribute(f,d[f])}c=o,1===u&&(a=e.getTextContent(o),m=!!o.querySelector("*"),g=""===a||a===t.INVISIBLE_SPACE,!m&&g&&(e.setTextContent(o,d.text||o.href),s=v.createTextNode(" "),i.selection.setAfter(o),e.insert(s).after(o),c=s)),i.selection.setAfter(c)}var r,n="A",e=t.dom;t.commands.createLink={exec:function exec(t,r,e){var n=this.state(t,r);n?t.selection.executeAndRestore(function(){_removeFormat(t,n)}):(e="object"===("undefined"==typeof e?"undefined":_typeof(e))?e:{href:e},_format(t,e)),t.parent.synchronizer.sync()},state:function state(e,n){return t.commands.formatInline.state(e,n,"A")}}}(t),function(e){var n,t=/wysiwyg-font-size-[0-9a-z\-]+/g;e.commands.fontSize={exec:function exec(n,r,o){return e.commands.formatInline.exec(n,r,"span","wysiwyg-font-size-"+o,t)},state:function state(n,r,o){return e.commands.formatInline.state(n,r,"span","wysiwyg-font-size-"+o,t)},value:function value(){return n}}}(t),function(e){var t=/wysiwyg-color-[0-9a-z]+/g;e.commands.foreColor={exec:function exec(n,r,o){return e.commands.formatInline.exec(n,r,"span","wysiwyg-color-"+o,t)},state:function state(n,r,o){return e.commands.formatInline.state(n,r,"span","wysiwyg-color-"+o,t)}}}(t),function(e){function _addClass(e,t,n){e.className?(_removeClass(e,n),e.className+=" "+t):e.className=t}function _removeClass(e,t){e.className=e.className.replace(t,"")}function _isBlankTextNode(t){return t.nodeType===e.TEXT_NODE&&!e.lang.string(t.data).trim()}function _getPreviousSiblingThatIsNotBlank(t){for(var e=t.previousSibling;e&&_isBlankTextNode(e);)e=e.previousSibling;return e}function _getNextSiblingThatIsNotBlank(t){for(var e=t.nextSibling;e&&_isBlankTextNode(e);)e=e.nextSibling;return e}function _addLineBreakBeforeAndAfter(e){var n=e.ownerDocument,t=_getNextSiblingThatIsNotBlank(e),r=_getPreviousSiblingThatIsNotBlank(e);t&&!_isLineBreakOrBlockElement(t)&&e.parentNode.insertBefore(n.createElement("br"),t),r&&!_isLineBreakOrBlockElement(r)&&e.parentNode.insertBefore(n.createElement("br"),e)}function _removeLineBreakBeforeAndAfter(n){var e=_getNextSiblingThatIsNotBlank(n),t=_getPreviousSiblingThatIsNotBlank(n);e&&_isLineBreak(e)&&e.parentNode.removeChild(e),t&&_isLineBreak(t)&&t.parentNode.removeChild(t)}function _removeLastChildIfLineBreak(t){var e=t.lastChild;e&&_isLineBreak(e)&&e.parentNode.removeChild(e)}function _isLineBreak(e){return"BR"===e.nodeName}function _isLineBreakOrBlockElement(e){if(_isLineBreak(e))return!0;if("block"===t.getStyle("display").from(e))return!0;return!1}function _execCommand(r,i,s,o){var n;o&&(n=t.observe(r,"DOMNodeInserted",function(i){var n=i.target,r;if(n.nodeType!==e.ELEMENT_NODE)return;r=t.getStyle("display").from(n),"inline"!==r.substr(0,6)&&(n.className+=" "+o)})),r.execCommand(i,!1,s),n&&n.stop()}function _selectLineAndWrap(n,t){n.selection.selectLine(),n.selection.surround(t),_removeLineBreakBeforeAndAfter(t),_removeLastChildIfLineBreak(t),n.selection.selectNode(t,e.browser.displaysCaretInEmptyContentEditableCorrectly())}function _hasClasses(t){return!!e.lang.string(t.className).trim()}var t=e.dom,n=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE","DIV"];e.commands.formatBlock={exec:function exec(i,c,r,s,a){var f=i.doc,o=this.state(i,c,r,s,a),d=i.config.useLineBreaks,l=d?"DIV":"P",u;if(r="string"==typeof r?r.toUpperCase():r,o)return void i.selection.executeAndRestoreSimple(function(){a&&_removeClass(o,a);var e=_hasClasses(o);e||!d&&"P"!==r?t.renameElement(o,"P"===r?"DIV":l):(_addLineBreakBeforeAndAfter(o),t.replaceWithChildNodes(o))});if((null===r||e.lang.array(n).contains(r))&&(u=i.selection.getSelectedNode(),o=t.getParentElement(u,{nodeName:n})))return void i.selection.executeAndRestore(function(){r&&(o=t.renameElement(o,r)),s&&_addClass(o,s,a)});if(i.commands.support(c))return void _execCommand(f,c,r||l,s);o=f.createElement(r||l),s&&(o.className=s),_selectLineAndWrap(i,o)},state:function state(n,s,e,r,o){e="string"==typeof e?e.toUpperCase():e;var i=n.selection.getSelectedNode();return t.getParentElement(i,{nodeName:e,className:r,classRegExp:o})}}}(t),function(e){function _getTagNames(e){var t=n[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function _getApplier(r,o,i){var n=r+":"+o;return t[n]||(t[n]=new e.selection.HTMLApplier(_getTagNames(r),o,i,!0)),t[n]}var n={strong:"b",em:"i",b:"strong",i:"em"},t={};e.commands.formatInline={exec:function exec(t,i,n,r,o){var e=t.selection.getRange();if(!e)return!1;_getApplier(n,r,o).toggleRange(e),t.selection.setSelection(e)},state:function state(s,l,t,r,a){var o=s.doc,c=n[t]||t,i;if(!e.dom.hasElementWithTagName(o,t)&&!e.dom.hasElementWithTagName(o,c))return!1;if(r&&!e.dom.hasElementWithClassName(o,r))return!1;if(i=s.selection.getRange(),!i)return!1;return _getApplier(t,r,a).isAppliedToRange(i)}}}(t),t.commands.insertHTML={exec:function exec(e,t,n){e.commands.support(t)?e.doc.execCommand(t,!1,n):e.selection.insertHTML(n),e.parent.synchronizer.sync()},state:function state(){return!1}},function(e){var t="IMG";e.commands.insertImage={exec:function exec(n,l,i){i="object"===("undefined"==typeof i?"undefined":_typeof(i))?i:{src:i};var c=n.doc,r=this.state(n),a,s,o;if(r)return n.selection.setBefore(r),o=r.parentNode,o.removeChild(r),e.dom.removeEmptyTextNodes(o),"A"!==o.nodeName||o.firstChild||(n.selection.setAfter(o),o.parentNode.removeChild(o)),void e.quirks.redraw(n.element);r=c.createElement(t);for(s in i)"className"===s&&(s="class"),r.setAttribute(s,i[s]);n.selection.insertNode(r),e.browser.hasProblemsSettingCaretAfterImg()?(a=c.createTextNode(e.INVISIBLE_SPACE),n.selection.insertNode(a),n.selection.setAfter(a)):n.selection.setAfter(r),n.parent.synchronizer.sync()},state:function state(r){var s=r.doc,n,o,i;if(!e.dom.hasElementWithTagName(s,t))return!1;if(n=r.selection.getSelectedNode(),!n)return!1;if(n.nodeName===t)return n;if(n.nodeType!==e.ELEMENT_NODE)return!1;if(o=r.selection.getText(),o=e.lang.string(o).trim())return!1;if(i=r.selection.getNodes(e.ELEMENT_NODE,function(e){return"IMG"===e.nodeName}),1!==i.length)return!1;return i[0]}}}(t),function(e){var t="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function exec(n,r){n.commands.support(r)?(n.doc.execCommand(r,!1,null),e.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",t);
},state:function state(){return!1}}}(t),t.commands.insertOrderedList={exec:function exec(e,i){var s=e.doc,a=e.selection.getSelectedNode(),n=t.dom.getParentElement(a,{nodeName:"OL"}),o=t.dom.getParentElement(a,{nodeName:"UL"}),c="_wysihtml5-temp-"+(new Date).getTime(),l,r;if(!n&&!o&&e.commands.support(i))return void s.execCommand(i,!1,null);n?e.selection.executeAndRestore(function(){t.dom.resolveList(n,e.config.useLineBreaks)}):o?e.selection.executeAndRestore(function(){t.dom.renameElement(o,"ol")}):(e.commands.exec("formatBlock","div",c),r=s.querySelector("."+c),l=""===r.innerHTML||r.innerHTML===t.INVISIBLE_SPACE||"<br>"===r.innerHTML,e.selection.executeAndRestore(function(){n=t.dom.convertToList(r,"ol")}),l&&e.selection.selectNode(n.querySelector("li"),!0))},state:function state(e){var n=e.selection.getSelectedNode();return t.dom.getParentElement(n,{nodeName:"OL"})}},t.commands.insertUnorderedList={exec:function exec(e,i){var s=e.doc,a=e.selection.getSelectedNode(),n=t.dom.getParentElement(a,{nodeName:"UL"}),o=t.dom.getParentElement(a,{nodeName:"OL"}),c="_wysihtml5-temp-"+(new Date).getTime(),l,r;if(!n&&!o&&e.commands.support(i))return void s.execCommand(i,!1,null);n?e.selection.executeAndRestore(function(){t.dom.resolveList(n,e.config.useLineBreaks)}):o?e.selection.executeAndRestore(function(){t.dom.renameElement(o,"ul")}):(e.commands.exec("formatBlock","div",c),r=s.querySelector("."+c),l=""===r.innerHTML||r.innerHTML===t.INVISIBLE_SPACE||"<br>"===r.innerHTML,e.selection.executeAndRestore(function(){n=t.dom.convertToList(r,"ul")}),l&&e.selection.selectNode(n.querySelector("li"),!0))},state:function state(e){var n=e.selection.getSelectedNode();return t.dom.getParentElement(n,{nodeName:"UL"})}},t.commands.italic={exec:function exec(e,n){return t.commands.formatInline.exec(e,n,"em")},state:function state(e,n){return t.commands.formatInline.state(e,n,"em")}},function(e){var t="wysiwyg-text-align-center",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyCenter={exec:function exec(r,o){return e.commands.formatBlock.exec(r,"formatBlock",null,t,n)},state:function state(r,o){return e.commands.formatBlock.state(r,"formatBlock",null,t,n)}}}(t),function(e){var t="wysiwyg-text-align-left",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyLeft={exec:function exec(r,o){return e.commands.formatBlock.exec(r,"formatBlock",null,t,n)},state:function state(r,o){return e.commands.formatBlock.state(r,"formatBlock",null,t,n)}}}(t),function(e){var t="wysiwyg-text-align-right",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyRight={exec:function exec(r,o){return e.commands.formatBlock.exec(r,"formatBlock",null,t,n)},state:function state(r,o){return e.commands.formatBlock.state(r,"formatBlock",null,t,n)}}}(t),function(e){var t="wysiwyg-text-align-justify",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyFull={exec:function exec(r,o){return e.commands.formatBlock.exec(r,"formatBlock",null,t,n)},state:function state(r,o){return e.commands.formatBlock.state(r,"formatBlock",null,t,n)}}}(t),t.commands.redo={exec:function exec(e){return e.undoManager.redo()},state:function state(e){return!1}},t.commands.underline={exec:function exec(e,n){return t.commands.formatInline.exec(e,n,"u")},state:function state(e,n){return t.commands.formatInline.state(e,n,"u")}},t.commands.undo={exec:function exec(e){return e.undoManager.undo()},state:function state(e){return!1}},function(e){function cleanTempElements(t){for(var e;e=t.querySelector("._wysihtml5-temp");)e.parentNode.removeChild(e)}var i=90,c=89,s=8,a=46,d=25,o="data-wysihtml5-selection-node",t="data-wysihtml5-selection-offset",l='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",u='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",r=e.dom;e.UndoManager=e.lang.Dispatcher.extend({constructor:function constructor(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function _observe(){var t=this,o=this.composer.sandbox.getDocument(),f;if(r.observe(this.element,"keydown",function(e){if(e.altKey||!e.ctrlKey&&!e.metaKey)return;var n=e.keyCode,r=n===i&&!e.shiftKey,o=n===i&&e.shiftKey||n===c;r?(t.undo(),e.preventDefault()):o&&(t.redo(),e.preventDefault())}),r.observe(this.element,"keydown",function(n){var e=n.keyCode;if(e===f)return;f=e,(e===s||e===a)&&t.transact()}),e.browser.hasUndoInContextMenu()){var h,m,d=function cleanUp(){cleanTempElements(o),clearInterval(h)};r.observe(this.element,"contextmenu",function(){d(),t.composer.selection.executeAndRestoreSimple(function(){t.element.lastChild&&t.composer.selection.setAfter(t.element.lastChild),o.execCommand("insertHTML",!1,l),o.execCommand("insertHTML",!1,u),o.execCommand("undo",!1,null)}),h=setInterval(function(){o.getElementById("_wysihtml5-redo")?(d(),t.redo()):o.getElementById("_wysihtml5-undo")||(d(),t.undo())},400),m||(m=!0,r.observe(n,"mousedown",d),r.observe(o,["mousedown","paste","cut","copy"],d))})}this.editor.on("newword:composer",function(){t.transact()}).on("beforecommand:composer",function(){t.transact()})},transact:function transact(){var c=this.historyStr[this.position-1],i=this.composer.getValue();if(i===c)return;var l=this.historyStr.length=this.historyDom.length=this.position;l>d&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++;var a=this.composer.selection.getRange(),r=a.startContainer||this.element,u=a.startOffset||0,n,s;r.nodeType===e.ELEMENT_NODE?n=r:(n=r.parentNode,s=this.getChildNodeIndex(n,r)),n.setAttribute(t,u),"undefined"!=typeof s&&n.setAttribute(o,s);var f=this.element.cloneNode(!!i);this.historyDom.push(f),this.historyStr.push(i),n.removeAttribute(t),n.removeAttribute(o)},undo:function undo(){if(this.transact(),!this.undoPossible())return;this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer")},redo:function redo(){if(!this.redoPossible())return;this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer")},undoPossible:function undoPossible(){return this.position>1},redoPossible:function redoPossible(){return this.position<this.historyStr.length},set:function set(n){this.element.innerHTML="";for(var i=0,a=n.childNodes,c=n.childNodes.length;c>i;i++)this.element.appendChild(a[i].cloneNode(!0));var s,e,r;n.hasAttribute(t)?(s=n.getAttribute(t),r=n.getAttribute(o),e=this.element):(e=this.element.querySelector("["+t+"]")||this.element,s=e.getAttribute(t),r=e.getAttribute(o),e.removeAttribute(t),e.removeAttribute(o)),null!==r&&(e=this.getChildNodeByIndex(e,+r)),this.composer.selection.set(e,s)},getChildNodeIndex:function getChildNodeIndex(n,r){for(var e=0,t=n.childNodes,o=t.length;o>e;e++)if(t[e]===r)return e},getChildNodeByIndex:function getChildNodeByIndex(e,t){return e.childNodes[t]}})}(t),t.views.View=r.extend({constructor:function constructor(e,t,n){this.parent=e,this.element=t,this.config=n,this._observeViewChange()},_observeViewChange:function _observeViewChange(){var e=this;this.parent.on("beforeload",function(){e.parent.on("change_view",function(t,n){t===e.name?(e.parent.currentView=e,e.show(),n&&setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function focus(){if(this.element.ownerDocument.querySelector(":focus")===this.element)return;try{this.element.focus()}catch(e){}},hide:function hide(){this.element.style.display="none"},show:function show(){this.element.style.display=""},disable:function disable(){this.element.setAttribute("disabled","disabled")},enable:function enable(){this.element.removeAttribute("disabled")}}),function(t){var e=t.dom,r=t.browser;t.views.Composer=t.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function constructor(e,t,n){this.base(e,t,n),this.textarea=this.parent.textarea,this._initSandbox()},clear:function clear(){this.element.innerHTML=r.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function getValue(n){var e=this.isEmpty()?"":t.quirks.getCorrectInnerHTML(this.element);return n&&(e=this.parent.parse(e)),e=t.lang.string(e).replace(t.INVISIBLE_SPACE).by("")},setValue:function setValue(e,t){t&&(e=this.parent.parse(e));try{this.element.innerHTML=e}catch(n){this.element.innerText=e}},show:function show(){this.iframe.style.display=this._displayStyle||"",this.textarea.element.disabled||(this.disable(),this.enable())},hide:function hide(){this._displayStyle=e.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function disable(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function enable(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function focus(n){t.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var e=this.element.lastChild;n&&e&&("BR"===e.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function getTextContent(){return e.getTextContent(this.element)},hasPlaceholderSet:function hasPlaceholderSet(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")&&this.placeholderSet},isEmpty:function isEmpty(){var e=this.element.innerHTML.toLowerCase();return""===e||"<br>"===e||"<p></p>"===e||"<p><br></p>"===e||this.hasPlaceholderSet()},_initSandbox:function _initSandbox(){var o=this;this.sandbox=new e.Sandbox(function(){o._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var r=this.textarea.element;if(e.insert(this.iframe).after(r),r.form){var t=n.createElement("input");t.type="hidden",t.name="_wysihtml5_mode",t.value=1,e.insert(t).after(r)}},_create:function _create(){var s=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.selection=new t.Selection(this.parent),this.commands=new t.Commands(this.parent),e.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),e.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var o=this.config.name;o&&(e.addClass(this.element,o),e.addClass(this.iframe,o)),this.enable(),this.textarea.element.disabled&&this.disable();var i="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder");i&&e.simulatePlaceholder(this.parent,this,i),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),!this.textarea.element.hasAttribute("autofocus")&&n.querySelector(":focus")!=this.textarea.element||r.isIos()||setTimeout(function(){s.focus(!0)},100),r.clearsContentEditableCorrectly()||t.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function _initAutoLinking(){var n=this,o=r.canDisableAutoLinking(),i=r.doesAutoLinkingInContentEditable();if(o&&this.commands.exec("autoUrlDetect",!1),!this.config.autoLink)return;(!i||i&&o)&&(this.parent.on("newword:composer",function(){e.getTextContent(n.element).match(e.autoLink.URL_REG_EXP)&&n.selection.executeAndRestore(function(n,t){e.autoLink(t.parentNode)})}),e.observe(this.element,"blur",function(){e.autoLink(n.element)}));var a=this.sandbox.getDocument().getElementsByTagName("a"),c=e.autoLink.URL_REG_EXP,s=function getTextContent(r){var n=t.lang.string(e.getTextContent(r)).trim();return"www."===n.substr(0,4)&&(n="http://"+n),n};e.observe(this.element,"keydown",function(o){if(!a.length)return;var i=n.selection.getSelectedNode(o.target.ownerDocument),t=e.getParentElement(i,{nodeName:"A"},4),r;if(!t)return;r=s(t),setTimeout(function(){var e=s(t);if(e===r)return;e.match(c)&&t.setAttribute("href",e)},0)})},_initObjectResizing:function _initObjectResizing(){if(this.commands.exec("enableObjectResizing",!0),r.supportsEvent("resizeend")){var n=["width","height"],i=n.length,o=this.element;e.observe(o,"resizeend",function(c){var r=c.target||c.srcElement,s=r.style,a=0,e;if("IMG"!==r.nodeName)return;for(;i>a;a++)e=n[a],s[e]&&(r.setAttribute(e,parseInt(s[e],10)),s[e]="");t.quirks.redraw(o)})}},_initUndoManager:function _initUndoManager(){this.undoManager=new t.UndoManager(this.parent)},_initLineBreaking:function _initLineBreaking(){function adjust(r){var t=e.getParentElement(r,{nodeName:["P","DIV"]},2);t&&n.selection.executeAndRestore(function(){n.config.useLineBreaks?e.replaceWithChildNodes(t):"P"!==t.nodeName&&e.renameElement(t,"p")})}var n=this,o=["LI","P","H1","H2","H3","H4","H5","H6"],i=["UL","OL","MENU"];this.config.useLineBreaks||e.observe(this.element,["focus","keydown"],function(){if(n.isEmpty()){var e=n.doc.createElement("P");n.element.innerHTML="",n.element.appendChild(e),r.displaysCaretInEmptyContentEditableCorrectly()?n.selection.selectNode(e,!0):(e.innerHTML="<br>",n.selection.setBefore(e.firstChild))}}),e.observe(this.doc,"keydown",function(s){var r=s.keyCode;if(s.shiftKey)return;if(r!==t.ENTER_KEY&&r!==t.BACKSPACE_KEY)return;var a=e.getParentElement(n.selection.getSelectedNode(),{nodeName:o},4);if(a)return void setTimeout(function(){var o=n.selection.getSelectedNode(),s;if("LI"===a.nodeName){if(!o)return;s=e.getParentElement(o,{nodeName:i},2),s||adjust(o)}r===t.ENTER_KEY&&a.nodeName.match(/^H[1-6]$/)&&adjust(o)},0);n.config.useLineBreaks&&r===t.ENTER_KEY&&!t.browser.insertsLineBreaksOnReturn()&&(n.commands.exec("insertLineBreak"),s.preventDefault())})}})}(t),function(o){var t=o.dom,r=n,a=e,c=r.createElement("div"),i=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],s=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","min-width","min-height","max-width","max-height"],l=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",o.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],u=function focusWithoutScrolling(e){if(e.setActive)try{e.setActive()}catch(c){}else{var n=e.style,o=r.documentElement.scrollTop||r.body.scrollTop,i=r.documentElement.scrollLeft||r.body.scrollLeft,s={position:n.position,top:n.top,left:n.left,WebkitUserSelect:n.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(s).on(e),a.scrollTo&&a.scrollTo(i,o)}};o.views.Composer.prototype.style=function(){var n=this,h=r.querySelector(":focus"),e=this.textarea.element,a=e.hasAttribute("placeholder"),m=a&&e.getAttribute("placeholder"),u=e.style.display,g=e.disabled,d;this.blurStylesHost=c.cloneNode(!1),this.disabledStylesHost=c.cloneNode(!1),a&&e.removeAttribute("placeholder"),e===h&&e.blur(),e.disabled=!1,e.style.display=d="none",(e.getAttribute("rows")&&"auto"===t.getStyle("height").from(e)||e.getAttribute("cols")&&"auto"===t.getStyle("width").from(e))&&(e.style.display=d=u),t.copyStyles(s).from(e).to(this.iframe).andTo(this.blurStylesHost),t.copyStyles(i).from(e).to(this.element).andTo(this.blurStylesHost),t.insertCSS(l).into(this.element.ownerDocument),e.disabled=!0,t.copyStyles(s).from(e).to(this.disabledStylesHost),t.copyStyles(i).from(e).to(this.disabledStylesHost),e.disabled=g,e.style.display=u,t.copyStyles(["display"]).from(e).to(this.iframe);var f=o.lang.array(s).without(["display"]);return a&&e.setAttribute("placeholder",m),this.parent.on("focus:composer",function(){n.iframe.className+=" wysihtml5-sandbox-focus"}),this.parent.on("blur:composer",function(){n.iframe.className=n.iframe.className.replace("wysihtml5-sandbox-focus","").trim()}),this.parent.observe("disable:composer",function(){t.copyStyles(f).from(n.disabledStylesHost).to(n.iframe),t.copyStyles(i).from(n.disabledStylesHost).to(n.element)}),this.parent.observe("enable:composer",function(){t.copyStyles(f).from(n.blurStylesHost).to(n.iframe),t.copyStyles(i).from(n.blurStylesHost).to(n.element)}),this}}(t),function(t){var e=t.dom,r=t.browser,o={66:"bold",73:"italic",85:"underline"};t.views.Composer.prototype.observe=function(){var i=this,a=this.getValue(),c=this.sandbox.getIframe(),s=this.element,l=r.supportsEventsInIframeCorrectly()?s:this.sandbox.getWindow(),d=["drop","paste"];e.observe(c,"DOMNodeRemoved",function(){clearInterval(u),i.parent.fire("destroy:composer")});var u=setInterval(function(){e.contains(n.documentElement,c)||(clearInterval(u),i.parent.fire("destroy:composer"))},250);e.observe(l,"focus",function(){i.parent.fire("focus").fire("focus:composer"),setTimeout(function(){a=i.getValue()},0)}),e.observe(l,"blur",function(){a!==i.getValue()&&i.parent.fire("change").fire("change:composer"),i.parent.fire("blur").fire("blur:composer")}),e.observe(s,"dragenter",function(){i.parent.fire("unset_placeholder")}),e.observe(s,d,function(){setTimeout(function(){i.parent.fire("paste").fire("paste:composer")},0)}),e.observe(s,"cut",function(){setTimeout(function(){i.parent.fire("cut").fire("cut:composer")},0)}),e.observe(s,"keyup",function(n){i.parent.synchronizer.sync();var e=n.keyCode;i.parent.fire("keyup"),(e===t.SPACE_KEY||e===t.ENTER_KEY)&&i.parent.fire("newword:composer"),i.parent.fire("input")}),this.parent.on("cut:composer",function(){i.parent.synchronizer.sync()}),this.parent.on("change:composer",function(){i.parent.synchronizer.sync()}),this.parent.on("paste:composer",function(){i.parent.synchronizer.sync(),setTimeout(function(){i.parent.fire("newword:composer")},0)}),r.canSelectImagesInContentEditable()||e.observe(s,"mousedown",function(e){var t=e.target;"IMG"===t.nodeName&&(i.selection.selectNode(t),e.preventDefault())}),r.hasHistoryIssue()&&r.supportsSelectionModify()&&e.observe(s,"keydown",function(e){if(!e.metaKey&&!e.ctrlKey)return;var t=e.keyCode,r=s.ownerDocument.defaultView,n=r.getSelection();(37===t||39===t)&&(37===t&&(n.modify("extend","left","lineboundary"),e.shiftKey||n.collapseToStart()),39===t&&(n.modify("extend","right","lineboundary"),e.shiftKey||n.collapseToEnd()),e.preventDefault())}),e.observe(s,"keydown",function(e){i.parent.fire("keydown");var n=e.keyCode,t=o[n];(e.ctrlKey||e.metaKey)&&!e.altKey&&t&&(i.commands.exec(t),e.preventDefault())}),e.observe(s,"keydown",function(r){var n=i.selection.getSelectedNode(!0),o=r.keyCode,e;!n||"IMG"!==n.nodeName||o!==t.BACKSPACE_KEY&&o!==t.DELETE_KEY||(e=n.parentNode,e.removeChild(n),"A"!==e.nodeName||e.firstChild||e.parentNode.removeChild(e),setTimeout(function(){t.quirks.redraw(s)},0),r.preventDefault())}),r.hasIframeFocusIssue()&&(e.observe(this.iframe,"focus",function(){setTimeout(function(){i.doc.querySelector(":focus")!==i.element&&i.focus()},0)}),e.observe(this.element,"blur",function(){setTimeout(function(){i.selection.getSelection().removeAllRanges()},0)}));var f={IMG:"Image: ",A:"Link: "};e.observe(s,"mouseover",function(r){var e=r.target,t=e.nodeName,n;if("A"!==t&&"IMG"!==t)return;var o=e.hasAttribute("title");o||(n=f[t]+(e.getAttribute("href")||e.getAttribute("src")),e.setAttribute("title",n))})}}(t),function(e){var t=400;e.views.Synchronizer=r.extend({constructor:function constructor(e,t,n){this.editor=e,this.textarea=t,this.composer=n,this._observe()},fromComposerToTextarea:function fromComposerToTextarea(t){this.textarea.setValue(e.lang.string(this.composer.getValue()).trim(),t)},fromTextareaToComposer:function fromTextareaToComposer(t){var e=this.textarea.getValue();e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function sync(t){var n=10,e=this;this.syncTimeout&&(n=300,clearTimeout(this.syncTimeout)),this.syncTimeout=window.setTimeout(function(){"textarea"===e.editor.currentView.name?e.fromTextareaToComposer(t):e.fromComposerToTextarea(t),clearTimeout(e.syncTimeout)},n)},_observe:function _observe(){var t=this,n=this.textarea.element.form;n&&(e.dom.observe(n,"submit",function(){t.sync(!0)}),e.dom.observe(n,"reset",function(){setTimeout(function(){t.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(e){"composer"===e?t.fromTextareaToComposer(!0):t.fromComposerToTextarea(!0)})}})}(t),t.views.Textarea=t.views.View.extend({name:"textarea",constructor:function constructor(e,t,n){this.base(e,t,n),this._observe()},clear:function clear(){this.element.value=""},getValue:function getValue(t){var e=this.isEmpty()?"":this.element.value;return t&&(e=this.parent.parse(e)),e},setValue:function setValue(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},hasPlaceholderSet:function hasPlaceholderSet(){var n=t.browser.supportsPlaceholderAttributeOn(this.element),r=this.element.getAttribute("placeholder")||null,e=this.element.value,o=!e;return n&&o||e===r},isEmpty:function isEmpty(){return!t.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function _observe(){var n=this.element,e=this.parent,r={focusin:"focus",focusout:"blur"},o=t.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];e.on("beforeload",function(){t.dom.observe(n,o,function(t){var n=r[t.type]||t.type;e.fire(n).fire(n+":textarea")}),t.dom.observe(n,["paste","drop"],function(){setTimeout(function(){e.fire("paste").fire("paste:textarea")},0)})})}}),function(t){var e=t.dom,r="wysihtml5-command-dialog-opened",o="input, select, textarea",i="[data-wysihtml5-dialog-field]",s="data-wysihtml5-dialog-field";t.toolbar.Dialog=t.lang.Dispatcher.extend({constructor:function constructor(e,t){this.link=e,this.container=t},_observe:function _observe(){if(this._observed)return;var n=this,s=function callbackWrapper(t){var e=n._serialize();e==n.elementToChange?n.fire("edit",e):n.fire("save",e),n.hide(),t.preventDefault(),t.stopPropagation()};e.observe(n.link,"click",function(){e.hasClass(n.link,r)&&setTimeout(function(){n.hide()},0)}),e.observe(this.container,"keydown",function(e){var r=e.keyCode;r===t.ENTER_KEY&&s(e),r===t.ESCAPE_KEY&&n.hide()}),e.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",s),e.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){n.fire("cancel"),n.hide(),e.preventDefault(),e.stopPropagation()});for(var a=this.container.querySelectorAll(o),i=0,c=a.length,l=function _clearInterval(){clearInterval(n.interval)};c>i;i++)e.observe(a[i],"change",l);this._observed=!0},_serialize:function _serialize(){for(var n=this.elementToChange||{},t=this.container.querySelectorAll(i),r=t.length,e=0;r>e;e++)n[t[e].getAttribute(s)]=t[e].value;return n},_interpolate:function _interpolate(c){for(var e,r,o,l=n.querySelector(":focus"),a=this.container.querySelectorAll(i),u=a.length,t=0;u>t;t++){if(e=a[t],e===l)continue;if(c&&"hidden"===e.type)continue;r=e.getAttribute(s),o=this.elementToChange?this.elementToChange[r]||"":e.defaultValue,e.value=o}},show:function show(t){if(e.hasClass(this.link,r))return;var i=this,n=this.container.querySelector(o);if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){i._interpolate(!0)},500)),e.addClass(this.link,r),this.container.style.display="",this.fire("show"),n&&!t)try{n.focus()}catch(s){}},hide:function hide(){clearInterval(this.interval),this.elementToChange=null,e.removeClass(this.link,r),this.container.style.display="none",this.fire("hide")}})}(t),function(t){var e=t.dom,i={position:"relative"},r={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},s={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},o={"x-webkit-speech":"",speech:""};t.toolbar.Speech=function(u,c){var a=n.createElement("input");if(!t.browser.supportsSpeechApiOn(a))return void(c.style.display="none");var d=u.editor.textarea.element.getAttribute("lang");d&&(o.lang=d);var l=n.createElement("div");t.lang.object(r).merge({width:c.offsetWidth+"px",height:c.offsetHeight+"px"}),e.insert(a).into(l),e.insert(l).into(c),e.setStyles(s).on(a),e.setAttributes(o).on(a),e.setStyles(r).on(l),e.setStyles(i).on(c);var f="onwebkitspeechchange"in a?"webkitspeechchange":"speechchange";e.observe(a,f,function(){u.execCommand("insertText",a.value),a.value=""}),e.observe(a,"click",function(t){e.hasClass(c,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})}}(t),function(t){var i="wysihtml5-command-disabled",s="wysihtml5-commands-disabled",o="wysihtml5-command-active",a="wysihtml5-action-active",e=t.dom;t.toolbar.Toolbar=r.extend({constructor:function constructor(o,e){this.editor=o,this.container="string"==typeof e?n.getElementById(e):e,this.composer=o.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var i=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),s=i.length,r=0;s>r;r++)new t.toolbar.Speech(this,i[r])},_getLinks:function _getLinks(e){for(var a=this[e+"Links"]=t.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),u=a.length,o=0,l=this[e+"Mapping"]={},n,c,r,i,s;u>o;o++)n=a[o],r=n.getAttribute("data-wysihtml5-"+e),i=n.getAttribute("data-wysihtml5-"+e+"-value"),c=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+r+"']"),s=this._getDialog(n,r),l[r+":"+i]={link:n,group:c,name:r,value:i,dialog:s,state:!1}},_getDialog:function _getDialog(i,n){var e=this,r=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']"),o,s;return r&&(o=new t.toolbar.Dialog(i,r),o.on("show",function(){s=e.composer.selection.getBookmark(),e.editor.fire("show:dialog",{command:n,dialogContainer:r,commandLink:i})}),o.on("save",function(t){s&&e.composer.selection.setBookmark(s),e._execCommand(n,t),e.editor.fire("save:dialog",{command:n,dialogContainer:r,commandLink:i})}),o.on("cancel",function(){e.editor.focus(!1),e.editor.fire("cancel:dialog",{command:n,dialogContainer:r,commandLink:i})})),o},execCommand:function execCommand(t,n){if(this.commandsDisabled)return;var e=this.commandMapping[t+":"+n];e&&e.dialog&&!e.state?e.dialog.show():this._execCommand(t,n)},_execCommand:function _execCommand(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function execAction(t){var e=this.editor;"change_view"===t&&(e.currentView===e.textarea?e.fire("change_view","composer"):e.fire("change_view","textarea"))},_observe:function _observe(){for(var t=this,r=this.editor,n=this.container,i=this.commandLinks.concat(this.actionLinks),a=i.length,o=0;a>o;o++)e.setAttributes({href:"javascript:;",unselectable:"on"}).on(i[o]);e.delegate(n,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(e){e.preventDefault()}),e.delegate(n,"[data-wysihtml5-command]","click",function(n){var e=this,r=e.getAttribute("data-wysihtml5-command"),o=e.getAttribute("data-wysihtml5-command-value");t.execCommand(r,o),n.preventDefault()}),e.delegate(n,"[data-wysihtml5-action]","click",function(e){var n=this.getAttribute("data-wysihtml5-action");t.execAction(n),e.preventDefault()}),r.on("focus:composer",function(){t.bookmark=null,clearInterval(t.interval),t.interval=setInterval(function(){t._updateLinkStates()},500)}),r.on("blur:composer",function(){clearInterval(t.interval)}),r.on("destroy:composer",function(){clearInterval(t.interval)}),r.on("change_view",function(r){setTimeout(function(){t.commandsDisabled="composer"!==r,t._updateLinkStates(),t.commandsDisabled?e.addClass(n,s):e.removeClass(n,s)},0)})},_updateLinkStates:function _updateLinkStates(){var l=this.commandMapping,u=this.actionMapping,c,r,s,n;for(c in l){if(n=l[c],this.commandsDisabled?(r=!1,e.removeClass(n.link,o),n.group&&e.removeClass(n.group,o),n.dialog&&n.dialog.hide()):(r=this.composer.commands.state(n.name,n.value),t.lang.object(r).isArray()&&(r=1===r.length?r[0]:!0),e.removeClass(n.link,i),n.group&&e.removeClass(n.group,i)),n.state===r)continue;n.state=r,r?(e.addClass(n.link,o),n.link.setAttribute("aria-pressed","true"),n.group&&(e.addClass(n.group,o),n.group.setAttribute("aria-pressed","true")),n.dialog&&("object"===("undefined"==typeof r?"undefined":_typeof(r))?n.dialog.show(r):n.dialog.hide())):(e.removeClass(n.link,o),n.link.setAttribute("aria-pressed","false"),n.group&&(e.removeClass(n.group,o),n.group.setAttribute("aria-pressed","false")),n.dialog&&n.dialog.hide())}for(c in u)s=u[c],"change_view"===s.name&&(s.state=this.editor.currentView===this.editor.textarea,s.state?e.addClass(s.link,a):e.removeClass(s.link,a))},show:function show(){this.container.style.display=""},hide:function hide(){this.container.style.display="none"}})}(t),function(e){var t,r={name:t,style:!0,toolbar:t,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:t,supportTouchDevices:!0};e.Editor=e.lang.Dispatcher.extend({constructor:function constructor(t,o){if(this.textareaElement="string"==typeof t?n.getElementById(t):t,this.config=e.lang.object({}).merge(r).merge(o).get(),this.textarea=new e.views.Textarea(this,this.textareaElement,this.config),this.currentView=this.textarea,this._isCompatible=e.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var i=this;return void setTimeout(function(){i.fire("beforeload").fire("load")},0)}e.dom.addClass(n.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.textareaElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",function(){this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar))})},isCompatible:function isCompatible(){return this._isCompatible},clear:function clear(){return this.currentView.clear(),this},getValue:function getValue(e){return this.currentView.getValue(e)},setValue:function setValue(e,t){if(this.fire("unset_placeholder"),!e)return this.clear();return this.currentView.setValue(e,t),this},focus:function focus(e){return this.currentView.focus(e),this},disable:function disable(){return this.currentView.disable(),this},enable:function enable(){return this.currentView.enable(),this},isEmpty:function isEmpty(){return this.currentView.isEmpty()},hasPlaceholderSet:function hasPlaceholderSet(){return this.currentView.hasPlaceholderSet()},parse:function parse(t){var n=this.config.parser(t,this.config.parserRules,this.composer.sandbox.getDocument(),!0);
return"object"===("undefined"==typeof t?"undefined":_typeof(t))&&e.quirks.redraw(t),n},_initParser:function _initParser(){this.on("paste:composer",function(){var n=!0,t=this;t.composer.selection.executeAndRestore(function(){e.quirks.cleanPastedHTML(t.composer.element),t.parse(t.composer.element)},n)})}})}(t),t};"function"==typeof define&&define.amd?define("bundles/wysihtml5/wysihtml5-0.4.0pre",[],function(){return t()}):window.wysihtml5=t()}(window);
define("bundles/wysihtml5/nls/toolbar",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(t){var e=function(t,e,l){var a=function template(o){var a=[],s={},l,i=o||{};return function(e,i,o){a.push('<div style="display:none;position:relative;" role="toolbar" tabindex="0"'+t.attr("title",e("HTML editing toolbar"),!0,!1)+t.cls([i+"-toolbar"],[!0])+'><div style="overflow:auto;"><div style="float:left;"'+t.cls(["left",i+"-commands"],[null,!0])+"><span data-wysihtml5-order='0' class=\"hide\"></span>"),o["toolbar.b"]&&a.push('<button data-wysihtml5-order=\'1\' data-wysihtml5-command="bold" aria-pressed="false" style="font-weight:bold; width: 30px;" type="button"'+t.attr("title",e("Make text bold"),!0,!1)+t.cls([i+"-toolbar-item"],[!0])+">"+t.escape(null==(l=e("B"))?"":l)+"</button>"),o["toolbar.strong"]&&a.push('<button data-wysihtml5-order=\'1\' data-wysihtml5-command="formatInline" data-wysihtml5-command-value="strong" aria-pressed="false" style="font-weight:bold; width: 30px;" type="button"'+t.attr("title",e("Make text bold"),!0,!1)+t.cls([i+"-toolbar-item"],[!0])+">"+t.escape(null==(l=e("B"))?"":l)+"</button>"),o["toolbar.i"]&&a.push('<button data-wysihtml5-order=\'2\' data-wysihtml5-command="italic" aria-pressed="false" style="font-style:italic; font-family: serif; width: 30px;" type="button"'+t.attr("title",e("Make text italic"),!0,!1)+t.cls([i+"-toolbar-item"],[!0])+">"+t.escape(null==(l=e("I"))?"":l)+"</button>"),o["toolbar.em"]&&a.push('<button data-wysihtml5-order=\'2\' data-wysihtml5-command="formatInline" data-wysihtml5-command-value="em" aria-pressed="false" style="font-style:italic; font-family: serif; width: 30px;" type="button"'+t.attr("title",e("Make text italic"),!0,!1)+t.cls([i+"-toolbar-item"],[!0])+">"+t.escape(null==(l=e("I"))?"":l)+"</button>"),o["toolbar.ul"]&&a.push('<button data-wysihtml5-order=\'3\' data-wysihtml5-command="insertUnOrderedList" aria-pressed="false" type="button"'+t.attr("title",e("Insert bullets"),!0,!1)+' style="width:30px;"'+t.cls([i+"-toolbar-item"],[!0])+'><span class="cif-list-ul"></span></button>'),o["toolbar.ol"]&&a.push('<button data-wysihtml5-order=\'4\' data-wysihtml5-command="insertOrderedList" aria-pressed="false" type="button"'+t.attr("title",e("Insert numbered bullets"),!0,!1)+' style="width:30px;"'+t.cls([i+"-toolbar-item"],[!0])+'><span class="cif-list-ol"></span></button>'),a.push('</div><div style="float:right;"'+t.cls(["right",i+"-command-view"],[null,!0])+'><span data-wysihtml5-order=\'0\' class="hide"></span></div><div style="clear:both;"></div></div><div'+t.cls([i+"-toolbar-modals"],[!0])+"></div></div>")}.call(this,"_t"in i?i._t:"undefined"!=typeof e?e:void 0,"prefix"in i?i.prefix:"undefined"!=typeof prefix?prefix:void 0,"options"in i?i.options:"undefined"!=typeof options?options:void 0),a.join("")};return function(t){return t&&"_t"in t&&(e=t._t.merge(e)),a(t)}};"function"==typeof define&&define.amd?define('bundles/wysihtml5/toolbar.html',["js/vendor/jade","i18n!bundles/wysihtml5/nls/toolbar"],function(t,a){var l;return e(t,a,l)}):t.jade.templates["bundles.wysihtml5.toolbar"]=e(t.jade.helpers)}(window);
!function(e){var t=function init($,_,s,l,a,o){var n={"prefix.css":"","prefix.data":"data-wysihtml5","composer.class":"wysihtml5","composer.stylesheet":"editor.css","toolbar.enabled":!0,"toolbar.separate":!1,"toolbar.b":!0,"toolbar.strong":!1,"toolbar.i":!0,"toolbar.em":!1,"toolbar.ul":!0,"toolbar.ol":!0,useLineBreaks:!0,parserRules:{tags:{b:1,i:1,p:1,ul:1,li:1,ol:1,u:1,br:1,a:{check_attributes:{href:"url",target:"allow"}}}}},r=function setupAutoResizeTextarea(t){var e=function resize(){var c=parseInt(t.css("height"),10)||0,i=parseInt(t.css("min-height"),10)||0,d=parseInt(t.css("max-height"),10)||0,r=parseInt(t.css("padding-top"),10)||0,e=parseInt(t.css("padding-bottom"),10)||0,s=parseInt(t.css("border-top"),10)||0,o=parseInt(t.css("border-bottom"),10)||0,l=function adjust(t){var n=i?Math.max(parseInt(t,10)+s+o+r+e||0,i):c+s+o+r+e;return d?Math.min(n,d):Math.max(n,t+s+o+r+e)},a=t.get(0).scrollHeight-r-e,n=l(a);t.css({height:n}),a>n?t.css({"overflow-y":"auto"}):t.css({"overflow-y":"hidden"})};t.on("keyup focus",e),e()},i=function setupAutoResize(t){var e=$(t.textareaElement);t.on("load",function(){if(t.composer){var r=$(t.composer.iframe),f=$(r[0].contentWindow.document),s=f.find("html").css({height:"100%",width:"100%",margin:0,padding:0}).find("body").css({height:"auto",width:"100%",margin:0,padding:0}),u=parseInt(e.css("height"),10)||0,c=parseInt(e.css("min-height"),10)||0,h=parseInt(e.css("max-height"),10)||0,l=parseInt(r.css("padding-top"),10)||0,n=parseInt(r.css("padding-bottom"),10)||0,a=parseInt(r.css("border-top"),10)||0,i=parseInt(r.css("border-bottom"),10)||0,d=function adjust(t){var e=c?Math.max(parseInt(t,10)+a+i+l+n||0,c):u+a+i+l+n;return h?Math.min(e,h):Math.max(e,t+a+i+l+n)},o=function resize(){var t=r;if($(r).is(":visible")){t.height(d(s.outerHeight()));var e=s.children(),o=e.length&&1==e.get(0).nodeType?e.get(0).offsetTop:0;t.height(d(s.get(0).scrollHeight+o)+2),s.height()<parseInt(s.css("line-height"),10)&&t.height(d(s.css("line-height")))}s.find("img").off("load",resize),s.find("img").on("load",resize)};r.css({height:e.css("height")}),t.on("keyup",o),t.on("aftercommand:composer",o),t.on("change_view",o),o()}})},d=function customize(s,e){var r=_.defaults(e,t.defaults),n=["composer.stylesheet"];_(n).each(function(s){_(e).has(s)&&(r[s]=_.union(t.defaults[s],e[s]))});var a=["parser"];return _(a).each(function(t){_(e).has(t)&&(r[t]=e[t])}),o.parse(s,r,t.defaults["prefix.data"]+"-")},e={},c=function wysiEditorBase(h,t,a,d){var o=$(h);t["toolbar.separate"]||(a.insertBefore(o[0]),"100%"!=o[0].style.width&&a.css("width",o[0].style.width)),o.after(d);var l={toolbar:t["toolbar.enabled"]===!0?a[0]:!1,parserRules:t.parserRules,composerClassName:t["composer.class"],stylesheets:_.isArray(t["composer.stylesheet"])?t["composer.stylesheet"]:[t["composer.stylesheet"]],useLineBreaks:t.useLineBreaks};_(t).has("parser")&&(l.parser=t.parser);var n=new s.Editor(o[0],l);_.each(["change","input","paste","keyup","keydown"],function(t){n.on(t,function(e){o.trigger(t,e)})}),i(n),r($(n.textareaElement).addClass(t["prefix.css"]+"-rich-editor"));for(var c in e)"function"==typeof e[c]&&(n.uid=_.uniqueId(),e[c](n,a,d,t));return n},t=function wysiEditor(t,e){return wysiEditor.constructAndReturnElements(t,e).editor};return t.constructAndReturnElements=function(e,o){var n=$(e),t=d(n,o||{}),r=$(l({_t:a,prefix:t["prefix.css"],options:t})),s=$("<div>").addClass(t["prefix.css"]+"-footer"),i=new c(e,t,r,s);return{editor:i,$toolbar:r,$footer:s}},t.defaults=n,t.setupSecondaryTextarea=function(e,t){s.dom.copyStyles(["overflow-y","width"]).from(e.textareaElement).to(t[0]),r(t),t.on("input keyup keydown focus blur click mouseover mouseup",function(t){$(e.textarea.element).trigger(t.type)})},t.insertIntoLeftToolbar=function(s,e,t){var o=!1,r=s.find(".left").find("[data-wysihtml5-order]");r.each(function(o){var s=$(this);t<s.attr("data-wysihtml5-order")?e.insertBefore(s).attr({"data-wysihtml5-order":t}):r.length==o+1&&e.insertAfter(s).attr({"data-wysihtml5-order":t})})},t.insertIntoRightToolbar=function(s,e,t){var o=!1,r=s.find(".right").find("[data-wysihtml5-order]");r.each(function(o){var s=$(this);t<s.attr("data-wysihtml5-order")?e.insertBefore(s).attr({"data-wysihtml5-order":t}):r.length==o+1&&e.insertAfter(s).attr({"data-wysihtml5-order":t})})},t.updateFooter=function(t,e){t.html(e)},t.plugin=function(t,r){e[t]=r},t};"function"==typeof define&&define.amd?define("bundles/wysihtml5/editor",["jquery","underscore","bundles/wysihtml5/wysihtml5-0.4.0pre","bundles/wysihtml5/toolbar.html","i18n!bundles/wysihtml5/nls/toolbar","js/lib/data.attributes"],function($,_,e,r,s,o){return t($,_,e,r,s,o)}):window.wysiEditor=t(window.$,window._,window.wysihtml5,window.jade.templates["bundles.wysihtml5.toolbar"],window.DataAttributes)}(window);
define("bundles/wysihtml5/nls/toolbar-code",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(t){var e=function(e,t,o){var n=function template(d){var o=[],r={},i,n=d||{};return function(t,n){o.push('<button data-wysihtml5-command="code" data-wysihtml5-order=\'6\' type="button"'+e.attr("title",t("Format text as code"),!0,!1)+e.cls([n+"-toolbar-item"],[!0])+">"+(null==(i=t("&lt;code&gt;"))?"":i)+"</button>")}.call(this,"_t"in n?n._t:"undefined"!=typeof t?t:void 0,"prefix"in n?n.prefix:"undefined"!=typeof prefix?prefix:void 0),o.join("")};return function(e){return e&&"_t"in e&&(t=e._t.merge(t)),n(e)}};"function"==typeof define&&define.amd?define('bundles/wysihtml5/toolbar-code.html',["js/vendor/jade","i18n!bundles/wysihtml5/nls/toolbar-code"],function(t,n){var o;return e(t,n,o)}):t.jade.templates["bundles.wysihtml5.toolbar-code"]=e(t.jade.helpers)}(window);
!function(t){var e=function init($,e,t,n,o){return e.commands.code={exec:function exec(n){var t=this.state(n);if(t)n.selection.executeAndRestore(function(){var n=t.querySelector("code");e.dom.replaceWithChildNodes(t),n&&e.dom.replaceWithChildNodes(n)});else{var o=n.selection.getRange(),i=o.extractContents(),d=n.doc.createElement("code");t=n.doc.createElement("pre"),t.appendChild(d),d.appendChild(i),o.insertNode(t),n.selection.selectNode(t);var l=document.createElement("br");$(l).insertAfter(t)}},state:function state(n){var t=n.selection.getSelectedNode();return e.dom.getParentElement(t,{nodeName:"CODE"})&&e.dom.getParentElement(t,{nodeName:"PRE"})}},t.defaults=$.extend(t.defaults,{"toolbar.code":!0}),t.plugin("code",function(l,d,r,e){if(e["toolbar.code"]){var i=$(n({_t:o,prefix:e["prefix.css"]}));t.insertIntoLeftToolbar(d,i,6)}}),t};"function"==typeof define&&define.amd?define("bundles/wysihtml5/code",["jquery","bundles/wysihtml5/wysihtml5-0.4.0pre","bundles/wysihtml5/editor","bundles/wysihtml5/toolbar-code.html","i18n!bundles/wysihtml5/nls/toolbar-code"],function($,t,n,o,d){return e($,t,n,o,d)}):e(window.$,window.wysihtml5,window.wysiEditor,window.jade.templates["bundles.wysihtml5.toolbar-code"])}(window);
!function(e){var module=function module(t){var e=!1,a=function mathJaxCB(t){return function(){if(e)return t();return e=!0,MathJax.Hub.Config({config:["MMLorHTML.js"],styleSheets:[],styles:{},jax:["input/TeX"],extensions:["tex2jax.js"],preJax:null,postJax:null,preRemoveClass:"MathJax_Preview",showProcessingMessages:!0,messageStyle:"none",displayAlign:"center",displayIndent:"0em",delayStartupUntil:"none",skipStartupTypeset:!1,elements:[],tex2jax:{inlineMath:[["$$","$$"],["\\(","\\)"]],displayMath:[["\\[","\\]"]],skipTags:["script","noscript","style","textarea","pre","code"],ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",processEscapes:!1,processEnvironments:!0,preview:"TeX"},mml2jax:{preview:"alttext"},jsMath2jax:{preview:"TeX"},TeX:{TagSide:"right",TagIndent:".8em",MultLineWidth:"85%",Macros:{},extensions:["AMSmath.js","AMSsymbols.js"]},MathML:{useMathMLspacing:!1},"HTML-CSS":{scale:100,availableFonts:["STIX","TeX"],preferredFont:"TeX",webFont:"TeX",imageFont:"TeX",undefinedFamily:'STIXGeneral,"Arial Unicode MS",serif',showMathMenu:!0,styles:{},tooltip:{delayPost:600,delayClear:600,offsetX:10,offsetY:5}},NativeMML:{scale:100,showMathMenu:!0,showMathMenuMSIE:!0,styles:{}},MathMenu:{delay:400,helpURL:"http://www.mathjax.org/help/user/",showRenderer:!0,showFontMenu:!1,showContext:!1,windowSettings:{status:"no",toolbar:"no",locationbar:"no",menubar:"no",directories:"no",personalbar:"no",resizable:"yes",scrollbars:"yes",width:100,height:50},styles:{}},MMLorHTML:{prefer:{MSIE:"MML",Firefox:"MML",Opera:"HTML",other:"HTML"}}}),MathJax.Hub.Configured(),t()}};return{render:function render(s,e){var n=a(function(){setTimeout(function(){s?(MathJax.Hub.Queue(["Typeset",MathJax.Hub,s],e),MathJax.Hub.Queue(["Rerender",MathJax.Hub,s],e)):(MathJax.Hub.Queue(["Typeset",MathJax.Hub],e),MathJax.Hub.Queue(["Rerender",MathJax.Hub],e))},1)});t.ready("MathJax",n)}}};"function"==typeof define&&define.amd?define("js/lib/coursera.mathjax",["js/lib/thirdParties"],function(e){return module(e)}):e.mathjax=module(window.thirdparties)}(window);
define("bundles/wysihtml5/nls/toolbar-latex",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(t){var e=function(e,t,i){var n=function template(a){var i=[],r={},o,n=a||{};return function(t,n){i.push('<button data-wysihtml5-custom-command="latex"'+e.attr("title",t("Equation Editor"),!0,!1)+' type="button"'+e.cls([n+"-toolbar-item "+n+"-toolbar-latex"],[!0])+">"+e.escape(null==(o=t("Math"))?"":o)+"</button>")}.call(this,"_t"in n?n._t:"undefined"!=typeof t?t:void 0,"prefix"in n?n.prefix:"undefined"!=typeof prefix?prefix:void 0),i.join("")};return function(e){return e&&"_t"in e&&(t=e._t.merge(t)),n(e)}};"function"==typeof define&&define.amd?define('bundles/wysihtml5/toolbar-latex.html',["js/vendor/jade","i18n!bundles/wysihtml5/nls/toolbar-latex"],function(t,n){var i;return e(t,n,i)}):t.jade.templates["bundles.wysihtml5.toolbar-latex"]=e(t.jade.helpers)}(window);
define("bundles/wysihtml5/nls/toolbar-modal-latex",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var t=function(e,t,l){var a=function template(d){var i=[],o={},a,l=d||{};return function(l,t){i.push('<div data-wysihtml5-modal-latex="data-wysihtml5-modal-latex"'+e.attr("data-modal-overlay-class",l+"-overlay",!0,!1)+' class="modal hide"><form style="margin:0px;padding:0px;"><div style="overflow:auto;"><div style="float:left;width:20%;"><label style="padding:10px;font-weight:bold;text-align:right;">'+e.escape(null==(a=t("LaTeX:"))?"":a)+'</label></div><div style="float:right;width:80%;"><textarea name="latex"'+e.attr("placeholder",t("enter a latex equation"),!0,!1)+e.cls([l+"-modal-latex-textarea"],[!0])+'></textarea></div></div><div class="coursera-wysihtml5-latex-preview-area"><div style="float:left;width:20%;"><label style="padding:10px;font-weight:bold;text-align:right;">'+e.escape(null==(a=t("Preview:"))?"":a)+'</label></div><div style="float:right;width:80%;"><div class="coursera-wysihtml5-latex-preview"></div></div></div><div class="modal-footer"><button type="submit" data-modal-close="data-modal-close" style="margin-right:10px;"'+e.cls(["btn",l+"-modal-link-submit"],[null,!0])+">"+e.escape(null==(a=t("Create"))?"":a)+'</button><a data-modal-close="data-modal-close" href="javascript:;">'+e.escape(null==(a=t("Cancel"))?"":a)+"</a></div></form></div>")}.call(this,"prefix"in l?l.prefix:"undefined"!=typeof prefix?prefix:void 0,"_t"in l?l._t:"undefined"!=typeof t?t:void 0),i.join("")};return function(e){return e&&"_t"in e&&(t=e._t.merge(t)),a(e)}};"function"==typeof define&&define.amd?define('bundles/wysihtml5/toolbar-modal-latex.html',["js/vendor/jade","i18n!bundles/wysihtml5/nls/toolbar-modal-latex"],function(e,a){var l;return t(e,a,l)}):e.jade.templates["bundles.wysihtml5.toolbar-modal-latex"]=t(e.jade.helpers)}(window);
!function(o){var n=function findLatexRegions(n){for(var o=/\${2}/g,r=[],t={},e=o.exec(n);e;)t.start?(t.end=e.index,t.text=n.substring(t.start,t.end),r.push(t),t={}):t.start=e.index+"$$".length,e=o.exec(n);return r},t=function regionForPosition(e,o){for(var t,n=0;t=o[n];n++)if(t.start<=e&&t.end>=e)return t;return null},e=function init($,_,i,o,e,s,r,l,d,f){var u=function mathEditor(s,d,o,r,i,l){o=[],r.val(""),i.html("");var e=s.composer.selection.getBookmark();if(e){if(3===e.startContainer.nodeType){o=n(e.startContainer.textContent);var a=t(e.startOffset,o);a&&(r.val(a.text),r.trigger("keyup"))}caretBookmark=e}l.open()},a=_.debounce(o.render,200);return e.defaults=$.extend(e.defaults,{"toolbar.latex":!1}),e.plugin("latex",function(f,m,v,w){if(w["toolbar.latex"]){var y=$(s({_t:r,prefix:w["prefix.css"]}));e.insertIntoLeftToolbar(m,y,100),m.find("."+w["prefix.css"]+"-toolbar-modals").append(l({_t:d,prefix:w["prefix.css"]}));var x=m.find("[data-wysihtml5-modal-latex]"),p=i(x),c=x.find("[name=latex]"),b=x.find(".coursera-wysihtml5-latex-preview"),n,h=[];f.on("preview",function(t){o.render(t)}),c.on("keyup",function(){b.text("$$"+c.val()+"$$"),a(b[0])}),c.trigger("keyup"),p.on("open",function(){c.focus()}),p.on("close",function(){f.currentView.element.focus()}),x.find("form").on("submit",function(u){u.preventDefault(),f.currentView.element.focus();var r,o,a,e,i,l,d;n||(n=f.composer.selection.getBookmark()),f.composer.selection.setBookmark(n);var s=t(n.startOffset,h);s?(o=s.start,a=s.end,r=!1):(o=n.startOffset,a=o,r=!0),e=c.val(),r&&(e="$$"+e+"$$"),3===n.startContainer.nodeType?(i=n.startContainer.textContent.substring(0,o),l=n.startContainer.textContent.substring(a),n.startContainer.textContent=i+e+l):(d=document.createTextNode(e),n.insertNode(d)),n=null,f.fire("change").fire("change:composer")}),m.find("."+w["prefix.css"]+"-toolbar-latex").on("click",function(t){$(this).hasClass("wysihtml5-command-active")||m.hasClass("wysihtml5-commands-disabled")||u(f,m,h,c,b,p)})}}),e};"function"==typeof define&&define.amd?define("bundles/wysihtml5/latex",["jquery","underscore","js/lib/modals","js/lib/coursera.mathjax","bundles/wysihtml5/editor","bundles/wysihtml5/toolbar-latex.html","i18n!bundles/wysihtml5/nls/toolbar-latex","bundles/wysihtml5/toolbar-modal-latex.html","i18n!bundles/wysihtml5/nls/toolbar-modal-latex","js/lib/popups"],function($,_,t,n,o,r,a,s,i,l){return e($,_,t,n,o,r,a,s,i,l)}):e(window.$,window._,window.Modal,window.mathjax,window.wysiEditor,window.jade.templates["bundles.wysihtml5.toolbar-latex"],window.jade.templates["bundles.wysihtml5.toolbar-modal-latex"],window.Popup)}(window);
define("bundles/wysihtml5/nls/toolbar-link",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(n){var t=function(t,n,i){var e=function template(l){var i=[],r={},o,e=l||{};return function(n,e){i.push('<button data-wysihtml5-custom-command="link" type="button" unselectable="on"'+t.attr("title",n("Insert link"),!0,!1)+t.cls([e+"-toolbar-item"],[!0])+'><i class="cif-link"></i> '+t.escape(null==(o=n("Link"))?"":o)+"</button>")}.call(this,"_t"in e?e._t:"undefined"!=typeof n?n:void 0,"prefix"in e?e.prefix:"undefined"!=typeof prefix?prefix:void 0),i.join("")};return function(t){return t&&"_t"in t&&(n=t._t.merge(n)),e(t)}};"function"==typeof define&&define.amd?define('bundles/wysihtml5/toolbar-link.html',["js/vendor/jade","i18n!bundles/wysihtml5/nls/toolbar-link"],function(n,e){var i;return t(n,e,i)}):n.jade.templates["bundles.wysihtml5.toolbar-link"]=t(n.jade.helpers)}(window);
define("bundles/wysihtml5/nls/toolbar-modal-link",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(l){var a=function(l,a,n){var e=function template(i){var t=[],d={},e,n=i||{};return function(n,a){t.push('<div data-wysihtml5-modal-link="data-wysihtml5-modal-link"'+l.attr("data-modal-overlay-class",n+"-overlay",!0,!1)+' role="dialog" aria-label="Create a link" class="modal hide"><form><div class="modal-body"><label style="display:inline-block;margin-right:15px;"><span>'+(null==(e=a("URL &nbsp;&nbsp;"))?"":e)+'</span><input name="url"'+l.attr("placeholder",a("http://"),!0,!1)+' style="width:350px;"'+l.cls([n+"-modal-url"],[!0])+'/></label></div><div class="modal-footer"><button type="submit" data-modal-close="data-modal-close" style="margin-right:10px;"'+l.cls(["btn","bt3-btn","bt3-btn-primary",n+"-modal-link-submit"],[null,null,null,!0])+">"+l.escape(null==(e=a("Create"))?"":e)+'</button><a data-modal-close="data-modal-close" href="javascript:;">'+l.escape(null==(e=a("Cancel"))?"":e)+"</a></div></form></div>")}.call(this,"prefix"in n?n.prefix:"undefined"!=typeof prefix?prefix:void 0,"_t"in n?n._t:"undefined"!=typeof a?a:void 0),t.join("")};return function(l){return l&&"_t"in l&&(a=l._t.merge(a)),e(l)}};"function"==typeof define&&define.amd?define('bundles/wysihtml5/toolbar-modal-link.html',["js/vendor/jade","i18n!bundles/wysihtml5/nls/toolbar-modal-link"],function(l,e){var n;return a(l,e,n)}):l.jade.templates["bundles.wysihtml5.toolbar-modal-link"]=a(l.jade.helpers)}(window);
!function(o){var e=function init($,o,e,n,t,i,l,s){return e.defaults=$.extend(e.defaults,{"toolbar.link":!0}),e.plugin("link",function(r,a,w,m){if(m["toolbar.link"]){var p=$(n({_t:t,prefix:m["prefix.css"]}));e.insertIntoLeftToolbar(a,p,5),a.find("."+m["prefix.css"]+"-toolbar-modals").append(i({_t:l,prefix:m["prefix.css"]}));var f=a.find("[data-wysihtml5-modal-link]"),u=o(f),d=f.find("[name=url]"),c;u.on("open",function(){d.focus()}),u.on("close",function(){r.currentView.element.focus()}),f.find("form").on("submit",function(t){if(t.preventDefault(),t.stopPropagation(),r.currentView.element.focus(),""===d.val())return;(void 0!==c||null!==c)&&(r.composer.selection.setBookmark(c),c=null);var e=r.currentView.selection.getSelection(),o=d.val(),n;try{var i=s(o);n=i.protocol?o:"http://"+o}catch(l){n=o}e.focusNode&&e.focusNode.parentNode&&"A"==e.focusNode.parentNode.nodeName?(r.fire("beforecommand:composer"),e.focusNode.parentNode.title=null,e.focusNode.parentNode.href=n,r.fire("aftercommand:composer")):r.composer.commands.exec("createLink",{href:n,target:"_blank"}),r.fire("change").fire("change:composer")}),a.find("[data-wysihtml5-custom-command=link]").on("click",function(o){if(!$(this).hasClass("wysihtml5-command-active")&&!a.hasClass("wysihtml5-commands-disabled")){var e=r.currentView.selection&&r.currentView.selection.getSelection();e&&e.focusNode&&e.focusNode.parentNode&&"A"==e.focusNode.parentNode.nodeName?d.val(e.focusNode.parentNode.href):d.val(""),c=r.composer&&r.composer.selection.getBookmark(),u.open()}})}}),e};"function"==typeof define&&define.amd?define("bundles/wysihtml5/link",["jquery","js/lib/modals","bundles/wysihtml5/editor","bundles/wysihtml5/toolbar-link.html","i18n!bundles/wysihtml5/nls/toolbar-link","bundles/wysihtml5/toolbar-modal-link.html","i18n!bundles/wysihtml5/nls/toolbar-modal-link","js/vendor/parseuri.v1-2-2"],e):e(window.$,window.Modal,window.wysiEditor,window.jade.templates["bundles.wysihtml5.toolbar-link"],window.jade.templates["bundles.wysihtml5.toolbar-modal-link"],window.parseUri)}(window);
define("bundles/wysihtml5/nls/toolbar-modes",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(t){var e=function(t,e,a){var o=function template(n){var a=[],p={},o,i=n||{};return function(r,i,e,n,p){r&&a.push("<button"+t.attr("title",i("Editor Preview"),!0,!1)+' type="button" aria-pressed="false"'+t.cls([e+"-toolbar-item "+e+"-toolbar-item-right "+e+"-toolbar-mode-preview"],[!0])+">"+t.escape(null==(o=i("Preview"))?"":o)+'</button><button style="display:none;" type="button"'+t.cls([e+"-toolbar-item "+e+"-toolbar-item-right "+e+"-toolbar-mode-preview-close"],[!0])+">"+t.escape(null==(o=i("Edit"))?"":o)+"</button>"),a.push("<!-- we want to ensure that two editors are allowed if we are going to show a drop down...--><!-- the below uses XOR to determine the that one is true, and then we confirm the other is true in the ternary--><!-- this shortcut was used as the quickest way to determine at least two are true.--><!-- this comment proves that saving effort in code means expanding in comments...-->"),(n.html^n.markdown?n.rich:n.html)?a.push('<button unselectable="on"'+t.attr("title",i("Editor Type"),!0,!1)+t.attr("data-popup","#"+e+"-toolbar-mode-popup-"+p.uid,!0,!1)+' aria-haspopup="true" aria-expanded="false"'+t.attr("aria-owns",e+"-toolbar-mode-popup",!0,!1)+' data-popup-close="data-popup-close" data-popup-direction="se" style="padding-right:30px;" type="button"'+t.cls([e+"-toolbar-item "+e+"-toolbar-item-right "+e+"-toolbar-mode-editor on"],[!0])+"><span>"+t.escape(null==(o=i("Edit:"))?"":o)+"</span><span"+t.cls([e+"-toolbar-mode-editor-label"],[!0])+">"+t.escape(null==(o=i("Rich"))?"":o)+'</span><span style="position:absolute;top:5px;padding-left:10px;padding-right:10px;" class="cif-chevron-down"></span></button>'):a.push("<button"+t.attr("title",i("Editor Type"),!0,!1)+t.cls([e+"-toolbar-item "+e+"-toolbar-item-right "+e+"-toolbar-mode-editor on"],[!0])+"><span>"+t.escape(null==(o=i("Edit:"))?"":o)+"</span><span"+t.cls([e+"-toolbar-mode-editor-label"],[!0])+">"+t.escape(null==(o=i("Rich"))?"":o)+"</span></button>"),a.push("<div"+t.attr("id",e+"-toolbar-mode-popup-"+p.uid,!0,!1)+' style="display:none;"'+t.cls([e+"-toolbar-mode-popup"],[!0])+">"),n.html&&a.push('<a aria-pressed="false" data-wysihtml5-custom-command="change-editor" type="button"'+t.attr("title",i("Change editing mode to HTML"),!0,!1)+' data-popup-close="data-popup-close"'+t.cls([e+"-toolbar-mode-popup-item "+e+"-toolbar-mode-html"],[!0])+">"+(null==(o=i("&lt;HTML&gt;"))?"":o)+"</a>"),n.markdown&&a.push('<a aria-pressed="false" data-wysihtml5-custom-command="change-editor" type="button"'+t.attr("title",i("Change editing mode to Markdown"),!0,!1)+' data-popup-close="data-popup-close"'+t.cls([e+"-toolbar-mode-popup-item "+e+"-toolbar-mode-markdown"],[!0])+">"+t.escape(null==(o=i("`MD`"))?"":o)+"</a>"),n.rich&&a.push('<a aria-pressed="true" data-wysihtml5-custom-command="change-editor" type="button"'+t.attr("title",i("Change editing mode to rich editor"),!0,!1)+' data-popup-close="data-popup-close"'+t.cls([e+"-toolbar-mode-popup-item "+e+"-toolbar-mode-rich"],[!0])+">"+t.escape(null==(o=i("Rich"))?"":o)+"</a>"),a.push("</div>")}.call(this,"preview"in i?i.preview:"undefined"!=typeof preview?preview:void 0,"_t"in i?i._t:"undefined"!=typeof e?e:void 0,"prefix"in i?i.prefix:"undefined"!=typeof prefix?prefix:void 0,"mode"in i?i.mode:"undefined"!=typeof mode?mode:void 0,"editor"in i?i.editor:"undefined"!=typeof editor?editor:void 0),a.join("")};return function(t){return t&&"_t"in t&&(e=t._t.merge(e)),o(t)}};"function"==typeof define&&define.amd?define('bundles/wysihtml5/toolbar-modes.html',["js/vendor/jade","i18n!bundles/wysihtml5/nls/toolbar-modes"],function(t,o){var a;return e(t,o,a)}):t.jade.templates["bundles.wysihtml5.toolbar-modes"]=e(t.jade.helpers)}(window);
define("bundles/wysihtml5/nls/footer-source",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(t){var l=function(t,l,a){var e=function template(i){var n=[],r={},e,a=i||{};return function(a,l){n.push("<div"+t.cls([a+"-footer-html"],[!0])+'><div style="float:left;">'+t.escape(null==(e=l("Allowed tags:"))?"":e)+' <span style="font-family:monospace">'+(null==(e=l("&lt;b&gt;, &lt;i&gt;, &lt;a&gt;, &lt;p&gt;, &lt;br&gt;, &lt;ul&gt;, &lt;ol&gt;, &lt;li&gt;"))?"":e)+'</span>&nbsp;&nbsp;<a href="javascript:void(0);" data-wysihtml5-link="help">'+t.escape(null==(e=l("Help"))?"":e)+'</a></div><div style="float:right;"><a href="javascript:void(0);"'+t.attr("title",l("auto format and indent your HTML source code"),!0,!1)+' data-wysihtml5-link="format">'+t.escape(null==(e=l("Auto-format HTML"))?"":e)+'</a></div><div data-wysihtml5-modal-image="data-wysihtml5-modal-image"'+t.attr("data-modal-overlay-class",a+"-overlay",!0,!1)+' role="dialog" aria-label="Learn HTML" tabindex="-1" class="modal hide"><div class="modal-body"><p>'+t.escape(null==(e=l("HTML is the markup language that all webpages are written in."))?"":e)+"\n"+t.escape(null==(e=l("You can either use the rich editor or the HTML editor here, whichever you prefer."))?"":e)+"</p><p>"+t.escape(null==(e=l('To use it, you write your content and surround parts of it in "tags" that'))?"":e)+"\n"+t.escape(null==(e=l("tell the browser what it is. For example:"))?"":e)+'</p><table style="margin-bottom:0px;" class="table table-bordered"><thead><tr><th>'+t.escape(null==(e=l("HTML"))?"":e)+"</th><th>"+t.escape(null==(e=l("Output"))?"":e)+"</th></tr></thead><tbody><tr><td>"+(null==(e=l("The dugong (&lt;i&gt;Dugong dugon&lt;/i&gt;) is a &lt;b&gt;large&lt;/b&gt; marine mammal"))?"":e)+"</td><td>"+(null==(e=l("The dugong (<i>Dugong dugon</i>) is a <b>large</b> marine mammal"))?"":e)+"</td></tr><tr><td>"+(null==(e=l("Imagine all the unicorns &lt;br&gt; Living life in peace"))?"":e)+"</td><td>"+(null==(e=l("Imagine all the unicorns <br>Living life in peace"))?"":e)+"</td></tr><tr><td>"+(null==(e=l("&lt;ul&gt;"))?"":e)+"\n"+(null==(e=l("<br>&lt;li&gt;pineapples&lt;/li&gt;"))?"":e)+"\n"+(null==(e=l("<br>&lt;li&gt;peanutbutter&lt;/li&gt;"))?"":e)+"\n"+(null==(e=l("<br>&lt;/ul&gt;"))?"":e)+"</td><td>"+(null==(e=l("<ul><li>pineapples</li><li>peanut butter</li></ul>"))?"":e)+'</td></tr></tbody></table></div><div class="modal-footer"><button type="button" data-modal-close="data-modal-close" style="margin-right:10px;" class="btn">'+t.escape(null==(e=l("Got it, thanks!"))?"":e)+"</button></div></div></div>")}.call(this,"prefix"in a?a.prefix:"undefined"!=typeof prefix?prefix:void 0,"_t"in a?a._t:"undefined"!=typeof l?l:void 0),n.join("")};return function(t){return t&&"_t"in t&&(l=t._t.merge(l)),e(t)}};"function"==typeof define&&define.amd?define('bundles/wysihtml5/footer-source.html',["js/vendor/jade","i18n!bundles/wysihtml5/nls/footer-source"],function(t,e){var a;return l(t,e,a)}):t.jade.templates["bundles.wysihtml5.footer-source"]=l(t.jade.helpers)}(window);
define("bundles/wysihtml5/nls/footer-markdown",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(n){var e=function(e,n,i){var t=function template(o){var i=[],d={},r,t=o||{};return function(n,t){i.push("<div"+e.cls([n+"-footer-markdown"],[!0])+'><div style="float:left;">'+(null==(r=t('Now in <a href="http://daringfireball.net/projects/markdown/syntax" target="_blank">Markdown</a> mode.'))?"":r)+'</div><div style="float:right;"></div></div>')}.call(this,"prefix"in t?t.prefix:"undefined"!=typeof prefix?prefix:void 0,"_t"in t?t._t:"undefined"!=typeof n?n:void 0),i.join("")};return function(e){return e&&"_t"in e&&(n=e._t.merge(n)),t(e)}};"function"==typeof define&&define.amd?define('bundles/wysihtml5/footer-markdown.html',["js/vendor/jade","i18n!bundles/wysihtml5/nls/footer-markdown"],function(n,t){var i;return e(n,t,i)}):n.jade.templates["bundles.wysihtml5.footer-markdown"]=e(n.jade.helpers)}(window);
define("bundles/wysihtml5/nls/footer-rich",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var i=function(i,e,t){var n=function template(t){var e=[],r={},f,n=t||{};return function(n){e.push("<div"+i.cls([n+"-footer-rich"],[!0])+'><div style="float:left;"></div><div style="float:right;"></div></div>')}.call(this,"prefix"in n?n.prefix:"undefined"!=typeof prefix?prefix:void 0),e.join("")};return function(i){return i&&"_t"in i&&(e=i._t.merge(e)),n(i)}};"function"==typeof define&&define.amd?define('bundles/wysihtml5/footer-rich.html',["js/vendor/jade","i18n!bundles/wysihtml5/nls/footer-rich"],function(e,n){var t;return i(e,n,t)}):e.jade.templates["bundles.wysihtml5.footer-rich"]=i(e.jade.helpers)}(window);
!function(){function js_beautify(e,t){var n=new Beautifier(e,t);return n.beautify()}function Beautifier(K,c){function create_flags(e,n){var t=0;e&&(t=e.indentation_level,t+=e.var_line&&e.var_line_reindented?1:0,!just_added_newline()&&e.line_indent_level>t&&(t=e.line_indent_level));var r={mode:n,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,multiline_frame:!1,if_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:t,line_indent_level:e?e.line_indent_level:t,start_line_index:l.length,ternary_depth:0};return r}function create_output_line(){return{text:[]}}function trim_output(e){if(e=void 0===e?!1:e,l.length)for(trim_output_line(l[l.length-1],e);e&&l.length>1&&0===l[l.length-1].text.length;)l.pop(),trim_output_line(l[l.length-1],e)}function trim_output_line(e){for(;e.text.length&&(" "===e.text[e.text.length-1]||e.text[e.text.length-1]===p||e.text[e.text.length-1]===m);)e.text.pop()}function trim(e){return e.replace(/^\s+|\s+$/g,"")}function split_newlines(e){e=e.replace(/\x0d/g,"");for(var n=[],t=e.indexOf("\n");-1!==t;)n.push(e.substring(0,t)),e=e.substring(t+1),t=e.indexOf("\n");return e.length&&n.push(e),n}function just_added_newline(){var e=l[l.length-1];return 0===e.text.length}function just_added_blankline(){if(just_added_newline()){if(1===l.length)return!0;var e=l[l.length-2];return 0===e.text.length}return!1}function allow_wrap_or_preserved_newline(t){if(t=void 0===t?!1:t,n.wrap_line_length&&!t){var r=l[l.length-1],i=0;r.text.length>0&&(i=r.text.join("").length+o.length+(a?1:0),i>=n.wrap_line_length&&(t=!0))}(n.preserve_newlines&&h||t)&&!just_added_newline()&&(print_newline(!1,!0),is_array(e.mode)||is_expression(e.mode)||(E=!0))}function print_newline(t,n){if(E=!1,a=!1,!n&&";"!==e.last_text)for(;e.mode===s.Statement&&!e.if_block&&!e.do_block;)restore_mode();if(1===l.length&&just_added_newline())return;(t||!just_added_newline())&&(e.multiline_frame=!0,l.push(create_output_line()))}function print_token_line_indentation(){if(just_added_newline()){var t=l[l.length-1];if(n.keep_array_indentation&&is_array(e.mode)&&h){t.text.push("");for(var r=0;r<O.length;r+=1)t.text.push(O[r])}else m&&t.text.push(m),print_indent_string(e.indentation_level+(e.var_line&&e.var_line_reindented?1:0)+(E?1:0))}}function print_indent_string(t){if(l.length>1){var r=l[l.length-1];e.line_indent_level=t;for(var n=0;t>n;n+=1)r.text.push(p)}}function print_token_space_before(){var e=l[l.length-1];if(a&&e.text.length){var t=e.text[e.text.length-1];" "!==t&&t!==p&&e.text.push(" ")}}function print_token(e){e=e||o,print_token_line_indentation(),E=!1,print_token_space_before(),a=!1,l[l.length-1].text.push(e)}function indent(){e.indentation_level+=1}function deindent(){e.indentation_level>0&&(!e.parent||e.indentation_level>e.parent.indentation_level)&&(e.indentation_level-=1)}function remove_redundant_indentation(r){if(r.multiline_frame)return;for(var t=r.start_line_index,n=0,e;t<l.length;){if(e=l[t],t++,0===e.text.length)continue;n=m&&e.text[0]===m?1:0,e.text[n]===p&&e.text.splice(n,1)}}function set_mode(t){e?(g.push(e),T=e):T=create_flags(null,t),e=create_flags(T,t)}function is_array(e){return e===s.ArrayLiteral}function is_expression(e){return in_array(e,[s.Expression,s.ForInitializer,s.Conditional])}function restore_mode(){g.length>0&&(T=e,e=g.pop())}function start_of_statement(){if("do"===e.last_text||"else"===e.last_text&&"if"!==o||"TK_END_EXPR"===r&&(T.mode===s.ForInitializer||T.mode===s.Conditional))return allow_wrap_or_preserved_newline(in_array(o,["do","for","if","while"])),set_mode(s.Statement),just_added_newline()&&(indent(),E=!1),!0;return!1}function all_lines_start_with(t,n){for(var e=0;e<t.length;e++){var r=trim(t[e]);if(r.charAt(0)!==n)return!1}return!0}function is_special_word(e){return in_array(e,["case","return","do","if","throw","else"])}function in_array(n,t){for(var e=0;e<t.length;e+=1)if(t[e]===n)return!0;return!1}function unescape_string(r){for(var l=!1,i="",n=0,a="",e=0,t;l||n<r.length;)if(t=r.charAt(n),n++,l){if(l=!1,"x"===t)a=r.substr(n,2),n+=2;else{if("u"!==t){i+="\\"+t;continue}a=r.substr(n,4),n+=4}if(!a.match(/^[0123456789abcdefABCDEF]+$/))return r;if(e=parseInt(a,16),e>=0&&32>e){i+="x"===t?"\\x"+a:"\\u"+a;continue}if(34===e||39===e||92===e)i+="\\"+String.fromCharCode(e);else{if("x"===t&&e>126&&255>=e)return r;i+=String.fromCharCode(e)}}else"\\"===t?l=!0:i+=t;return i}function is_next(r){for(var e=t,n=i.charAt(e);in_array(n,b)&&n!==r;){if(e++,e>=f)return!1;n=i.charAt(e)}return n===r}function get_next_token(){var B,o;if(u=0,t>=f)return["","TK_EOF"];h=!1,O=[];var a=i.charAt(t);for(t+=1;in_array(a,b);){if("\n"===a?(u+=1,O=[]):u&&(a===p?O.push(p):"\r"!==a&&O.push(" ")),t>=f)return["","TK_EOF"];a=i.charAt(t),t+=1}if(in_array(a,N)){if(f>t)for(;in_array(i.charAt(t),N)&&(a+=i.charAt(t),t+=1,t!==f););if(t!==f&&a.match(/^[0-9]+[Ee]$/)&&("-"===i.charAt(t)||"+"===i.charAt(t))){var k=i.charAt(t);t+=1;var I=get_next_token();return a+=k+I[0],[a,"TK_WORD"]}if("in"===a)return[a,"TK_OPERATOR"];return[a,"TK_WORD"]}if("("===a||"["===a)return[a,"TK_START_EXPR"];if(")"===a||"]"===a)return[a,"TK_END_EXPR"];if("{"===a)return[a,"TK_START_BLOCK"];if("}"===a)return[a,"TK_END_BLOCK"];if(";"===a)return[a,"TK_SEMICOLON"];if("/"===a){var K="",C=!0;if("*"===i.charAt(t)){if(t+=1,f>t)for(;f>t&&("*"!==i.charAt(t)||!i.charAt(t+1)||"/"!==i.charAt(t+1))&&(a=i.charAt(t),K+=a,("\n"===a||"\r"===a)&&(C=!1),t+=1,!(t>=f)););return t+=2,C&&0===u?["/*"+K+"*/","TK_INLINE_COMMENT"]:["/*"+K+"*/","TK_BLOCK_COMMENT"]}if("/"===i.charAt(t)){for(K=a;"\r"!==i.charAt(t)&&"\n"!==i.charAt(t)&&(K+=i.charAt(t),t+=1,!(t>=f)););return[K,"TK_COMMENT"]}}if("'"===a||'"'===a||("/"===a||n.e4x&&"<"===a&&i.slice(t-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&("TK_WORD"===r&&is_special_word(e.last_text)||"TK_END_EXPR"===r&&in_array(T.mode,[s.Conditional,s.ForInitializer])||in_array(r,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var x=a,d=!1,g=!1;if(o=a,f>t)if("/"===x){for(var E=!1;d||E||i.charAt(t)!==x;)if(o+=i.charAt(t),d?d=!1:(d="\\"===i.charAt(t),"["===i.charAt(t)?E=!0:"]"===i.charAt(t)&&(E=!1)),t+=1,t>=f)return[o,"TK_STRING"]}else if(n.e4x&&"<"===x){var y=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g,A=i.slice(t-1),c=y.exec(A);if(c&&0===c.index){for(var D=c[2],m=0;c;){var M=!!c[1],L=c[2],P=!!c[c.length-1]||"![CDATA["===L.slice(0,8);if(L!==D||P||(M?--m:++m),0>=m)break;c=y.exec(A)}var w=c?c.index+c[0].length:A.length;return t+=w-1,[A.slice(0,w),"TK_STRING"]}}else for(;d||i.charAt(t)!==x;)if(o+=i.charAt(t),d?(("x"===i.charAt(t)||"u"===i.charAt(t))&&(g=!0),d=!1):d="\\"===i.charAt(t),t+=1,t>=f)return[o,"TK_STRING"];if(t+=1,o+=x,g&&n.unescape_strings&&(o=unescape_string(o)),"/"===x)for(;f>t&&in_array(i.charAt(t),N);)o+=i.charAt(t),t+=1;return[o,"TK_STRING"]}if("#"===a){if(1===l.length&&0===l[0].text.length&&"!"===i.charAt(t)){for(o=a;f>t&&"\n"!==a;)a=i.charAt(t),o+=a,t+=1;return[trim(o)+"\n","TK_UNKNOWN"]}var v="#";if(f>t&&in_array(i.charAt(t),S)){do a=i.charAt(t),v+=a,t+=1;while(f>t&&"#"!==a&&"="!==a);return"#"===a||("["===i.charAt(t)&&"]"===i.charAt(t+1)?(v+="[]",t+=2):"{"===i.charAt(t)&&"}"===i.charAt(t+1)&&(v+="{}",t+=2)),[v,"TK_WORD"]}}if("<"===a&&"<!--"===i.substring(t-1,t+3)){for(t+=3,a="<!--";"\n"!==i.charAt(t)&&f>t;)a+=i.charAt(t),t++;return e.in_html_comment=!0,[a,"TK_COMMENT"]}if("-"===a&&e.in_html_comment&&"-->"===i.substring(t-1,t+2))return e.in_html_comment=!1,t+=2,["-->","TK_COMMENT"];if("."===a)return[a,"TK_DOT"];if(in_array(a,R)){for(;f>t&&in_array(a+i.charAt(t),R)&&(a+=i.charAt(t),t+=1,!(t>=f)););return","===a?[a,"TK_COMMA"]:"="===a?[a,"TK_EQUALS"]:[a,"TK_OPERATOR"]}return[a,"TK_UNKNOWN"]}function handle_start_expr(){start_of_statement();var t=s.Expression;if("["===o){if("TK_WORD"===r||")"===e.last_text)return in_array(e.last_text,v)&&(a=!0),set_mode(t),print_token(),indent(),void(n.space_in_paren&&(a=!0));t=s.ArrayLiteral,is_array(e.mode)&&("["===e.last_text||","===e.last_text&&("]"===x||"}"===x))&&(n.keep_array_indentation||print_newline())}else"for"===e.last_text?t=s.ForInitializer:in_array(e.last_text,["if","while"])&&(t=s.Conditional);";"===e.last_text||"TK_START_BLOCK"===r?print_newline():"TK_END_EXPR"===r||"TK_START_EXPR"===r||"TK_END_BLOCK"===r||"."===e.last_text?(allow_wrap_or_preserved_newline(h),E=!1):"TK_WORD"!==r&&"TK_OPERATOR"!==r?a=!0:"function"===e.last_word||"typeof"===e.last_word?n.jslint_happy&&(a=!0):(in_array(e.last_text,v)||"catch"===e.last_text)&&n.space_before_conditional&&(a=!0),"("===o&&("TK_EQUALS"===r||"TK_OPERATOR"===r)&&e.mode!==s.ObjectLiteral&&allow_wrap_or_preserved_newline(),set_mode(t),print_token(),n.space_in_paren&&(a=!0),indent()}function handle_end_expr(){for(;e.mode===s.Statement;)restore_mode();"]"===o&&is_array(e.mode)&&e.multiline_frame&&!n.keep_array_indentation&&print_newline(),e.multiline_frame&&allow_wrap_or_preserved_newline(),n.space_in_paren&&(a=!0),"]"===o&&n.keep_array_indentation?(print_token(),restore_mode()):(restore_mode(),print_token()),remove_redundant_indentation(T),e.do_while&&T.mode===s.Conditional&&(T.mode=s.Expression,e.do_block=!1,e.do_while=!1)}function handle_start_block(){set_mode(s.BlockStatement);var t=is_next("}"),i=t&&"function"===e.last_word&&"TK_END_EXPR"===r;"expand"===n.brace_style?"TK_OPERATOR"!==r&&(i||"TK_EQUALS"===r||is_special_word(e.last_text)&&"else"!==e.last_text)?a=!0:print_newline():"TK_OPERATOR"!==r&&"TK_START_EXPR"!==r?"TK_START_BLOCK"===r?print_newline():a=!0:is_array(T.mode)&&","===e.last_text&&("}"===x?a=!0:print_newline()),print_token(),indent()}function handle_end_block(){for(;e.mode===s.Statement;)restore_mode();var t="TK_START_BLOCK"===r;"expand"===n.brace_style?t||print_newline():t||(is_array(e.mode)&&n.keep_array_indentation?(n.keep_array_indentation=!1,print_newline(),n.keep_array_indentation=!0):print_newline()),restore_mode(),print_token()}function handle_word(){if(start_of_statement()||!h||is_expression(e.mode)||"TK_OPERATOR"===r&&"--"!==e.last_text&&"++"!==e.last_text||"TK_EQUALS"===r||!n.preserve_newlines&&"var"===e.last_text||print_newline(),e.do_block&&!e.do_while){if("while"===o)return a=!0,print_token(),a=!0,void(e.do_while=!0);print_newline(),e.do_block=!1}if(e.if_block&&"else"!==o){for(;e.mode===s.Statement;)restore_mode();e.if_block=!1}if("case"===o||"default"===o&&e.in_case_statement)return print_newline(),(e.case_body||n.jslint_happy)&&(deindent(),e.case_body=!1),print_token(),e.in_case=!0,void(e.in_case_statement=!0);if("function"===o&&(e.var_line&&"TK_EQUALS"!==r&&(e.var_line_reindented=!0),!just_added_newline()&&";"!==e.last_text&&"}"!==e.last_text||"{"===e.last_text||is_array(e.mode)||just_added_blankline()||(print_newline(),print_newline(!0)),"TK_WORD"===r?"get"===e.last_text||"set"===e.last_text||"new"===e.last_text||"return"===e.last_text?a=!0:print_newline():"TK_OPERATOR"===r||"="===e.last_text?a=!0:is_expression(e.mode)||print_newline()),("TK_COMMA"===r||"TK_START_EXPR"===r||"TK_EQUALS"===r||"TK_OPERATOR"===r)&&e.mode!==s.ObjectLiteral&&allow_wrap_or_preserved_newline(),"function"===o)return print_token(),void(e.last_word=o);if(d="NONE","TK_END_BLOCK"===r?in_array(o,["else","catch","finally"])?"expand"===n.brace_style||"end-expand"===n.brace_style?d="NEWLINE":(d="SPACE",a=!0):d="NEWLINE":"TK_SEMICOLON"===r&&e.mode===s.BlockStatement?d="NEWLINE":"TK_SEMICOLON"===r&&is_expression(e.mode)?d="SPACE":"TK_STRING"===r?d="NEWLINE":"TK_WORD"===r?d="SPACE":"TK_START_BLOCK"===r?d="NEWLINE":"TK_END_EXPR"===r&&(a=!0,d="NEWLINE"),in_array(o,v)&&")"!==e.last_text&&(d="else"===e.last_text?"SPACE":"NEWLINE"),in_array(o,["else","catch","finally"]))if("TK_END_BLOCK"!==r||"expand"===n.brace_style||"end-expand"===n.brace_style)print_newline();else{trim_output(!0);var t=l[l.length-1];"}"!==t.text[t.text.length-1]&&print_newline(),a=!0}else"NEWLINE"===d?is_special_word(e.last_text)?a=!0:"TK_END_EXPR"!==r?"TK_START_EXPR"===r&&"var"===o||":"===e.last_text||("if"===o&&"else"===e.last_word&&"{"!==e.last_text?a=!0:(e.var_line=!1,e.var_line_reindented=!1,print_newline())):in_array(o,v)&&")"!==e.last_text&&(e.var_line=!1,e.var_line_reindented=!1,print_newline()):is_array(e.mode)&&","===e.last_text&&"}"===x?print_newline():"SPACE"===d&&(a=!0);print_token(),e.last_word=o,"var"===o&&(e.var_line=!0,e.var_line_reindented=!1,e.var_line_tainted=!1),"do"===o&&(e.do_block=!0),"if"===o&&(e.if_block=!0)}function handle_semicolon(){for(start_of_statement()&&(a=!1);e.mode===s.Statement&&!e.if_block&&!e.do_block;)restore_mode();print_token(),e.var_line=!1,e.var_line_reindented=!1,e.mode===s.ObjectLiteral&&(e.mode=s.BlockStatement)}function handle_string(){start_of_statement()?a=!0:"TK_WORD"===r?a=!0:"TK_COMMA"===r||"TK_START_EXPR"===r||"TK_EQUALS"===r||"TK_OPERATOR"===r?e.mode!==s.ObjectLiteral&&allow_wrap_or_preserved_newline():print_newline(),print_token()}function handle_equals(){e.var_line&&(e.var_line_tainted=!0),a=!0,print_token(),a=!0}function handle_comma(){if(e.var_line)return(is_expression(e.mode)||"TK_END_BLOCK"===r)&&(e.var_line_tainted=!1),e.var_line&&(e.var_line_reindented=!0),print_token(),void(e.var_line_tainted?(e.var_line_tainted=!1,print_newline()):a=!0);"TK_END_BLOCK"===r&&e.mode!==s.Expression?(print_token(),e.mode===s.ObjectLiteral&&"}"===e.last_text?print_newline():a=!0):e.mode===s.ObjectLiteral?(print_token(),print_newline()):(print_token(),a=!0)}function handle_operator(){var t=!0,n=!0;if(is_special_word(e.last_text))return a=!0,void print_token();if("*"===o&&"TK_DOT"===r&&!x.match(/^\d+$/))return void print_token();if(":"===o&&e.in_case)return e.case_body=!0,indent(),print_token(),print_newline(),void(e.in_case=!1);if("::"===o)return void print_token();!h||"--"!==o&&"++"!==o||print_newline(),in_array(o,["--","++","!"])||in_array(o,["-","+"])&&(in_array(r,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||in_array(e.last_text,v)||","===e.last_text)?(t=!1,n=!1,";"===e.last_text&&is_expression(e.mode)&&(t=!0),"TK_WORD"===r&&in_array(e.last_text,v)&&(t=!0),e.mode!==s.BlockStatement&&e.mode!==s.Statement||"{"!==e.last_text&&";"!==e.last_text||print_newline()):":"===o?0===e.ternary_depth?(e.mode===s.BlockStatement&&(e.mode=s.ObjectLiteral),t=!1):e.ternary_depth-=1:"?"===o&&(e.ternary_depth+=1),a=a||t,print_token(),a=n}function handle_block_comment(){var e=split_newlines(o),t,n=!1;for(print_newline(!1,!0),e.length>1&&all_lines_start_with(e.slice(1),"*")&&(n=!0),print_token(e[0]),t=1;t<e.length;t++)print_newline(!1,!0),n?print_token(" "+trim(e[t])):l[l.length-1].text.push(e[t]);print_newline(!1,!0)}function handle_inline_comment(){a=!0,print_token(),a=!0}function handle_comment(){h?print_newline(!1,!0):trim_output(!0),a=!0,print_token(),print_newline(!1,!0)}function handle_dot(){is_special_word(e.last_text)?a=!0:allow_wrap_or_preserved_newline(")"===e.last_text&&n.break_chained_methods),print_token()}function handle_unknown(){print_token(),"\n"===o[o.length-1]&&print_newline()}var i,l,o,A,r,x,p,e,T,g,b,N,R,t,v,S,d,h,E,a,f,u,O,C,s,n,m="";for(b="\n\r	 ".split(""),N="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),S="0123456789".split(""),R="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",R+=" <%= <% %> <?= <? ?>",R=R.split(" "),v="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),s={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},C={TK_START_EXPR:handle_start_expr,TK_END_EXPR:handle_end_expr,TK_START_BLOCK:handle_start_block,TK_END_BLOCK:handle_end_block,TK_WORD:handle_word,TK_SEMICOLON:handle_semicolon,TK_STRING:handle_string,TK_EQUALS:handle_equals,TK_OPERATOR:handle_operator,TK_COMMA:handle_comma,TK_BLOCK_COMMENT:handle_block_comment,TK_INLINE_COMMENT:handle_inline_comment,TK_COMMENT:handle_comment,TK_DOT:handle_dot,TK_UNKNOWN:handle_unknown},c=c?c:{},n={},void 0!==c.space_after_anon_function&&void 0===c.jslint_happy&&(c.jslint_happy=c.space_after_anon_function),void 0!==c.braces_on_own_line&&(n.brace_style=c.braces_on_own_line?"expand":"collapse"),n.brace_style=c.brace_style?c.brace_style:n.brace_style?n.brace_style:"collapse","expand-strict"===n.brace_style&&(n.brace_style="expand"),n.indent_size=c.indent_size?parseInt(c.indent_size,10):4,n.indent_char=c.indent_char?c.indent_char:" ",n.preserve_newlines=void 0===c.preserve_newlines?!0:c.preserve_newlines,n.break_chained_methods=void 0===c.break_chained_methods?!1:c.break_chained_methods,n.max_preserve_newlines=void 0===c.max_preserve_newlines?0:parseInt(c.max_preserve_newlines,10),n.space_in_paren=void 0===c.space_in_paren?!1:c.space_in_paren,n.jslint_happy=void 0===c.jslint_happy?!1:c.jslint_happy,n.keep_array_indentation=void 0===c.keep_array_indentation?!1:c.keep_array_indentation,n.space_before_conditional=void 0===c.space_before_conditional?!0:c.space_before_conditional,n.unescape_strings=void 0===c.unescape_strings?!1:c.unescape_strings,n.wrap_line_length=void 0===c.wrap_line_length?0:parseInt(c.wrap_line_length,10),n.e4x=void 0===c.e4x?!1:c.e4x,p="";n.indent_size>0;)p+=n.indent_char,n.indent_size-=1;for(;K&&(" "===K.charAt(0)||"	"===K.charAt(0));)m+=K.charAt(0),K=K.substring(1);i=K,f=K.length,r="TK_START_BLOCK",x="",l=[create_output_line()],E=!1,a=!1,O=[],g=[],set_mode(s.BlockStatement),t=0,this.beautify=function(){for(var a,t,c,i;;){if(a=get_next_token(),o=a[0],A=a[1],"TK_EOF"===A)break;if(c=n.keep_array_indentation&&is_array(e.mode),h=u>0,c)for(t=0;u>t;t+=1)print_newline(t>0);else if(n.max_preserve_newlines&&u>n.max_preserve_newlines&&(u=n.max_preserve_newlines),n.preserve_newlines&&u>1)for(print_newline(),t=1;u>t;t+=1)print_newline(!0);C[A](),"TK_INLINE_COMMENT"!==A&&"TK_COMMENT"!==A&&"TK_UNKNOWN"!==A&&(x=e.last_text,r=A,e.last_text=o)}i=l[0].text.join("");for(var s=1;s<l.length;s++)i+="\n"+l[s].text.join("");return i=i.replace(/[\r\n ]+$/,"")}}"function"==typeof define?define("js/lib/beautify",[],function(){return js_beautify}):"undefined"!=typeof exports?exports.js_beautify=js_beautify:"undefined"!=typeof window?window.js_beautify=js_beautify:"undefined"!=typeof global&&(global.js_beautify=js_beautify)}();
!function(){function css_beautify(s,f){function next(){return n=s.charAt(++t)}function peek(){return s.charAt(t+1)}function eatString(e){for(var i=t;next();)if("\\"===n)next(),next();else{if(n===e)break;if("\n"===n)break}return s.substring(i,t+1)}function eatWhitespace(){for(var n=t;o.test(peek());)t++;return t!==n}function skipWhitespace(){var n=t;do;while(o.test(next()));return t!==n+1}function eatComment(){var e=t;for(next();next();)if("*"===n&&"/"===peek()){t++;break}return s.substring(e,t+1)}function lookBack(n){return s.substring(t-n.length,t).toLowerCase()===n}function indent(){a++,u+=h}function outdent(){a--,u=u.slice(0,-r)}f=f||{};var r=f.indent_size||4,l=f.indent_char||" ";"string"==typeof r&&(r=parseInt(r,10));var o=/^\s+$/,g=/[\w$\-_]/,t=-1,n,u=s.match(/^[\r\n]*[\t ]*/)[0],h=Array(r+1).join(l),a=0,i={};i["{"]=function(n){i.singleSpace(),e.push(n),i.newLine()},i["}"]=function(n){i.newLine(),e.push(n),i.newLine()},i.newLine=function(n){if(!n)for(;o.test(e[e.length-1]);)e.pop();e.length&&e.push("\n"),u&&e.push(u)},i.singleSpace=function(){e.length&&!o.test(e[e.length-1])&&e.push(" ")};var e=[];for(u&&e.push(u);;){var c=skipWhitespace();if(!n)break;"{"===n?(indent(),i["{"](n)):"}"===n?(outdent(),i["}"](n)):'"'===n||"'"===n?e.push(eatString(n)):";"===n?e.push(n,"\n",u):"/"===n&&"*"===peek()?(i.newLine(),e.push(eatComment(),"\n",u)):"("===n?lookBack("url")?(e.push(n),eatWhitespace(),next()&&(")"!==n&&'"'!==n&&"'"!==n?e.push(eatString(")")):t--)):(c&&i.singleSpace(),e.push(n),eatWhitespace()):")"===n?e.push(n):","===n?(eatWhitespace(),e.push(n),i.singleSpace()):"]"===n?e.push(n):"["===n||"="===n?(eatWhitespace(),e.push(n)):(c&&i.singleSpace(),e.push(n))}var p=e.join("").replace(/[\n ]+$/,"");return p}"function"==typeof define?define("js/lib/beautify-css",[],function(){return{css_beautify:css_beautify}}):"undefined"!=typeof exports?exports.css_beautify=css_beautify:"undefined"!=typeof window?window.css_beautify=css_beautify:"undefined"!=typeof global&&(global.css_beautify=css_beautify)}();
!function(){function trim(t){return t.replace(/^\s+|\s+$/g,"")}function ltrim(t){return t.replace(/^\s+/g,"")}function rtrim(t){return t.replace(/\s+$/g,"")}function style_html(y,n,g,T){function Parser(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=w,this.Utils={whitespace:"\n\r	 ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function in_array(e,n){for(var t=0;t<n.length;t++)if(e===n[t])return!0;return!1}},this.is_whitespace=function(t){for(var n=0;n<t.length;t++)if(!this.Utils.in_array(t.charAt(n),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var t="";if(t=this.input.charAt(this.pos),this.Utils.in_array(t,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(t,this.Utils.whitespace);)a&&"\n"===t&&this.newlines<=l&&(this.newlines+=1),this.pos++,t=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(t){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,t),this.print_indentation(t)):(this.line_char_count++,t.push(" "))},this.get_content=function(){for(var n="",t=[],i=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(this.traverse_whitespace()){this.space_or_wrap(t);continue}if(indent_handlebars){var e=this.input.substr(this.pos,3);if("{{#"===e||"{{/"===e)break;if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}n=this.input.charAt(this.pos),this.pos++,this.line_char_count++,t.push(n)}return t.length?t.join(""):""},this.get_contents_to=function(s){if(this.pos===this.input.length)return["","TK_EOF"];var r="",n="",e=new RegExp("</"+s+"\\s*>","igm");e.lastIndex=this.pos;var i=e.exec(this.input),t=i?i.index:this.input.length;return this.pos<t&&(n=this.input.substring(this.pos,t),this.pos=t),n},this.record_tag=function(t){this.tags[t+"count"]?(this.tags[t+"count"]++,this.tags[t+this.tags[t+"count"]]=this.indent_level):(this.tags[t+"count"]=1,this.tags[t+this.tags[t+"count"]]=this.indent_level),this.tags[t+this.tags[t+"count"]+"parent"]=this.tags.parent,this.tags.parent=t+this.tags[t+"count"]},this.retrieve_tag=function(t){if(this.tags[t+"count"]){for(var n=this.tags.parent;n&&t+this.tags[t+"count"]!==n;)n=this.tags[n+"parent"];n&&(this.indent_level=this.tags[t+this.tags[t+"count"]],this.tags.parent=this.tags[n+"parent"]),delete this.tags[t+this.tags[t+"count"]+"parent"],delete this.tags[t+this.tags[t+"count"]],1===this.tags[t+"count"]?delete this.tags[t+"count"]:this.tags[t+"count"]--}},this.indent_to_tag=function(t){if(!this.tags[t+"count"])return;for(var n=this.tags.parent;n&&t+this.tags[t+"count"]!==n;)n=this.tags[n+"parent"];n&&(this.indent_level=this.tags[t+this.tags[t+"count"]])},this.get_tag=function(s){var n="",t=[],l="",h=!1,o,f,a,u=this.pos,p=this.line_char_count;s=void 0!==s?s:!1;do{if(this.pos>=this.input.length)return s&&(this.pos=u,this.line_char_count=p),t.length?t.join(""):["","TK_EOF"];if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){h=!0;continue}if(("'"===n||'"'===n)&&(n+=this.get_unformatted(n),h=!0),"="===n&&(h=!1),t.length&&"="!==t[t.length-1]&&">"!==n&&h&&(this.space_or_wrap(t),h=!1),indent_handlebars&&"<"===a&&n+this.input.charAt(this.pos)==="{{"&&(n+=this.get_unformatted("}}"),t.length&&" "!==t[t.length-1]&&"<"!==t[t.length-1]&&(n=" "+n),h=!0),"<"!==n||a||(o=this.pos-1,a="<"),indent_handlebars&&!a&&t.length>=2&&"{"===t[t.length-1]&&"{"==t[t.length-2]&&(o="#"===n||"/"===n?this.pos-3:this.pos-2,a="{"),this.line_char_count++,t.push(n),t[1]&&"!"===t[1]){t=[this.get_comment(o)];break}if(indent_handlebars&&"{"===a&&t.length>2&&"}"===t[t.length-2]&&"}"===t[t.length-1])break}while(">"!==n);var i=t.join(""),c,g;c=-1!==i.indexOf(" ")?i.indexOf(" "):"{"===i[0]?i.indexOf("}"):i.indexOf(">"),g="<"!==i[0]&&indent_handlebars?"#"===i[2]?3:2:1;var e=i.substring(g,c).toLowerCase();return"/"===i.charAt(i.length-2)||this.Utils.in_array(e,this.Utils.single_token)?s||(this.tag_type="SINGLE"):indent_handlebars&&"{"===i[0]&&"else"===e?s||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):"script"===e?s||(this.record_tag(e),this.tag_type="SCRIPT"):"style"===e?s||(this.record_tag(e),this.tag_type="STYLE"):this.is_unformatted(e,r)?(l=this.get_unformatted("</"+e+">",i),t.push(l),f=this.pos-1,this.tag_type="SINGLE"):"!"===e.charAt(0)?s||(this.tag_type="SINGLE",this.traverse_whitespace()):s||("/"===e.charAt(0)?(this.retrieve_tag(e.substring(1)),this.tag_type="END",this.traverse_whitespace()&&this.space_or_wrap(t)):(this.record_tag(e),"html"!==e.toLowerCase()&&(this.indent_content=!0),this.tag_type="START",this.traverse_whitespace()&&this.space_or_wrap(t)),this.Utils.in_array(e,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),s&&(this.pos=u,this.line_char_count=p),t.join("")},this.get_comment=function(i){var t="",n=">",e=!1;for(this.pos=i,input_char=this.input.charAt(this.pos),this.pos++;this.pos<=this.input.length&&(t+=input_char,t[t.length-1]!==n[n.length-1]||-1===t.indexOf(n));)!e&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",e=!0):0===t.indexOf("<![cdata[")?(n="]]>",e=!0):0===t.indexOf("<![")?(n="]>",e=!0):0===t.indexOf("<!--")&&(n="-->",e=!0)),input_char=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,i){if(i&&-1!==i.toLowerCase().indexOf(e))return"";var n="",t="",s=0,r=!0;do{if(this.pos>=this.input.length)return t;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!r){this.line_char_count--;continue}if("\n"===n||"\r"===n){t+="\n",this.line_char_count=0;continue}}t+=n,this.line_char_count++,r=!0,indent_handlebars&&"{"===n&&t.length&&"{"===t[t.length-2]&&(t+=this.get_unformatted("}}"),s=t.length)}while(-1===t.toLowerCase().indexOf(e,s));return t},this.get_token=function(){var t;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var n=this.last_token.substr(7);if(t=this.get_contents_to(n),"string"!=typeof t)return t;return[t,"TK_"+n]}if("CONTENT"===this.current_mode)return t=this.get_content(),"string"!=typeof t?t:[t,"TK_CONTENT"];if("TAG"===this.current_mode){if(t=this.get_tag(),"string"!=typeof t)return t;var e="TK_TAG_"+this.tag_type;return[t,e]}},this.get_full_indent=function(t){if(t=this.indent_level+t||0,1>t)return"";return Array(t+1).join(this.indent_string)},this.is_unformatted=function(n,t){if(!this.Utils.in_array(n,t))return!1;if("a"!==n.toLowerCase()||!this.Utils.in_array("a",t))return!0;var i=this.get_tag(!0),e=(i||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!e||this.Utils.in_array(e,t)?!0:!1},this.printer=function(n,e,i,s,r){this.input=n||"",this.output=[],this.indent_character=e,this.indent_string="",this.indent_size=i,this.brace_style=r,this.indent_level=0,this.wrap_line_length=s,this.line_char_count=0;for(var t=0;t<this.indent_size;t++)this.indent_string+=this.indent_character;this.print_newline=function(n,t){if(this.line_char_count=0,!t||!t.length)return;(n||"\n"!==t[t.length-1])&&t.push("\n")},this.print_indentation=function(n){for(var t=0;t<this.indent_level;t++)n.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(t){if(this.is_whitespace(t)&&!this.output.length)return;(t||""!==t)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),t=ltrim(t)),this.print_token_raw(t)},this.print_token_raw=function(t){this.newlines>0&&(t=rtrim(t)),t&&""!==t&&(t.length>1&&"\n"===t[t.length-1]?(this.output.push(t.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(t));for(var n=0;n<this.newlines;n++)this.print_newline(n>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var t,w,d,b,p,u,r,a,l;for(n=n||{},void 0!==n.wrap_line_length&&0!==parseInt(n.wrap_line_length,10)||void 0!==n.max_char&&0!==parseInt(n.max_char,10)||(n.wrap_line_length=n.max_char),w=n.indent_inner_html||!1,d=parseInt(n.indent_size||4,10),b=n.indent_char||" ",u=n.brace_style||"collapse",p=0===parseInt(n.wrap_line_length,10)?32786:parseInt(n.wrap_line_length||250,10),r=n.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],a=n.preserve_newlines||!0,l=a?parseInt(n.max_preserve_newlines||32786,10):0,indent_handlebars=n.indent_handlebars||!1,t=new Parser,t.printer(y,b,d,p,u);;){var c=t.get_token();if(t.token_text=c[0],t.token_type=c[1],"TK_EOF"===t.token_type)break;switch(t.token_type){case"TK_TAG_START":t.print_newline(!1,t.output),t.print_token(t.token_text),t.indent_content&&(t.indent(),t.indent_content=!1),t.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":t.print_newline(!1,t.output),t.print_token(t.token_text),t.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===t.last_token&&""===t.last_text){var k=t.token_text.match(/\w+/)[0],h=null;t.output.length&&(h=t.output[t.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===h||h[1]!==k)&&t.print_newline(!1,t.output)}t.print_token(t.token_text),t.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var f=t.token_text.match(/^\s*<([a-z]+)/i);f&&t.Utils.in_array(f[1],r)||t.print_newline(!1,t.output),t.print_token(t.token_text),t.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":t.print_token(t.token_text),t.indent_content&&(t.indent(),t.indent_content=!1),t.current_mode="CONTENT";break;case"TK_CONTENT":t.print_token(t.token_text),t.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==t.token_text){t.print_newline(!1,t.output);var e=t.token_text,s,i=1;"TK_SCRIPT"===t.token_type?s="function"==typeof g&&g:"TK_STYLE"===t.token_type&&(s="function"==typeof T&&T),"keep"===n.indent_scripts?i=0:"separate"===n.indent_scripts&&(i=-t.indent_level);var o=t.get_full_indent(i);if(s)e=s(e.replace(/^\s*/,o),n);else{var v=e.match(/^\s*/)[0],m=v.match(/[^\n\r]*$/)[0].split(t.indent_string).length-1,x=t.get_full_indent(i-m);e=e.replace(/^\s*/,o).replace(/\r\n|\r|\n/g,"\n"+x).replace(/\s+$/,"")}e&&(t.print_token_raw(o+trim(e)),t.print_newline(!1,t.output))}t.current_mode="TAG"}t.last_token=t.token_type,t.last_text=t.token_text}return t.output.join("")}if("function"==typeof define)define("js/lib/beautify-html",["js/lib/beautify","js/lib/beautify-css"],function(t,n){return{html_beautify:function html_beautify(e,i){return style_html(e,i,t,n)}}});else if("undefined"!=typeof exports){var t=require("./beautify.js").js_beautify,n=require("./beautify-css.js").css_beautify;exports.html_beautify=function(e,i){return style_html(e,i,t,n)}}else"undefined"!=typeof window?window.html_beautify=function(t,n){return style_html(t,n,window.js_beautify,window.css_beautify)}:"undefined"!=typeof global&&(global.html_beautify=function(t,n){return style_html(t,n,global.js_beautify,global.css_beautify)})}();
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};(function(){function Lexer(e){this.tokens=[],this.tokens.links={},this.options=e||marked.defaults,this.rules=t.normal,this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}function InlineLexer(t,n){if(this.options=n||marked.defaults,this.links=t,this.rules=e.normal,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=e.breaks:this.rules=e.gfm:this.options.pedantic&&(this.rules=e.pedantic)}function Parser(t){this.tokens=[],this.token=null,this.options=t||marked.defaults}function escape(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function replace(t,e){return t=t.source,e=e||"",function self(s,n){if(!s)return new RegExp(t,e);return n=n.source||n,n=n.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(s,n),self}}function noop(){}function merge(s){for(var n=1,t,e;n<arguments.length;n++){t=arguments[n];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e])}return s}function marked(h,t,e){if(e||"function"==typeof t){e||(e=t,t=null),t=merge({},marked.defaults,t||{});var r=t.highlight,n,s,o=0;try{n=Lexer.lex(h,t)}catch(l){return e(l)}s=n.length;var i=function done(){var i,s;try{i=Parser.parse(n,t)}catch(l){s=l}return t.highlight=r,s?e(s):e(null,i)};if(!r||r.length<3)return i();if(delete t.highlight,!s)return i();for(;o<n.length;o++)!function(t){if("code"!==t.type)return--s||i();return r(t.text,t.lang,function(n,e){if(null==e||e===t.text)return--s||i();t.text=e,t.escaped=!0,--s||i()})}(n[o]);return}try{return t&&(t=merge({},marked.defaults,t)),Parser.parse(Lexer.lex(h,t),t)}catch(l){if(l.message+="\nPlease report this to https://github.com/chjj/marked.",(t||marked.defaults).silent)return"<p>An error occured:</p><pre>"+escape(l.message+"",!0)+"</pre>";throw l}}var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:noop,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};t.bullet=/(?:[*+-]|\d+\.)/,t.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,t.item=replace(t.item,"gm")(/bull/g,t.bullet)(),t.list=replace(t.list)(/bull/g,t.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),t._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b",t.html=replace(t.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,t._tag)(),t.paragraph=replace(t.paragraph)("hr",t.hr)("heading",t.heading)("lheading",t.lheading)("blockquote",t.blockquote)("tag","<"+t._tag)("def",t.def)(),t.normal=merge({},t),t.gfm=merge({},t.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),t.gfm.paragraph=replace(t.paragraph)("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|")(),t.tables=merge({},t.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),Lexer.rules=t,Lexer.lex=function(t,e){var n=new Lexer(e);return n.lex(t)},Lexer.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},Lexer.prototype.token=function(n,l){for(var n=n.replace(/^ +$/gm,""),h,o,e,a,u,i,p,s,r;n;){if((e=this.rules.newline.exec(n))&&(n=n.substring(e[0].length),e[0].length>1&&this.tokens.push({type:"space"})),e=this.rules.code.exec(n)){n=n.substring(e[0].length),e=e[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?e:e.replace(/\n+$/,"")});continue}if(e=this.rules.fences.exec(n)){n=n.substring(e[0].length),this.tokens.push({type:"code",lang:e[2],text:e[3]});continue}if(e=this.rules.heading.exec(n)){n=n.substring(e[0].length),this.tokens.push({type:"heading",depth:e[1].length,text:e[2]});continue}if(l&&(e=this.rules.nptable.exec(n))){for(n=n.substring(e[0].length),i={type:"table",header:e[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3].replace(/\n$/,"").split("\n")},s=0;s<i.align.length;s++)/^ *-+: *$/.test(i.align[s])?i.align[s]="right":/^ *:-+: *$/.test(i.align[s])?i.align[s]="center":/^ *:-+ *$/.test(i.align[s])?i.align[s]="left":i.align[s]=null;for(s=0;s<i.cells.length;s++)i.cells[s]=i.cells[s].split(/ *\| */);this.tokens.push(i);continue}if(e=this.rules.lheading.exec(n)){n=n.substring(e[0].length),this.tokens.push({type:"heading",depth:"="===e[2]?1:2,text:e[1]});continue}if(e=this.rules.hr.exec(n)){n=n.substring(e[0].length),this.tokens.push({type:"hr"});continue}if(e=this.rules.blockquote.exec(n)){n=n.substring(e[0].length),this.tokens.push({type:"blockquote_start"}),e=e[0].replace(/^ *> ?/gm,""),this.token(e,l),this.tokens.push({type:"blockquote_end"});continue}if(e=this.rules.list.exec(n)){for(n=n.substring(e[0].length),a=e[2],this.tokens.push({type:"list_start",ordered:a.length>1}),e=e[0].match(this.rules.item),h=!1,r=e.length,s=0;r>s;s++)i=e[s],p=i.length,i=i.replace(/^ *([*+-]|\d+\.) +/,""),~i.indexOf("\n ")&&(p-=i.length,i=this.options.pedantic?i.replace(/^ {1,4}/gm,""):i.replace(new RegExp("^ {1,"+p+"}","gm"),"")),this.options.smartLists&&s!==r-1&&(u=t.bullet.exec(e[s+1])[0],a===u||a.length>1&&u.length>1||(n=e.slice(s+1).join("\n")+n,s=r-1)),o=h||/\n\n(?!\s*$)/.test(i),s!==r-1&&(h="\n"===i.charAt(i.length-1),o||(o=h)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(i,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"});continue}if(e=this.rules.html.exec(n)){n=n.substring(e[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]});continue}if(l&&(e=this.rules.def.exec(n))){n=n.substring(e[0].length),this.tokens.links[e[1].toLowerCase()]={href:e[2],title:e[3]};continue}if(l&&(e=this.rules.table.exec(n))){for(n=n.substring(e[0].length),i={type:"table",header:e[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3].replace(/(?: *\| *)?\n$/,"").split("\n")},s=0;s<i.align.length;s++)/^ *-+: *$/.test(i.align[s])?i.align[s]="right":/^ *:-+: *$/.test(i.align[s])?i.align[s]="center":/^ *:-+ *$/.test(i.align[s])?i.align[s]="left":i.align[s]=null;for(s=0;s<i.cells.length;s++)i.cells[s]=i.cells[s].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(i);continue}if(l&&(e=this.rules.paragraph.exec(n))){n=n.substring(e[0].length),this.tokens.push({type:"paragraph",text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]});continue}if(e=this.rules.text.exec(n)){n=n.substring(e[0].length),this.tokens.push({type:"text",text:e[0]});continue}if(n)throw new Error("Infinite loop on byte: "+n.charCodeAt(0))}return this.tokens};var e={escape:/^\\([\\`*{}\[\]()#+\-.!_>\$])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\$\\<!\[_*`]| {2,}\n|$)/,math:/^\$\$([^ \t\n\$][^\$]*[^ \t\n\$])\$\$/};e._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,e._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,e.link=replace(e.link)("inside",e._inside)("href",e._href)(),e.reflink=replace(e.reflink)("inside",e._inside)(),e.normal=merge({},e),e.pedantic=merge({},e.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,math:noop}),e.gfm=merge({},e.normal,{escape:replace(e.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:replace(e.text)("]|","~]|")("|","|https?://|")()}),e.breaks=merge({},e.gfm,{br:replace(e.br)("{2,}","*")(),text:replace(e.gfm.text)("{2,}","*")()}),InlineLexer.rules=e,InlineLexer.output=function(t,e,n){var s=new InlineLexer(e,n);return s.output(t)},InlineLexer.prototype.output=function(e){for(var n="",i,s,r,t;e;){if(t=this.rules.escape.exec(e)){e=e.substring(t[0].length),n+=t[1];continue}if(this.options.math&&(t=this.rules.math.exec(e))){e=e.substring(t[0].length),n+="$$"+t[1]+"$$";continue}if(t=this.rules.autolink.exec(e)){e=e.substring(t[0].length),"@"===t[2]?(s=":"===t[1].charAt(6)?this.mangle(t[1].substring(7)):this.mangle(t[1]),r=this.mangle("mailto:")+s):(s=escape(t[1]),r=s),n+='<a href="'+r+'">'+s+"</a>";continue}if(t=this.rules.url.exec(e)){e=e.substring(t[0].length),s=escape(t[1]),r=s,n+='<a href="'+r+'">'+s+"</a>";continue}if(t=this.rules.tag.exec(e)){e=e.substring(t[0].length),n+=this.options.sanitize?escape(t[0]):t[0];continue}if(t=this.rules.link.exec(e)){e=e.substring(t[0].length),n+=this.outputLink(t,{href:t[2],title:t[3]});continue}if((t=this.rules.reflink.exec(e))||(t=this.rules.nolink.exec(e))){if(e=e.substring(t[0].length),i=(t[2]||t[1]).replace(/\s+/g," "),i=this.links[i.toLowerCase()],!i||!i.href){n+=t[0].charAt(0),e=t[0].substring(1)+e;continue}n+=this.outputLink(t,i);continue}if(t=this.rules.strong.exec(e)){e=e.substring(t[0].length),n+="<strong>"+this.output(t[2]||t[1])+"</strong>";continue}if(t=this.rules.em.exec(e)){e=e.substring(t[0].length),n+="<em>"+this.output(t[2]||t[1])+"</em>";continue}if(t=this.rules.code.exec(e)){e=e.substring(t[0].length),n+="<code>"+escape(t[2],!0)+"</code>";continue}if(t=this.rules.br.exec(e)){e=e.substring(t[0].length),n+="<br>";continue}if(t=this.rules.del.exec(e)){e=e.substring(t[0].length),n+="<del>"+this.output(t[1])+"</del>";continue}if(t=this.rules.text.exec(e)){e=e.substring(t[0].length),n+=escape(this.smartypants(t[0]));continue}if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}return n},InlineLexer.prototype.outputLink=function(e,t){return"!"!==e[0].charAt(0)?'<a href="'+escape(t.href)+'"'+(t.title?' title="'+escape(t.title)+'"':"")+">"+this.output(e[1])+"</a>":'<img src="'+escape(t.href)+'" alt="'+escape(e[1])+'"'+(t.title?' title="'+escape(t.title)+'"':"")+">"},InlineLexer.prototype.smartypants=function(t){if(!this.options.smartypants)return t;return t.replace(/--/g,"—").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")},InlineLexer.prototype.mangle=function(n){for(var s="",i=n.length,e=0,t;i>e;e++)t=n.charCodeAt(e),Math.random()>.5&&(t="x"+t.toString(16)),s+="&#"+t+";";return s},Parser.parse=function(t,e){var n=new Parser(e);return n.parse(t)},Parser.prototype.parse=function(t){this.inline=new InlineLexer(t.links,this.options),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},Parser.prototype.next=function(){return this.token=this.tokens.pop()},Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},Parser.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},Parser.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+this.token.depth+' id="'+this.options.headerPrefix+this.token.text.toLowerCase().replace(/[^\w]+/g,"-")+'">'+this.inline.output(this.token.text)+"</h"+this.token.depth+">\n";case"code":if(this.options.highlight){var s=this.options.highlight(this.token.text,this.token.lang);null!=s&&s!==this.token.text&&(this.token.escaped=!0,this.token.text=s)}return this.token.escaped||(this.token.text=escape(this.token.text,!0)),"<pre><code"+(this.token.lang?' class="'+this.options.langPrefix+this.token.lang+'"':"")+">"+this.token.text+"</code></pre>\n";case"table":var t="",r,e,i,l,n;for(t+="<thead>\n<tr>\n",e=0;e<this.token.header.length;e++)r=this.inline.output(this.token.header[e]),t+="<th",this.token.align[e]&&(t+=' style="text-align:'+this.token.align[e]+'"'),t+=">"+r+"</th>\n";for(t+="</tr>\n</thead>\n",t+="<tbody>\n",e=0;e<this.token.cells.length;e++){for(i=this.token.cells[e],t+="<tr>\n",n=0;n<i.length;n++)l=this.inline.output(i[n]),t+="<td",this.token.align[n]&&(t+=' style="text-align:'+this.token.align[n]+'"'),t+=">"+l+"</td>\n";t+="</tr>\n"}return t+="</tbody>\n","<table>\n"+t+"</table>\n";case"blockquote_start":for(var t="";"blockquote_end"!==this.next().type;)t+=this.tok();return"<blockquote>\n"+t+"</blockquote>\n";case"list_start":for(var o=this.token.ordered?"ol":"ul",t="";"list_end"!==this.next().type;)t+=this.tok();return"<"+o+">\n"+t+"</"+o+">\n";case"list_item_start":for(var t="";"list_item_end"!==this.next().type;)t+="text"===this.token.type?this.parseText():this.tok();return"<li>"+t+"</li>\n";case"loose_item_start":for(var t="";"list_item_end"!==this.next().type;)t+=this.tok();return"<li>"+t+"</li>\n";case"html":return this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);case"paragraph":return"<p>"+this.inline.output(this.token.text)+"</p>\n";case"text":return"<p>"+this.parseText()+"</p>\n"}},noop.exec=noop,marked.options=marked.setOptions=function(t){return merge(marked.defaults,t),marked},marked.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:""},marked.Parser=Parser,marked.parser=Parser.parse,marked.Lexer=Lexer,marked.lexer=Lexer.lex,marked.InlineLexer=InlineLexer,marked.inlineLexer=InlineLexer.output,marked.parse=marked,"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=marked:"function"==typeof define&&define.amd?define("js/lib/marked",[],function(){return marked}):this.marked=marked}).call(function(){return this||("undefined"!=typeof window?window:global)}());
(function(){var s,h,a,l,i,f,o,c,u,t,e,p,r,n={}.hasOwnProperty,d=this;s={absolute:!1,base:"undefined"!=typeof window&&null!==window?window.document.baseURI:"file://"+process.cwd(),debug:!1,inline:!1},a=this.md,i={"\\\\":"\\\\","\\[":"\\[","\\]":"\\]",">":"\\>",_:"\\_","\\*":"\\*","`":"\\`","#":"\\#","([0-9])\\.(\\s|$)":"$1\\.$2","©":"(c)","®":"(r)","™":"(tm)"," ":" ","·":"\\*"," ":" "," ":" "," ":" ","‘":"'","’":"'","“":'"',"”":'"',"…":"...","–":"--","—":"---"},f=/(display|visibility)\s*:\s*[a-z]+/gi,o=/(none|hidden)\s*$/i,c=/^(APPLET|AREA|AUDIO|BUTTON|CANVAS|DATALIST|EMBED|HEAD|INPUT|MAP|MENU|METER|NOFRAMES|NOSCRIPT|OBJECT|OPTGROUP|OPTION|PARAM|PROGRESS|RP|RT|RUBY|SCRIPT|SELECT|STYLE|TEXTAREA|TITLE|VIDEO)$/,u=/^(ADDRESS|ARTICLE|ASIDE|DIV|FIELDSET|FOOTER|HEADER|NAV|P|SECTION)$/,l=function(){r={};for(t in i){if(!n.call(i,t))continue;r[t]=new RegExp(t,"g")}return r}(),p=function(t,e,s){var n,i;if(null==t&&(t=""),null==e&&(e=0),null==s&&(s=" "),!s)return t;for(n=i=0;e>=0?e>i:i>e;n=e>=0?++i:--i)t=s+t;return t},h=function(){function HtmlParser(e,i){var r,o;this.html=null!=e?e:"",this.options=null!=i?i:{},this.atLeft=this.atNoWS=this.atP=!0,this.buffer="",this.exceptions=[],this.order=1,this.listDepth=0,this.inCode=this.inPre=this.inOrderedList=!1,this.last=null,this.left="\n",this.links=[],this.linkMap={},this.unhandled={},this.tableColumns=[],this.tableDepth=0,"object"!=typeof this.options&&(this.options={});for(t in s){if(!n.call(s,t))continue;r=s[t],"undefined"==typeof this.options[t]&&(this.options[t]=r)}this.win="undefined"!=typeof window&&null!==window?window:null,null==this.win&&(o=require("jsdom").jsdom(null,null,{features:{FetchExternalResources:!1},url:this.options.base}),this.win=o.createWindow()),null==this.win.Node&&(this.win.Node={ELEMENT_NODE:1,TEXT_NODE:3})}return HtmlParser.prototype.append=function(t){return null!=this.last&&(this.buffer+=this.last),this.last=t},HtmlParser.prototype.attr=function(t,s,e){var i;return null==e&&(e=!0),i=e||"function"!=typeof t.getAttribute?t[s]:t.getAttribute(s),null!=i?i:""},HtmlParser.prototype.br=function(){return this.append("  "+this.left),this.atLeft=this.atNoWS=!0},HtmlParser.prototype.tr=function(){var t=this;return this.output("|"),this.tableColumns[++this.tableDepth]=[],function(){var n,e,i,s;if(e=t.tableColumns[t.tableDepth],e.length){for(t.output("\n|"),i=0,s=e.length;s>i;i++){switch(n=e[i]){case"right":t.output("----:");break;case"center":t.output(":----:");break;default:t.output(":----")}t.output("|")}delete t.tableColumns[t.tableDepth--]}return t.output("\n")}},HtmlParser.prototype.code=function(){var t,e=this;return t=this.inCode,this.inCode=!0,function(){return e.inCode=t}},HtmlParser.prototype.has=function(t,i,e){return null==e&&(e=!0),e||"function"!=typeof t.hasAttribute?t.hasOwnProperty(i):t.hasAttribute(i)},HtmlParser.prototype.inCodeProcess=function(t){return t.replace(/`/g,"\\`")},HtmlParser.prototype.isVisible=function(a){var r,u,i,n,t,h,e,s,l;if(t=this.attr(a,"style",!1),i=null!=t&&"function"==typeof t.match?t.match(f):void 0,e=!0,null!=i)for(s=0,l=i.length;l>s;s++)n=i[s],e=!o.test(n);if(e&&"function"==typeof this.win.getComputedStyle)try{t=this.win.getComputedStyle(a,null),"function"==typeof(null!=t?t.getPropertyValue:void 0)&&(r=t.getPropertyValue("display"),h=t.getPropertyValue("visibility"),e="none"!==r&&"hidden"!==h)}catch(p){u=p,this.thrown(u,"getComputedStyle")}return e},HtmlParser.prototype.li=function(){var t;return t=this.inOrderedList?""+this.order++ +". ":"* ",t=p(t,2*(this.listDepth-1)),this.append(t)},HtmlParser.prototype.nonPreProcess=function(e){var s;e=e.replace(/\n([ \t]*\n)+/g,"\n"),e=e.replace(/\n[ \t]+/g,"\n"),e=e.replace(/[ \t]+/g," ");for(t in i){if(!n.call(i,t))continue;s=i[t],e=e.replace(l[t],s)}return e},HtmlParser.prototype.ol=function(){var e,i,t=this;return 0===this.listDepth&&this.p(),e=this.inOrderedList,i=this.order,this.inOrderedList=!0,this.order=1,this.listDepth++,function(){return t.inOrderedList=e,t.order=i,t.listDepth--}},HtmlParser.prototype.output=function(t){if(!t)return;if(this.inPre||(t=this.atNoWS?t.replace(/^[ \t\n]+/,""):/^[ \t]*\n/.test(t)?t.replace(/^[ \t\n]+/,"\n"):t.replace(/^[ \t]+/," ")),""===t)return;return this.atP=/\n\n$/.test(t),this.atLeft=/\n$/.test(t),this.atNoWS=/[ \t\n]$/.test(t),this.append(t.replace(/\n/g,this.left))},HtmlParser.prototype.outputLater=function(t){var e=this;return function(){return e.output(t)}},HtmlParser.prototype.p=function(){if(this.atP)return;return this.atLeft||(this.append(this.left),this.atLeft=!0),this.append(this.left),this.atNoWS=this.atP=!0},HtmlParser.prototype.parse=function(){var t,e,i,s,r,o,u,h;if(this.buffer="",!this.html)return this.buffer;if(t=this.win.document.createElement("div"),"string"==typeof this.html?t.innerHTML=this.html:t.appendChild(this.html),this.process(t),this.links.length)for(this.append("\n\n"),h=this.links,e=o=0,u=h.length;u>o;e=++o)i=h[e],i&&this.append("["+e+"]: "+i+"\n");return this.options.debug&&(r=function(){var t,e;t=this.unhandled,e=[];for(s in t){if(!n.call(t,s))continue;e.push(s)}return e}.call(this).sort(),console.log(r.length?"Ignored tags;\n"+r.join(", "):"No tags were ignored"),console.log(this.exceptions.length?"Exceptions;\n"+this.exceptions.join("\n"):"No exceptions were thrown")),this.append(""),this.buffer=this.buffer.replace(/\s+$/,"")},HtmlParser.prototype.pre=function(){var t,e=this;return t=this.inPre,this.inPre=!0,function(){return e.inPre=t}},HtmlParser.prototype.process=function(t){var e,h,r,g,f,a,i,N,o,n,s,p,m,d,b,E,l,T,L,y;if(!this.isVisible(t))return;if(t.nodeType===this.win.Node.ELEMENT_NODE){s=!1,o=!1;try{if(c.test(t.tagName))s=!0;else if(/^H[1-6]$/.test(t.tagName))n=parseInt(t.tagName.match(/([1-6])$/)[1]),this.p(),this.output(""+function(){var t,e;for(e=[],N=t=1;n>=1?n>=t:t>=n;N=n>=1?++t:--t)e.push("#");return e}().join("")+" ");else if(u.test(t.tagName))this.p();else switch(t.tagName){case"BODY":case"FORM":break;case"DETAILS":this.p(),this.has(t,"open",!1)||(s=!0,d=t.getElementsByTagName("summary")[0],d&&this.process(d));break;case"BR":this.br();break;case"HR":this.p(),this.output("---"),this.p();break;case"CITE":case"DFN":case"EM":case"I":case"U":case"VAR":this.output("_"),this.atNoWS=!0,e=this.outputLater("_");break;case"DT":case"B":case"STRONG":"DT"===t.tagName&&this.p(),this.output("**"),this.atNoWS=!0,e=this.outputLater("**");break;case"Q":this.output('"'),this.atNoWS=!0,e=this.outputLater('"');break;case"OL":case"UL":e="OL"===t.tagName?this.ol():this.ul();break;case"LI":this.replaceLeft("\n"),this.li();break;case"PRE":h=this.pushLeft("    "),r=this.pre(),e=function(){return h(),r()};break;case"CODE":case"KBD":case"SAMP":if(this.inPre)break;this.output("`"),h=this.code(),r=this.outputLater("`"),e=function(){return h(),r()};break;case"BLOCKQUOTE":case"DD":e=this.pushLeft("> ");break;case"A":if(i=this.attr(t,"href",this.options.absolute),!i)break;b=this.attr(t,"title"),b&&(i+=' "'+b+'"'),m=this.options.inline?"("+i+")":"["+(null!=(E=this.linkMap)[i]?(E=this.linkMap)[i]:E[i]=this.links.push(i)-1)+"]",this.output("["),this.atNoWS=!0,e=this.outputLater("]"+m);break;case"IMG":if(s=!0,p=this.attr(t,"src",this.options.absolute),!p)break;this.output("!["+this.attr(t,"alt")+"]("+p+")");break;case"FRAME":case"IFRAME":s=!0;try{(null!=(L=t.contentDocument)?L.documentElement:void 0)&&this.process(t.contentDocument.documentElement)}catch(D){a=D,this.thrown(a,"contentDocument")}break;case"TR":o=!0,e=this.tr();break;case"THEAD":case"TFOOT":case"TBODY":case"TABLE":o=!0;break;case"TH":g=t.style?t.style.textAlign:"left",this.tableColumns[this.tableDepth].push(g),e=this.outputLater("|");break;case"TD":e=this.outputLater("|");break;default:this.options.debug&&(this.unhandled[t.tagName]=null)}}catch(D){a=D,this.thrown(a,t.tagName)}if(!s)for(y=t.childNodes,l=0,T=y.length;T>l;l++)f=y[l],(o===!1||!1===/\s+/.test(f.nodeValue))&&this.process(f);return null!=e?e.call(this):void 0}if(t.nodeType===this.win.Node.TEXT_NODE)return this.output(this.inPre?t.nodeValue:this.inCode?this.inCodeProcess(t.nodeValue):this.nonPreProcess(t.nodeValue))},HtmlParser.prototype.pushLeft=function(e){var i,t=this;return i=this.left,this.left+=e,this.atP?this.append(e):this.p(),function(){return t.left=i,t.atLeft=t.atP=!1,t.p()}},HtmlParser.prototype.replaceLeft=function(t){if(!this.atLeft)return this.append(this.left.replace(/[ ]{2,4}$/,t)),this.atLeft=this.atNoWS=this.atP=!0;if(this.last)return this.last=this.last.replace(/[ ]{2,4}$/,t)},HtmlParser.prototype.thrown=function(t,e){if(this.options.debug)return this.exceptions.push(""+e+": "+t)},HtmlParser.prototype.ul=function(){var e,i,t=this;return 0===this.listDepth&&this.p(),e=this.inOrderedList,i=this.order,this.inOrderedList=!1,this.order=1,this.listDepth++,function(){return t.inOrderedList=e,t.order=i,t.listDepth--}},HtmlParser}();var e=e=function(t,e){return new h(t,e).parse()};e.version=e.VERSION="3.0.2",e.noConflict=function(){return d.md=a,e},("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=e:"function"==typeof define&&define.amd?define("js/lib/html.md",[],function(){return e}):window.htmlMD=e}).call(this);
!function(o){var e=function init($,_,e,d,c,i,a,s,r,o,l,m,t,f,h,n){return e.defaults=$.extend(e.defaults,{"toolbar.modes":!0,"toolbar.mode.html":!0,"toolbar.mode.markdown":!1,"toolbar.mode.rich":!0,"composer.default":"rich","composer.group":"wysihtml5","composer.defaultPersist":!0,"footer.markdown":!1,"footer.html":!1,"footer.rich":!1,"toolbar.preview":!0}),e.plugin("modes",function(p,u,v,w){if(w["toolbar.modes"]){var k=w["prefix.css"]+"-toolbar-mode-html",T=w["prefix.css"]+"-toolbar-mode-rich",y=w["prefix.css"]+"-toolbar-mode-markdown",F=w["prefix.data"].replace(/-/g,".")+"default.mode."+w["composer.group"],g,W=$(d({_t:c,prefix:w["prefix.css"],editor:p,preview:w["toolbar.preview"],mode:{html:w["toolbar.mode.html"],markdown:w["toolbar.mode.markdown"],rich:w["toolbar.mode.rich"]}}));e.insertIntoRightToolbar(u,W,100);var x=T,b=null,C=function setModeDefault(e){var o=u.find("."+w["prefix.css"]+"-toolbar-mode-"+e);w["composer.defaultPersist"]&&t.set(F,e,{expires:36500}),g=e,u.find("."+w["prefix.css"]+"-toolbar-mode-editor-label").html(o.html()),u.find("[data-wysihtml5-custom-command=change-editor]").removeClass("wysihtml5-command-active"),u.find("."+w["prefix.css"]+"-toolbar-mode-"+e).addClass("wysihtml5-command-active")},D=function hideEditors(){var e=g;"html"==e?$(p.textareaElement).hide():"rich"==e?(u.addClass("wysihtml5-commands-disabled"),$(p.composer.iframe).hide()):"markdown"==e&&b.hide(),v.hide(),p.fire("modeChange","preview")},V=function showEditors(){var e=g;"html"==e?$(p.textareaElement).show().focus():"rich"==e?(u.removeClass("wysihtml5-commands-disabled"),$(p.composer.iframe).show(),p.focus()):"markdown"==e&&b.show().focus(),v.show(),$(p.textareaElement).parent().find("#"+w["prefix.css"]+"-toolbar-mode-previewer-"+p.uid).remove(),p.fire("modeChange",e)},M=function modePreview(){u.find("."+w["prefix.css"]+"-toolbar-mode-editor").hide(),u.find("."+w["prefix.css"]+"-toolbar-mode-preview-close").show(),u.find("."+w["prefix.css"]+"-toolbar-mode-preview").addClass("on").attr({"aria-pressed":"true"});var r=$(p.textareaElement),t=$(p.composer.iframe),e=t.clone().removeClass("wysihtml5-sandbox").addClass(w["prefix.css"]+"-toolbar-mode-previewer").attr({id:w["prefix.css"]+"-toolbar-mode-previewer-"+p.uid}),o=$("<div>").hide().addClass(p.config.composeClassName).appendTo(u),i=["dir"],a=["color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"];D(),e.load(function(){var s=e[0].contentWindow.document,d=t[0].contentWindow.document,l=$(p.textareaElement),m=$("body",d),r=$("body",s);_.each(i,function(e){var o=l.attr(e);void 0!==o&&r.attr(e,o)}),_.each(a,function(e){r.css(e,m.css(e))}),r.addClass(w["prefix.css"]+"-preview");var c=$("head",s);_.each(p.config.stylesheets,function(e){$("<link>",s).attr({rel:"stylesheet",href:e}).appendTo(c)}),o.append(p.getValue(!0)).show(),p.fire("preview",o[0]),o.appendTo(r);var n=function resize(){var o=r.children(),t=o.length&&1==o.get(0).nodeType?o.get(0).offsetTop:0;e.height(r.get(0).scrollHeight+t)};window.setTimeout(function(){n(),window.setTimeout(n,200)},0)}),e.css({border:"none",padding:0}).insertBefore(r).show()},P=function modePreviewClose(){u.find("."+w["prefix.css"]+"-toolbar-mode-editor").show(),u.find("."+w["prefix.css"]+"-toolbar-mode-preview").show().removeClass("on").attr({"aria-pressed":"false"}),u.find("."+w["prefix.css"]+"-toolbar-mode-preview-close").hide(),u.find("."+w["prefix.css"]+"-toolbar-mode-previewer").remove(),V()},S=function handleWysiMode(r){var t;p.fire("change_view","composer",r),p.fire("modeChange","rich"),x=T,t=$(w["footer.rich"]!==!1?_.isFunction(w["footer.rich"])?w["footer.rich"]({options:w,editor:p}):w["footer.rich"]||"":o({_t:l,prefix:w["prefix.css"]})),C("rich"),e.updateFooter(v,t),p.fire("toggleToWysiMode")},j=function handleSourceMode(t){var o;x!=y&&p.fire("change_view","textarea",t),x=k,p.fire("modeChange","html"),w["footer.html"]!==!1?o=$(_.isFunction(w["footer.html"])?w["footer.html"]({options:w,editor:p}):w["footer.html"]):(o=$(i({_t:a,prefix:w["prefix.css"]})),o.find("a[data-wysihtml5-link=help]").on("click",function(e){e.preventDefault(),m(o.find(".modal")).open()}),o.find("a[data-wysihtml5-link=format]").on("click",function(e){e.preventDefault(),p.setValue(f.html_beautify(p.getValue())||p.getValue()),p.fire("aftercommand:composer")})),C("html"),e.updateFooter(v,o),$(p.textareaElement).show(),p.fire("toggleToSourceMode")},E=function handleMarkdownMode(i){var o,t=!1;p.fire("modeChange","rich"),x!=k&&p.fire("change_view","textarea"),$(p.textareaElement).hide(),x=y,b||(t=!0,b=$("<textarea></textarea>").addClass(w["prefix.css"]+"-markdown-editor"),$(p.textareaElement).after(b),e.setupSecondaryTextarea(p,b)),b.val(n(p.getValue(),{inline:!0})),b.on("keyup",function(){p.setValue(h($(this).val(),{math:!0}))}),t&&e.setupSecondaryTextarea(p,b),o=$(w["footer.markdown"]!==!1?_.isFunction(w["footer.markdown"])?w["footer.markdown"]({options:w,editor:p}):w["footer.markdown"]:s({_t:r,prefix:w["prefix.css"]})),C("markdown"),e.updateFooter(v,o),i&&setTimeout(function(){b.show().focus()},0)};w["toolbar.preview"]&&(u.find("."+w["prefix.css"]+"-toolbar-mode-preview").on("click",function(e){$(this).hasClass("on")||M()}),u.find("."+w["prefix.css"]+"-toolbar-mode-preview-close").on("click",function(e){P()})),u.find("[data-wysihtml5-custom-command=change-editor]").on("click",function(t){var o=$(this);o.hasClass("wysihtml5-command-active")||(e.updateFooter(v,""),b&&b.hide(),o.hasClass(T)?S(!0):o.hasClass(k)?j(!0):o.hasClass(y)&&E(!0))}),p.on("load",function(){var r=w["composer.defaultPersist"]?t.get(F):g;if(w["toolbar.mode.markdown"]&&("markdown"==w["composer.default"]&&!r||"markdown"==r))u.find("[data-wysihtml5-custom-command=change-editor]").show().removeClass("wysihtml5-command-active"),u.find("."+y).addClass("wysihtml5-command-active"),E(!1);else if(w["toolbar.mode.html"]&&("html"==w["composer.default"]&&!r||"html"==r))u.find("[data-wysihtml5-custom-command=change-editor]").show().removeClass("wysihtml5-command-active"),u.find("."+k).addClass("wysihtml5-command-active"),j(!1);else{var i;i=$(w["footer.rich"]!==!1?_.isFunction(w["footer.rich"])?w["footer.rich"]({options:w,editor:p}):w["footer.rich"]:o({prefix:w["prefix.css"]})),C("rich"),e.updateFooter(v,i)}})}}),e};"function"==typeof define&&define.amd?define("bundles/wysihtml5/modes",["jquery","underscore","bundles/wysihtml5/editor","bundles/wysihtml5/toolbar-modes.html","i18n!bundles/wysihtml5/nls/toolbar-modes","bundles/wysihtml5/footer-source.html","i18n!bundles/wysihtml5/nls/footer-source","bundles/wysihtml5/footer-markdown.html","i18n!bundles/wysihtml5/nls/footer-markdown","bundles/wysihtml5/footer-rich.html","i18n!bundles/wysihtml5/nls/footer-rich","js/lib/modals","js/lib/cookie","js/lib/beautify-html","js/lib/marked","js/lib/html.md"],function($,_,t,d,r,i,a,s,n,o,l,m,c,f,h,w){return e($,_,t,d,r,i,a,s,n,o,l,m,c,f,h,w)}):e(window.$,window._,window.wysihtml5,window.wysiEditor,window.jade.templates["bundles.wysihtml5.toolbar-modes"],window.jade.templates["bundles.wysihtml5.footer-source"],window.jade.templates["bundles.wysihtml5.footer-markdown"],window.jade.templates["bundles.wysihtml5.footer-rich"],window.Modal,window.Cookie,window.beautify_html,window.marked,window.HTML2Markdown)}(window);
define("bundles/wysihtml5/nls/toolbar-transloadit",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(t){var e=function(e,t,i){var n=function template(r){var i=[],a={},o,n=r||{};return function(t,n){i.push('<button data-wysihtml5-custom-command="image" data-wysihtml5-order=\'7\' type="button" unselectable="on"'+e.attr("title",t("Insert image"),!0,!1)+e.cls([n+"-toolbar-item"],[!0])+'><i class="cif-file-picture-o"></i> '+e.escape(null==(o=t("Pic"))?"":o)+"</button>")}.call(this,"_t"in n?n._t:"undefined"!=typeof t?t:void 0,"prefix"in n?n.prefix:"undefined"!=typeof prefix?prefix:void 0),i.join("")};return function(e){return e&&"_t"in e&&(t=e._t.merge(t)),n(e)}};"function"==typeof define&&define.amd?define('bundles/wysihtml5/toolbar-transloadit.html',["js/vendor/jade","i18n!bundles/wysihtml5/nls/toolbar-transloadit"],function(t,n){var i;return e(t,n,i)}):t.jade.templates["bundles.wysihtml5.toolbar-transloadit"]=e(t.jade.helpers)}(window);
define("bundles/wysihtml5/nls/toolbar-modal-transloadit",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var a=function(e,a,i){var t=function template(d){var l=[],s={},t,i=d||{};return function(i,a){l.push('<div data-wysihtml5-modal-image="data-wysihtml5-modal-image"'+e.attr("data-modal-overlay-class",i+"-overlay",!0,!1)+' role="dialog" aria-label="Create Image" tabindex="-1" class="modal hide"><form><div class="modal-body"><div class="control-group bootstrap-wysihtml5-upload-image"><div style="text-align:center;" class="uploader-controls transloadit-uploader"><div class="uploader-preview"><div><img src=""/></div><div style="margin-top:10px;"><span>'+e.escape(null==(t=a("What size would you like to embed it at?"))?"":t)+' </span><input type="text" style="width:50px;margin-left: 5px; margin-right:5px;" class="uploader-input-width"/><span>'+e.escape(null==(t=a("x"))?"":t)+'</span><input type="text" style="width:50px;margin-left:5px;" class="uploader-input-height"/></div></div><div class="uploader-side"><button type="button" class="btn uploader-button">'+e.escape(null==(t=a("Pick File"))?"":t)+'</button><div class="uploader-file-input"><input type="file" name="my_file" accept="image/png,image/jpeg,image/gif,image/jpg"/></div><div style="display:none;" class="progress progress-striped active uploader-progress"><div style="width:0%" class="bar"></div></div><div class="uploader-input hide"><input type="text" value="" name="result" class="uploader-input-url"/></div></div></div></div></div><div class="modal-footer"><button type="submit" data-modal-close="data-modal-close" style="margin-right:10px;"'+e.cls(["btn","hide",i+"-modal-image-submit"],[null,null,!0])+">"+e.escape(null==(t=a("Insert"))?"":t)+'</button><a data-modal-close="data-modal-close" href="javascript:;">'+e.escape(null==(t=a("Cancel"))?"":t)+"</a></div></form></div>")}.call(this,"prefix"in i?i.prefix:"undefined"!=typeof prefix?prefix:void 0,"_t"in i?i._t:"undefined"!=typeof a?a:void 0),l.join("")};return function(e){return e&&"_t"in e&&(a=e._t.merge(a)),t(e)}};"function"==typeof define&&define.amd?define('bundles/wysihtml5/toolbar-modal-transloadit.html',["js/vendor/jade","i18n!bundles/wysihtml5/nls/toolbar-modal-transloadit"],function(e,t){var i;return a(e,t,i)}):e.jade.templates["bundles.wysihtml5.toolbar-modal-transloadit"]=a(e.jade.helpers)}(window);
define("js/lib/jquery.easing",["jquery"],function(n){n.easing.jswing=n.easing.swing,n.extend(n.easing,{def:"easeOutQuad",swing:function(t,e,u,r,a){return n.easing[n.easing.def](t,e,u,r,a)},easeInQuad:function(r,n,t,e,u){return e*(n/=u)*n+t},easeOutQuad:function(r,n,t,e,u){return-e*(n/=u)*(n-2)+t},easeInOutQuad:function(r,n,t,e,u){if((n/=u/2)<1)return e/2*n*n+t;return-e/2*(--n*(n-2)-1)+t},easeInCubic:function(r,n,t,e,u){return e*(n/=u)*n*n+t},easeOutCubic:function(r,n,t,e,u){return e*((n=n/u-1)*n*n+1)+t},easeInOutCubic:function(r,n,t,e,u){if((n/=u/2)<1)return e/2*n*n*n+t;return e/2*((n-=2)*n*n+2)+t},easeInQuart:function(r,n,t,e,u){return e*(n/=u)*n*n*n+t},easeOutQuart:function(r,n,t,e,u){return-e*((n=n/u-1)*n*n*n-1)+t},easeInOutQuart:function(r,n,t,e,u){if((n/=u/2)<1)return e/2*n*n*n*n+t;return-e/2*((n-=2)*n*n*n-2)+t},easeInQuint:function(r,n,t,e,u){return e*(n/=u)*n*n*n*n+t},easeOutQuint:function(r,n,t,e,u){return e*((n=n/u-1)*n*n*n*n+1)+t},easeInOutQuint:function(r,n,t,e,u){if((n/=u/2)<1)return e/2*n*n*n*n*n+t;return e/2*((n-=2)*n*n*n*n+2)+t},easeInSine:function(r,t,e,n,u){return-n*Math.cos(t/u*(Math.PI/2))+n+e},easeOutSine:function(r,n,t,e,u){return e*Math.sin(n/u*(Math.PI/2))+t},easeInOutSine:function(r,n,t,e,u){return-e/2*(Math.cos(Math.PI*n/u)-1)+t},easeInExpo:function(r,n,t,e,u){return 0==n?t:e*Math.pow(2,10*(n/u-1))+t},easeOutExpo:function(r,n,t,e,u){return n==u?t+e:e*(-Math.pow(2,-10*n/u)+1)+t},easeInOutExpo:function(r,n,t,e,u){if(0==n)return t;if(n==u)return t+e;if((n/=u/2)<1)return e/2*Math.pow(2,10*(n-1))+t;return e/2*(-Math.pow(2,-10*--n)+2)+t},easeInCirc:function(r,n,t,e,u){return-e*(Math.sqrt(1-(n/=u)*n)-1)+t},easeOutCirc:function(r,n,t,e,u){return e*Math.sqrt(1-(n=n/u-1)*n)+t},easeInOutCirc:function(r,n,t,e,u){if((n/=u/2)<1)return-e/2*(Math.sqrt(1-n*n)-1)+t;return e/2*(Math.sqrt(1-(n-=2)*n)+1)+t},easeInElastic:function(s,e,r,n,a){var i=1.70158,t=0,u=n;if(0==e)return r;if(1==(e/=a))return r+n;if(t||(t=.3*a),u<Math.abs(n)){u=n;var i=t/4}else var i=t/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*(e-=1))*Math.sin(2*(e*a-i)*Math.PI/t))+r},easeOutElastic:function(s,e,r,n,a){var i=1.70158,t=0,u=n;if(0==e)return r;if(1==(e/=a))return r+n;if(t||(t=.3*a),u<Math.abs(n)){u=n;var i=t/4}else var i=t/(2*Math.PI)*Math.asin(n/u);return u*Math.pow(2,-10*e)*Math.sin(2*(e*a-i)*Math.PI/t)+n+r},easeInOutElastic:function(s,n,r,t,a){var i=1.70158,e=0,u=t;if(0==n)return r;if(2==(n/=a/2))return r+t;if(e||(e=.3*a*1.5),u<Math.abs(t)){u=t;var i=e/4}else var i=e/(2*Math.PI)*Math.asin(t/u);if(1>n)return-.5*u*Math.pow(2,10*(n-=1))*Math.sin(2*(n*a-i)*Math.PI/e)+r;return u*Math.pow(2,-10*(n-=1))*Math.sin(2*(n*a-i)*Math.PI/e)*.5+t+r},easeInBack:function(a,t,e,u,r,n){return void 0==n&&(n=1.70158),u*(t/=r)*t*((n+1)*t-n)+e},easeOutBack:function(a,n,e,u,r,t){return void 0==t&&(t=1.70158),u*((n=n/r-1)*n*((t+1)*n+t)+1)+e},easeInOutBack:function(a,n,e,u,r,t){if(void 0==t&&(t=1.70158),(n/=r/2)<1)return u/2*n*n*(((t*=1.525)+1)*n-t)+e;return u/2*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)+e},easeInBounce:function(u,r,a,t,e){return t-n.easing.easeOutBounce(u,e-r,0,t,e)+a},easeOutBounce:function(r,n,t,e,u){return(n/=u)<1/2.75?7.5625*e*n*n+t:2/2.75>n?e*(7.5625*(n-=1.5/2.75)*n+.75)+t:2.5/2.75>n?e*(7.5625*(n-=2.25/2.75)*n+.9375)+t:e*(7.5625*(n-=2.625/2.75)*n+.984375)+t},easeInOutBounce:function(r,e,a,u,t){if(t/2>e)return.5*n.easing.easeInBounce(r,2*e,0,u,t)+a;return.5*n.easing.easeOutBounce(r,2*e-t,0,u,t)+.5*u+a}})});
define("js/vendor/jquery.jsonp",["jquery"],function($){function noop(){}function genericCallback(e){o=[e]}function appendScript(e){t.insertBefore(e,t.firstChild)}function callIfDefined(e,t,n){return e&&e.apply(t.context||t,n)}function qMarkOrAmp(e){return/\?/.test(e)?"&":"?"}function jsonp(e){function notifySuccess(t){!k++&&setTimeout(function(){w(),q&&(i[T]={s:[t]}),B&&(t=B.apply(e,[t])),callIfDefined(e.success,e,[t,p]),callIfDefined(E,e,[e,p])},0)}function notifyError(t){!k++&&setTimeout(function(){w(),q&&t!=h&&(i[T]=t),callIfDefined(e.error,e,[e,t]),callIfDefined(E,e,[e,t])},0)}e=$.extend({},j,e);var E=e.complete,B=e.dataFilter,S=e.callbackParameter,C=e.callback,P=e.cache,q=e.pageCache,F=e.charset,T=e.url,g=e.data,D=e.timeout,x,k=0,w=noop;if(e.abort=function(){!k++&&w()},callIfDefined(e.beforeSend,e,[e])===!1||k)return e;return T=T||c,g=g?"string"==typeof g?g:$.param(g,e.traditional):c,T+=g?qMarkOrAmp(T)+g:c,S&&(T+=qMarkOrAmp(T)+escape(S)+"=?"),!P&&!q&&(T+=qMarkOrAmp(T)+"_"+(new Date).getTime()+"="),T=T.replace(/=\?(&|$)/,"="+C+"$1"),q&&(x=i[T])?x.s?notifySuccess(x.s[0]):notifyError(x):setTimeout(function(e,c,i){function callback(t){(e[r]||noop)(),t=o,o=void 0,t?notifySuccess(t[0]):notifyError(a)}k||(i=D>0&&setTimeout(function(){notifyError(h)},D),w=function(){i&&clearTimeout(i),e[l]=e[r]=e[f]=e[n]=null,t[d](e),c&&t[d](c)},window[C]=genericCallback,e=$(m)[0],e.id=u+b++,F&&(e[v]=F),y.msie?(e.event=r,e.htmlFor=e.id,e[l]=function(){"loaded"==e.readyState&&callback()}):(e[n]=e[f]=callback,y.opera?(c=$(m)[0]).text="jQuery('#"+e.id+"')[0]."+n+"()":e[s]=s),e.src=T,appendScript(e),c&&appendScript(c))},0),e}var s="async",v="charset",c="",a="error",u="_jqjsp",e="on",r=e+"click",n=e+a,f=e+"load",l=e+"readystatechange",d="removeChild",m="<script/>",p="success",h="timeout",y=$.browser,t=$("head")[0]||document.documentElement,i={},b=0,o,j={callback:u,url:location.href};jsonp.setup=function(e){$.extend(j,e)},$.jsonp=jsonp});
define("js/vendor/jquery.transloadit2.amd",["jquery","js/lib/jquery.easing","js/vendor/jquery.jsonp"],function($){function Uploader(){this.assemblyId=null,this.instance=null,this.documentTitle=null,this.timer=null,this._options={},this.uploads=[],this.results={},this.ended=null,this.pollStarted=null,this.pollRetries=0,this.seq=0,this.started=!1,this.assembly=null,this.params=null,this.bytesReceivedBefore=0,this.lastPoll=0,this.$params=null,this.$form=null,this.$files=null,this.$fileClones=null,this.$iframe=null,this.$modal=null}var t="https:"==document.location.protocol?"https://":"http://",o={service:t+"api2.transloadit.com/",assets:t+"assets.transloadit.com/",onPick:function(){},onStart:function(){},onProgress:function(){},onUpload:function(){},onResult:function(){},onCancel:function(){},onError:function(){},onSuccess:function(){},interval:2500,pollTimeout:8e3,poll404Retries:15,pollConnectionRetries:3,wait:!1,processZeroFiles:!0,autoSubmit:!0,modal:!0,exclude:"",fields:!1,params:null,debug:!0},e=!1;$.fn.transloadit=function(){var t=Array.prototype.slice.call(arguments),o,e,s;if((1==t.length&&"object"==typeof t[0]||void 0===t[0])&&t.unshift("init"),o=t.shift(),"init"==o?(e=new Uploader,t.unshift(this),this.data("transloadit.uploader",e)):e=this.data("transloadit.uploader"),!e)throw new Error("Element is not initialized for transloadit!");return s=e[o].apply(e,t),void 0===s?this:s},Uploader.prototype.init=function(e,s){this.$form=e,this.options($.extend({},o,s||{}));var t=this;e.find('input[type="file"]').on("change",function(){return t.validate(),t.detectFileInputs(),t.checkFileTypes(),t._options.processZeroFiles||0!==t.$files.length?(t._options.onPick(),t.getBoredInstance()):t.submitForm(),!1}),this.includeCss()},Uploader.prototype.getBoredInstance=function(){var t=this;this.instance=null,$.jsonp({url:this._options.service+"instances/bored",timeout:t._options.pollTimeout,callbackParameter:"callback",success:function(e){if(e.error)return t.ended=!0,t.renderError(e),void t._options.onError(e);t.instance=e.api2_host,t.start()},error:function(s,o){t.ended=!0;var e={error:"CONNECTION_ERROR",message:"There was a problem connecting to the upload server",reason:"JSONP request status: "+o};t.renderError(e),t._options.onError(e)}}),this._options.modal&&this.showModal()},Uploader.prototype.start=function(){var e=this;this.started=!1,this.ended=!1,this.bytesReceivedBefore=0,this.pollRetries=0,this.seq=0,this.uploads=[],this.results={},this.assemblyId=this.uuid(),this.$fileClones=$().not(document),this.$files.each(function(){var t=$(this).clone(!0);e.$fileClones=e.$fileClones.add(t),t.insertAfter(this)}),this.$iframe=$('<iframe id="transloadit-'+this.assemblyId+'" name="transloadit-'+this.assemblyId+'"/>').appendTo("body").hide(),this.$uploadForm=$('<form enctype="multipart/form-data" />').attr("action",t+this.instance+"/assemblies/"+this.assemblyId+"?redirect=false").attr("target","transloadit-"+this.assemblyId).attr("method","POST").append(this.$files).appendTo("body").hide();var o="[name=params], [name=signature]";this._options.fields===!0?o="*":"string"==typeof this._options.fields&&(o+=", "+this._options.fields);var s=this.clone(this.$form.find(":input[type!=file]").filter(o));this._options.params&&!this.$params&&(s=s.add('<input name="params" value=\''+JSON.stringify(this._options.params)+"'>")),s.prependTo(this.$uploadForm),this.$uploadForm.submit(),this.lastPoll=+new Date,setTimeout(function(){e._poll()},300)},Uploader.prototype.clone=function(e){for(var o=e.clone(),s=e.filter("textarea"),i=o.filter("textarea"),t=0,r=s.length;r>t;++t)$(i[t]).val($(s[t]).val());return o},Uploader.prototype.checkFileTypes=function(){var e=this,t=e.$files.attr("accept");if(!t)return!0;"video/*"==t&&(t="video/mp4,video/m4v,video/flv,video/avi,video/mpg,video/mov,video/wmv,video/h264,video/mkv"),"image/*"==t&&(t="image/png,image/jpeg,image/gif,image/jpg,image/ico"),t=t.split(","),e.$files=e.$files.filter(function(){for(var s=this.value.split(".").pop().toLowerCase(),o=0;o<t.length;o++)if(s==t[o].split("/")[1])return!0;return e._options.onError("Sorry, we don't accept "+s+" files."),!1})},Uploader.prototype.detectFileInputs=function(){var t=this.$form.find("input[type=file]").not(this._options.exclude);this._options.processZeroFiles||(t=t.filter(function(){return""!==this.value})),this.$files=t},Uploader.prototype.validate=function(){if(this._options.params)this.params=this._options.params;else{var t=this.$form.find("input[name=params]");if(!t.length)return void alert("Could not find input[name=params] in your form.");try{this.params=JSON.parse(t.val())}catch(e){return void alert("Error: input[name=params] seems to contain invalid JSON.")}}if(this.params.redirect_url)this.$form.attr("action",this.params.redirect_url);else if(this._options.autoSubmit&&this.$form.attr("action")==this._options.service+"assemblies")return void alert("Error: input[name=params] does not include a redirect_url");this.$params=t},Uploader.prototype._poll=function(o){var e=this;if(this.ended)return;$.browser.mozilla&&!this.documentTitle&&(this.documentTitle=document.title,document.title="Loading..."),this.pollStarted=+new Date,$.jsonp({url:t+this.instance+"/assemblies/"+this.assemblyId+(o||"?seq="+this.seq),timeout:e._options.pollTimeout,callbackParameter:"callback",success:function(t){if(e.ended)return;if(e.assembly=t,"ASSEMBLY_NOT_FOUND"==t.error){if(e.pollRetries++,e.pollRetries>e._options.poll404Retries)return document.title=e.documentTitle,e.ended=!0,e.renderError(t),void e._options.onError(t);return void setTimeout(function(){e._poll()},400)}if(t.error)return e.ended=!0,e.renderError(t),document.title=e.documentTitle,void e._options.onError(t);e.seq=t.last_seq,e.started||(e.started=!0,e._options.onStart(t)),e.pollRetries=0;var d="ASSEMBLY_UPLOADING"==t.ok,r="ASSEMBLY_EXECUTING"==t.ok,n="ASSEMBLY_CANCELED"==t.ok,a="ASSEMBLY_COMPLETED"==t.ok;e._options.onProgress(t.bytes_received,t.bytes_expected,t);for(var o=0;o<t.uploads.length;o++)e._options.onUpload(t.uploads[o],t),e.uploads.push(t.uploads[o]);for(var s in t.results){e.results[s]=e.results[s]||[];for(var o=0;o<t.results[s].length;o++)e._options.onResult(s,t.results[s][o],t),e.results[s].push(t.results[s][o])}if(n)return e.ended=!0,document.title=e.documentTitle,void e._options.onCancel(t);if(e.renderProgress(t),a||!e._options.wait&&r)return e.ended=!0,document.title=e.documentTitle,t.uploads=e.uploads,t.results=e.results,e._options.onSuccess(t),e._options.modal&&e.cancel(),void e.submitForm();var i=e.pollStarted-+new Date,l=i<e._options.interval?e._options.interval:i;e.timer=setTimeout(function(){e._poll()},l),e.lastPoll=+new Date},error:function(s,o){if(e.ended)return;if(e.pollRetries++,e.pollRetries>e._options.pollConnectionRetries){document.title=e.documentTitle,e.ended=!0;var t={error:"CONNECTION_ERROR",message:"There was a problem connecting to the upload server",reason:"JSONP request status: "+o};return e.renderError(t),void e._options.onError(t)}setTimeout(function(){e._poll()},350)}})},Uploader.prototype.stop=function(){document.title=this.documentTitle,this.ended=!0},Uploader.prototype.cancel=function(){if(!this.ended){var t=this;this.$params&&this.$params.prependTo(this.$form),this.$fileClones.each(function(o){var s=$(t.$files[o]),e=$(this);s.insertAfter(e),e.remove()}),clearTimeout(t.timer),this._poll("?method=delete"),"Microsoft Internet Explorer"==navigator.appName&&this.$iframe[0].contentWindow.document.execCommand("Stop"),setTimeout(function(){t.$iframe.remove()},500)}if(!this._options.modal)return;$.mask.close(),this.$modal.remove()},Uploader.prototype.submitForm=function(){this.$fileClones,null!==this.assembly&&$("<textarea/>").attr("name","transloadit").text(JSON.stringify(this.assembly)).prependTo(this.$form).hide(),this._options.autoSubmit&&this.$form.unbind("submit.transloadit").submit()},Uploader.prototype.showModal=function(){this.$modal=$('<div id="transloadit"><div class="content"><a href="#close" class="close"></a><p class="status"></p><div class="progress"><label>starting upload ...</label><span></span></div><p class="error"></p></div></div>').appendTo("body"),$.extend(this.$modal,{$status:this.$modal.find(".status"),$content:this.$modal.find(".content"),$close:this.$modal.find(".close"),$label:this.$modal.find("label"),$progress:this.$modal.find(".progress"),$progressSpan:this.$modal.find(".progress span"),$error:this.$modal.find(".error")});var t=this;this.$modal.$close.click(function(){t.cancel()}),this.$modal.$error.hide();var t=this,e=this.$modal.expose({api:!0,maskId:"transloadit_expose",opacity:.9,loadSpeed:250,closeOnEsc:!1,closeOnClick:!1});this.$modal.$close.click(function(){return t.cancel(),!1})},Uploader.prototype.renderError=function(t){if(!this._options.modal)return;this.$modal.$content.addClass("content-error"),this.$modal.$progress.hide();var e=this._options.debug?t.error+": "+t.message+"<br><br>"+(t.reason||""):"There was an internal error, please try your upload again.";this.$modal.$error.html(e).show()},Uploader.prototype.renderProgress=function(t){if(!this._options.modal)return;var e=t.bytes_received/t.bytes_expected,o=t.bytes_received-this.bytesReceivedBefore,s=+new Date-this.lastPoll,i=1==e?1e3:2*this._options.interval,r=1==e?"processing ...":(t.bytes_received/1024/1024).toFixed(2)+" MB / "+(t.bytes_expected/1024/1024).toFixed(2)+" MB ("+(o/1024/(s/1e3)).toFixed(1)+" kB / sec)";this.bytesReceivedBefore=t.bytes_received,this.$modal.$label.text(r),this.$modal.$progressSpan.stop().animate({width:100*e+"%"},i,"easeOutCubic")},Uploader.prototype.includeCss=function(){if(e||!this._options.modal)return;e=!0,$('<link rel="stylesheet" type="text/css" href="'+this._options.assets+'css/transloadit2.css" />').appendTo("head")},Uploader.prototype.uuid=function(){var e="",t;for(t=0;32>t;t++)e+=Math.floor(16*Math.random()).toString(16);return e},Uploader.prototype.options=function(t){if(0==arguments.length)return this._options;$.extend(this._options,t)},Uploader.prototype.option=function(t,e){if(1==arguments.length)return this._options[t];this._options[t]=e}});
!function(e){var t=function init($,t,i,n,a,o,s,r){var e=function TransloaditUploader(i,e){var t=this;this.modal=i,this.$element=this.modal.$el.find(".transloadit-uploader"),this.$preview=this.$element.find(".uploader-preview"),this.$button=this.$element.find(".uploader-button"),this.$progress=this.$element.find(".uploader-progress"),this.$input=this.$element.find(".uploader-input-url");var n={max_size:e["transloadit.max_size"]||1048576,auth:{key:e["transloadit.key"]},template_id:e["transloadit.template"],steps:{store:{}}};this.$element.transloadit({params:n,wait:!0,modal:!1,autoSubmit:!1,processZeroFiles:!1,onPick:function onPick(e){t.$element.find(".help-inline.errror").remove(),t.$progress.show(),t.$progress.find(".bar").css("width","0%")},onStart:function onStart(e){t.$button.hide()},onProgress:function onProgress(i,n){var e=(i/n*100).toFixed(2);e=Math.min(95,e),isNaN(e)||t.$progress.find(".bar").css("width",e+"%")},onSuccess:function onSuccess(e){function makeHttps(t){return t.replace(/^http:\/\//i,"https://")}function getResultForStep(i){var t=e.results[i][0];return t.value=makeHttps(t.url),"image"==t.type&&(t.image=t.value),t}t.$progress.fadeOut();var n=0,i;$.each(e.results,function(t,e){n++,i=t}),e.results[":original"]&&n>1&&(i=":original");var a=getResultForStep(i);t.$input.val(a.value).trigger("change"),t.updatePreview(!0),t.$preview.show(),t.$element.find('input[name="uploader_file_input"]').val("")},onError:function onError(e){var i=$('<span class="help-inline error"></span>').append(e);t.$button.show(),t.$element.find(".uploader-side").append(i),t.$element.find('input[name="uploader_file_input"]').val("")}}),this.updatePreview()};return e.prototype.updatePreview=function(){var t=this;if(t.$width=t.$element.find(".uploader-input-width"),t.$height=t.$element.find(".uploader-input-height"),this.$input.val()){var e=this.$preview.find("img");e.attr("src",this.$input.val()).show(),this.$preview.show(),e.on("load",function(){t.$width.val(e.width()),t.$height.val(e.height()),t.modal.reposition(),t.$width.on("keyup",function(){var i=Math.round(e.height()/e.width()*t.$width.val());t.$height.val(i)}),t.$height.on("keyup",function(){var i=Math.round(e.width()/e.height()*t.$height.val());t.$width.val(i)})})}else this.$preview.hide(),this.modal.reposition()},e.prototype.reset=function(){this.$input.val(""),this.updatePreview(),this.$button.show()},t.defaults=$.extend(t.defaults,{"toolbar.image":!1,"transloadit.key":"","transloadit.template":""}),t.plugin("transloadit",function(r,u,v,d){if(d["toolbar.image"]){var c=$(n({_t:a,prefix:d["prefix.css"]}));t.insertIntoLeftToolbar(u,c,7),u.find("."+d["prefix.css"]+"-toolbar-modals").append(o({_t:s,prefix:d["prefix.css"]}));var l=u.find("[data-wysihtml5-modal-image]"),f=l.find("[type=submit]"),p=i(l),h,w=new e(p,d),m=l.find("[name=result]");p.on("close",function(){r.currentView.element.focus()}),m.bind("change input textinput blur",function(){m.val().indexOf("http")>-1&&f.removeAttr("disabled").show()}),l.find("form").on("submit",function(t){t.preventDefault(),t.stopPropagation(),r.currentView.element.focus(),(void 0!==h||null!==h)&&(r.composer.selection.setBookmark(h),h=null);var e=m.val();if(e){var i=l.find(".uploader-input-width").val(),n=l.find(".uploader-input-height").val(),a=n||i?"width:"+i+"px;height:"+n+"px;":"";r.composer.commands.exec("insertImage",{src:e,style:a}),r.fire("change").fire("change:composer")}}),u.find("[data-wysihtml5-custom-command=image]").on("click",function(t){$(this).hasClass("wysihtml5-command-active")||u.hasClass("wysihtml5-commands-disabled")||(h=r.composer&&r.composer.selection.getBookmark(),w.reset(),f.attr("disabled","").hide(),p.open())})}}),t};"function"==typeof define&&define.amd?define("bundles/wysihtml5/transloadit",["jquery","bundles/wysihtml5/editor","js/lib/modals","bundles/wysihtml5/toolbar-transloadit.html","i18n!bundles/wysihtml5/nls/toolbar-transloadit","bundles/wysihtml5/toolbar-modal-transloadit.html","i18n!bundles/wysihtml5/nls/toolbar-modal-transloadit","js/vendor/jquery.transloadit2.amd"],function($,e,i,n,a,o,s,r){return t($,e,i,n,a,o,s,r)}):t(window.$,window.wysiEditor,window.Modal,window.jade.templates["bundles.wysihtml5.toolbar-transloadit"],window.jade.templates["bundles.wysihtml5.toolbar-modal-transloadit"])}(window);
define("bundles/assess/lib/editor/editor",["require","exports","module","bundles/assess/lib/constants","bundles/wysihtml5/code","bundles/wysihtml5/editor","bundles/wysihtml5/latex","bundles/wysihtml5/link","bundles/wysihtml5/modes","bundles/wysihtml5/transloadit","js/app/config","underscore"],function(require,exports,module){var e=require("bundles/assess/lib/constants"),r=require("bundles/wysihtml5/code"),s=require("bundles/wysihtml5/editor"),n=require("bundles/wysihtml5/latex"),a=require("bundles/wysihtml5/link"),i=require("bundles/wysihtml5/modes"),d=require("bundles/wysihtml5/transloadit"),t=require("js/app/config"),_=require("underscore"),o={"prefix.css":"coursera-wysihtml5","prefix.data":"data-coursera-wysihtml5","toolbar.preview":!1,"toolbar.b":!1,"toolbar.strong":!0,"toolbar.i":!1,"toolbar.em":!0,"toolbar.modes":!0,"toolbar.image":!0,"toolbar.code":!1,"composer.class":e.defaultUserHtmlClass,"composer.default":"rich","composer.defaultPersist":!1,"composer.stylesheet":t.url.app_assets+"bundles/assess/lib/editor/editor.css","footer.html":"","footer.rich":"","footer.mode":"","transloadit.key":"05912e90e83346abb96c261bf458b615","transloadit.template":"a295b36c8fd44fbdb89e8eab06980081",parser:function parser(e){return e}},l=function makeEditor(e,r){var n=_(o).chain().clone().extend(r).value(),l=s.constructAndReturnElements(e,n),t=l.editor,a=["keyup","change","paste","cut","focus","blur"];return _(a).each(function(s){t.on(s,function(){e.val(t.getValue()),e.trigger(s)})}),t.on("toggleToSourceMode",function(){e.trigger("focus")}),l};module.exports=l});
define("nls/scribe-plugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/ui",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/author-code-evaluator",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/asset-admin",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/scribe-plugins/styles/scribe-image-upload-command',[],function(){})
define("bundles/peer/utils/CMLUtils",["require","exports","module","bundles/cml/constants/CMLEditorBlocks"],function(require,exports,module){var e=require("bundles/cml/constants/CMLEditorBlocks"),t={getImageUploadOptions:function getImageUploadOptions(e,t){return{context:{courseId:e,itemId:t},pendingAssetCreation:{assetType:"image",typeName:"pending",tags:[]},assetCreationUrl:"/api/onDemandPeerAssetCreationAttempts.v1"}},richTextBlocks:[e.Bold,e.Italic,e.Underline,e.Divider,e.Link,e.Image,e.OrderedList,e.UnorderedList,e.Code]};module.exports=t});
define("bundles/peer/components/RichTextCMLEditor",["require","exports","module","react","bundles/cml/components/CMLOrFallbackEditor","bundles/peer/utils/CMLUtils","bundles/cml/components/CML"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var n=s[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,t,e=require("react"),r=require("bundles/cml/components/CMLOrFallbackEditor"),o=require("bundles/peer/utils/CMLUtils"),s=require("bundles/cml/components/CML"),i=(t=n=function(t){function RichTextCMLEditor(){return _classCallCheck(this,RichTextCMLEditor),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(RichTextCMLEditor,t),RichTextCMLEditor.prototype.render=function render(){return this.props.disabled?e.createElement(s,{cml:this.props.content}):e.createElement(r,{blocks:o.richTextBlocks,changeDelay:0,cml:this.props.content,imageUploadOptions:o.getImageUploadOptions(this.props.courseId,this.props.itemId),onChange:this.props.onChange})},RichTextCMLEditor}(e.Component),n.propTypes={content:e.PropTypes.object.isRequired,courseId:e.PropTypes.string.isRequired,disabled:e.PropTypes.bool.isRequired,itemId:e.PropTypes.string.isRequired,onChange:e.PropTypes.func},t);module.exports=i});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(e){var i=function(t,e,r){var i=function template(t){var e=[],r={},n,i=t||{};return function(i){e.push('<div><div data-rc="GradingCriteriaPreviewModal"></div><div data-js="prompt" class="c-peer-review-submit-prompt"></div></div><div data-js="rich-text-error"></div>'),i?e.push('<div data-rc="RichTextCMLEditor"></div>'):e.push('<textarea data-js="text-input" class="bt3-form-control c-peer-review-submit-text-field"></textarea>')}.call(this,"isCML"in i?i.isCML:"undefined"!=typeof isCML?isCML:void 0),e.join("")};return function(t){return t&&"_t"in t&&(e=t._t.merge(e)),i(t)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/edit.html',["js/vendor/jade","i18n!pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/nls/edit"],function(e,t){var r;return i(e,t,r)}):e.jade.templates["pages.open-course.peerReview.submissionTypes.multipart.partTypes.richText.views.edit"]=i(e.jade.helpers)}(window);

define('css!bundles/wysihtml5/index',[],function(){})
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/edit",["require","exports","module","underscore","bundles/assess/lib/editor/editor","bundles/phoenix/lib/renderContent","bundles/phoenix/lib/view","bundles/peer/components/GradingCriteriaPreviewModal","bundles/peer/components/RichTextCMLEditor","pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors","pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/edit.html","css!bundles/wysihtml5/index.css"],function(require,exports,module){var _=require("underscore"),i=require("bundles/assess/lib/editor/editor"),t=require("bundles/phoenix/lib/renderContent"),s=require("bundles/phoenix/lib/view"),r=require("bundles/peer/components/GradingCriteriaPreviewModal"),n=require("bundles/peer/components/RichTextCMLEditor"),e=require("pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors"),o=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/edit.html");require("css!bundles/wysihtml5/index.css");var d=s.extend({template:o,bindings:{'[data-js="text-input"]':{observe:"richText",update:function update(i,e){i.val(e),this.wysihtml5&&this.wysihtml5.editor.setValue(e)}}},lastSave:"",initialize:function initialize(e){_(this).extend(_(e).pick("submissionSchema","reviewSchemaParts","inputViewModel","itemMetadata","errorTree","privilegedRoleViewReviewSchema")),_(this).bindAll("handleCMLEditorChange"),this.listenTo(this.inputViewModel,"change:inputDisabled",this.updateInputs),this.listenTo(this.model,"change:richText",this.renderCMLEditor),this.isCML="cml"===this.model.get("richText").typeName,this.lastSave=this.model.get("richText"),this.model.on("onSave",function(){this.lastSave=this.model.get("richText")}.bind(this))},templateOptions:function templateOptions(){return{isCML:this.isCML}},handleCMLEditorChange:function handleCMLEditorChange(e){this.model.set("richText",e)},updateInputs:function updateInputs(t,i){if(this.renderCMLEditor(),this.wysihtml5){var e=this.wysihtml5.editor;i?e.disable():e.enable()}},renderSubviews:function renderSubviews(){this.region.append(e,{initialize:{errorTree:this.errorTree},to:this.$$("rich-text-error"),module:e}),this.renderReactInto(r,"GradingCriteriaPreviewModal",{criteria:this.reviewSchemaParts,privilegedRoleViewReviewSchema:this.privilegedRoleViewReviewSchema}),this.renderCMLEditor()},renderCMLEditor:function renderCMLEditor(){this.isCML&&this.renderReactInto(n,"RichTextCMLEditor",{content:this.model.get("richText"),courseId:this.itemMetadata.get("course").get("id"),disabled:this.inputViewModel.get("inputDisabled"),itemId:this.itemMetadata.get("id"),onChange:this.handleCMLEditorChange})},postRender:function postRender(){this.isCML||_.defer(function(){this.wysihtml5=i(this.$$("text-input"),{"toolbar.modes":!1,"toolbar.image":!1})}.bind(this)),t(this.submissionSchema.get("prompt"),this.$$("prompt"))},hasUnsavedModel:function hasUnsavedModel(){return this.model.get("richText")!==this.lastSave}});module.exports=d});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(e){var r=function(i,e,t){var r=function template(r){var e=[],i={},t;return e.push('<div data-js="prompt" class="c-peer-review-review-prompt"></div><div data-js="rich-text-error"></div><div data-js="rich-text" class="c-peer-review-review-response"></div>'),e.join("")};return function(i){return i&&"_t"in i&&(e=i._t.merge(e)),r(i)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/review.html',["js/vendor/jade","i18n!pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/nls/review"],function(e,i){var t;return r(e,i,t)}):e.jade.templates["pages.open-course.peerReview.submissionTypes.multipart.partTypes.richText.views.review"]=r(e.jade.helpers)}(window);
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/review",["require","exports","module","underscore","bundles/phoenix/lib/view","bundles/phoenix/lib/renderContent","pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors","pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/review.html"],function(require,exports,module){var _=require("underscore"),s=require("bundles/phoenix/lib/view"),e=require("bundles/phoenix/lib/renderContent"),i=require("pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors"),r=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/review.html"),n=s.extend({template:r,initialize:function initialize(e){_(this).extend(_(e).pick("errorTree","submissionSchema","submission")),this.listenTo(this.submission,"change",this.updateContents)},renderSubviews:function renderSubviews(){this.region.append(i,{initialize:{errorTree:this.errorTree},to:this.$$("rich-text-error"),module:i})},postRender:function postRender(){e(this.submissionSchema.get("prompt"),this.$$("prompt")),e(this.submission.get("richText"),this.$$("rich-text"))}});module.exports=n});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/config",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/models/submissionSchema","pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/models/submission","pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/edit","pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/review"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/models/submissionSchema"),s=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/models/submission"),i=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/edit"),p=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/views/review");module.exports={EditView:i,ReviewView:p,SubmissionSchema:e,Submission:s}});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/models/submissionSchema",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmissionSchema"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmissionSchema"),s=e.extend({typeName:"url"});module.exports=s});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/models/submission",["require","exports","module","underscore","pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmission"],function(require,exports,module){var _=require("underscore"),e=require("pages/open-course/peerReview/submissionTypes/multipart/models/abstractMediaTypeSubmission"),s=e.extend({typeName:"url",defaults:{url:"",title:"",caption:""},isEmpty:function isEmpty(){return!!_([this.attributes]).findWhere(this.defaults)},getDisplayTitle:function getDisplayTitle(){return this.get("title")||this.get("url")}});module.exports=s});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var t=function(e,t,r){var i=function template(n){var r=[],o={},i,a=n||{};return function(t){r.push('<div><div data-rc="GradingCriteriaPreviewModal"></div><div data-js="prompt" class="c-peer-review-submit-prompt"></div></div><div data-js="url-error"></div><input type="text" data-js="url-input"'+e.attr("placeholder",t("URL"),!0,!1)+' class="c-peer-review-submit-text-field c-peer-review-submit-text-field-group-top bt3-form-control"/><div data-js="hide-on-empty-model" class="c-peer-review-submit-text-field-container"><input type="text" data-js="title-input"'+e.attr("placeholder",t("Title"),!0,!1)+' class="c-peer-review-submit-text-field c-peer-review-submit-text-field-group-middle bt3-form-control"/><div data-js="show-on-empty-title" class="c-peer-review-submit-text-field-annotation">'+e.escape(null==(i=t("optional"))?"":i)+'</div></div><div data-js="hide-on-empty-model" class="c-peer-review-submit-text-field-container"><textarea data-js="caption-input"'+e.attr("placeholder",t("Caption"),!0,!1)+' class="c-peer-review-submit-text-field c-peer-review-submit-text-field-group-bottom bt3-form-control"></textarea><div data-js="show-on-empty-caption" class="c-peer-review-submit-text-field-annotation">'+e.escape(null==(i=t("optional"))?"":i)+"</div></div>")}.call(this,"_t"in a?a._t:"undefined"!=typeof t?t:void 0),r.join("")};return function(e){return e&&"_t"in e&&(t=e._t.merge(t)),i(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/edit.html',["js/vendor/jade","i18n!pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/nls/edit"],function(e,i){var r;return t(e,i,r)}):e.jade.templates["pages.open-course.peerReview.submissionTypes.multipart.partTypes.url.views.edit"]=t(e.jade.helpers)}(window);
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/edit",["require","exports","module","underscore","bundles/phoenix/lib/renderContent","bundles/phoenix/lib/view","pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors","bundles/peer/components/GradingCriteriaPreviewModal","pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/edit.html"],function(require,exports,module){var _=require("underscore"),i=require("bundles/phoenix/lib/renderContent"),t=require("bundles/phoenix/lib/view"),e=require("pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors"),s=require("bundles/peer/components/GradingCriteriaPreviewModal"),r=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/edit.html"),n=t.extend({template:r,bindings:{'[data-js="url-input"]':"url",'[data-js="title-input"]':"title",'[data-js="caption-input"]':"caption"},classes:{textFieldGroupTop:"c-peer-review-submit-text-field-group-top"},savedUrl:"",savedTitle:"",savedCaption:"",initialize:function initialize(e){_(this).extend(_(e).pick("submissionSchema","reviewSchemaParts","inputViewModel","errorTree","privilegedRoleViewReviewSchema")),this.listenTo(this.inputViewModel,"change:inputDisabled",this.updateInputs),this.listenTo(this.model,"change",this.renderFieldVisibility),this.savedUrl=this.model.get("url"),this.savedTitle=this.model.get("title"),this.savedCaption=this.model.get("caption"),this.model.on("onSave",function(){this.savedUrl=this.model.get("url"),this.savedTitle=this.model.get("title"),this.savedCaption=this.model.get("caption")}.bind(this))},updateInputs:function updateInputs(i,e){this.$$("url-input").attr("disabled",e),this.$$("title-input").attr("disabled",e),this.$$("caption-input").attr("disabled",e)},renderSubviews:function renderSubviews(){this.region.append(e,{initialize:{errorTree:this.errorTree},to:this.$$("url-error"),module:e}),this.renderReactInto(s,"GradingCriteriaPreviewModal",{criteria:this.reviewSchemaParts,privilegedRoleViewReviewSchema:this.privilegedRoleViewReviewSchema})},postRender:function postRender(){this.renderFieldVisibility(),i(this.submissionSchema.get("prompt"),this.$$("prompt"))},renderFieldVisibility:function renderFieldVisibility(){var e=this.model.isEmpty();this.$$("url-input").toggleClass(this.classes.textFieldGroupTop,!e),this.$$("hide-on-empty-model").toggle(!e);var i=!!this.model.get("title");this.$$("show-on-empty-title").toggle(!i);var t=this.model.get("caption");this.$$("show-on-empty-caption").toggle(!t)},hasUnsavedModel:function hasUnsavedModel(){return this.model.get("url")!==this.savedUrl||this.model.get("title")!==this.savedTitle||this.model.get("caption")!==this.savedCaption}});module.exports=n});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(e){var r=function(i,e,s){var r=function template(r){var e=[],i={},s;return e.push('<div data-js="prompt" class="c-peer-review-review-prompt"></div><div data-js="url-error"></div><div class="c-peer-review-review-response"><div data-js="embedded"></div><div data-js="caption" class="c-peer-review-review-response-plain-text"></div></div>'),e.join("")};return function(i){return i&&"_t"in i&&(e=i._t.merge(e)),r(i)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/review.html',["js/vendor/jade","i18n!pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/nls/review"],function(e,i){var s;return r(e,i,s)}):e.jade.templates["pages.open-course.peerReview.submissionTypes.multipart.partTypes.url.views.review"]=r(e.jade.helpers)}(window);
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/review",["require","exports","module","underscore","bundles/phoenix/lib/view","bundles/phoenix/lib/renderContent","pages/open-course/peerReview/components/embeddedContent/views/embeddedContent","pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors","pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/review.html"],function(require,exports,module){var _=require("underscore"),s=require("bundles/phoenix/lib/view"),n=require("bundles/phoenix/lib/renderContent"),e=require("pages/open-course/peerReview/components/embeddedContent/views/embeddedContent"),i=require("pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors"),t=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/review.html"),o=s.extend({template:t,initialize:function initialize(e){_(this).extend(_(e).pick("errorTree","submissionSchema","submission")),this.listenTo(this.submission,"change",this.updateContents)},renderSubviews:function renderSubviews(){this.region.append(i,{initialize:{errorTree:this.errorTree},to:this.$$("url-error"),module:i})},postRender:function postRender(){this.updateContents(),n(this.submissionSchema.get("prompt"),this.$$("prompt"))},updateContents:function updateContents(){this.$$("caption").text(this.submission.get("caption")),this.$$("embedded").empty(),this.region.append(e,{to:this.$$("embedded"),initialize:{text:this.submission.getDisplayTitle(),url:this.submission.get("url")},module:e})}});module.exports=o});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/config",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/models/submissionSchema","pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/models/submission","pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/edit","pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/review"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/models/submissionSchema"),s=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/models/submission"),i=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/edit"),p=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/views/review");module.exports={EditView:i,ReviewView:p,SubmissionSchema:e,Submission:s}});
define("pages/open-course/peerReview/submissionTypes/multipart/partTypes/getPartTypeConfig",["require","exports","module","underscore","pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/config","pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/config","pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/config","pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/config"],function(require,exports,module){var _=require("underscore"),p=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/fileUpload/config"),s=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/plainText/config"),i=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/richText/config"),r=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/url/config"),e={fileUpload:p,plainText:s,richText:i,url:r};module.exports=function(p){if(!_(e).has(p))throw new Error('Unrecognized part type name: "'+p+'"');return e[p]}});
define("pages/open-course/peerReview/submissionTypes/multipart/models/submissionSchemaPartCollection",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/models/partCollection","pages/open-course/peerReview/submissionTypes/multipart/partTypes/getPartTypeConfig"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/models/partCollection"),s=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/getPartTypeConfig"),p=e.extend({ordered:!0,model:function model(e,p){var o=s(e.typeName).SubmissionSchema;return new o(e,p)}});module.exports=p});
define("pages/open-course/peerReview/submissionTypes/multipart/models/submissionSchema",["require","exports","module","backbone-associations","pages/open-course/peerReview/submissionTypes/base/models/submissionSchema","pages/open-course/peerReview/submissionTypes/multipart/models/submissionSchemaPartCollection"],function(require,exports,module){var Backbone=require("backbone-associations"),e=require("pages/open-course/peerReview/submissionTypes/base/models/submissionSchema"),s=require("pages/open-course/peerReview/submissionTypes/multipart/models/submissionSchemaPartCollection"),i=e.extend({typeName:"multipart",relations:[{type:Backbone.Associations.Many,key:"parts",collectionType:s}],defaults:function defaults(){return{parts:[]}},initializeSubmission:function initializeSubmission(e){return e.get("parts").reset(),this.get("parts").each(function(s){e.get("parts").add({id:s.get("id"),typeName:s.get("typeName")})}),e}});module.exports=i});
define("pages/open-course/peerReview/submissionTypes/base/models/submission",["require","exports","module","backbone-associations","pages/open-course/common/models/socialProfile"],function(require,exports,module){var Backbone=require("backbone-associations"),e=require("pages/open-course/common/models/socialProfile"),o=Backbone.AssociatedModel.extend({typeName:void 0,defaults:function defaults(){return{creator:{}}},relations:[{type:Backbone.Associations.One,key:"creator",relatedModel:e,isTransient:!0}]});module.exports=o});
define("pages/open-course/peerReview/submissionTypes/multipart/models/submissionPartCollection",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/models/partCollection","pages/open-course/peerReview/submissionTypes/multipart/partTypes/getPartTypeConfig"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/models/partCollection"),s=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/getPartTypeConfig"),p=e.extend({model:function model(e,p){var i=s(e.typeName).Submission;return new i(e,p)}});module.exports=p});
define("pages/open-course/peerReview/submissionTypes/multipart/models/submission",["require","exports","module","underscore","backbone-associations","pages/open-course/peerReview/submissionTypes/base/models/submission","pages/open-course/peerReview/submissionTypes/multipart/models/submissionPartCollection"],function(require,exports,module){var _=require("underscore"),Backbone=require("backbone-associations"),e=require("pages/open-course/peerReview/submissionTypes/base/models/submission"),s=require("pages/open-course/peerReview/submissionTypes/multipart/models/submissionPartCollection"),o=e.extend({typeName:"multipart",relations:_(e.prototype.relations).union([{type:Backbone.Associations.Many,key:"parts",collectionType:s}]),defaults:function defaults(){return{title:"",parts:[]}}});module.exports=o});
define("pages/open-course/peerReview/submissionTypes/multipart/views/nls/edit",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var i=function(i,e,r){var t=function template(a){var r=[],s={},t,n=a||{};return function(e){r.push('<div data-js="submit-title-area" class="c-peer-review-submit-title-area horizontal-box align-items-vertical-center"><h2 class="headline-3-text flex-1">'+i.escape(null==(t=e("Submit your assignment"))?"":t)+'</h2><div data-rc="GradingCriteriaPreviewModal"></div></div><div class="c-peer-review-submit-prompt c-peer-review-submit-title-prompt headline-1-text">'+i.escape(null==(t=e("Title"))?"":t)+'</div><div data-js="title-error"></div><input type="text" data-js="submission-title-input"'+i.attr("placeholder",e("Give your project a descriptive title"),!0,!1)+' class="c-peer-review-submit-text-field bt3-form-control"/><div data-js="parts"></div>')}.call(this,"_t"in n?n._t:"undefined"!=typeof e?e:void 0),r.join("")};return function(i){return i&&"_t"in i&&(e=i._t.merge(e)),t(i)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/submissionTypes/multipart/views/edit.html',["js/vendor/jade","i18n!pages/open-course/peerReview/submissionTypes/multipart/views/nls/edit"],function(e,t){var r;return i(e,t,r)}):e.jade.templates["pages.open-course.peerReview.submissionTypes.multipart.views.edit"]=i(e.jade.helpers)}(window);
define("pages/open-course/peerReview/submissionTypes/multipart/views/edit",["require","exports","module","underscore","bundles/phoenix/lib/view","pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors","bundles/peer/components/GradingCriteriaPreviewModal","pages/open-course/peerReview/submissionTypes/multipart/partTypes/getPartTypeConfig","pages/open-course/peerReview/submissionTypes/multipart/views/edit.html"],function(require,exports,module){var _=require("underscore"),i=require("bundles/phoenix/lib/view"),e=require("pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors"),t=require("bundles/peer/components/GradingCriteriaPreviewModal"),s=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/getPartTypeConfig"),r=require("pages/open-course/peerReview/submissionTypes/multipart/views/edit.html"),n=i.extend({template:r,bindings:{'[data-js="submission-title-input"]':"title"},savedTitle:"",initialize:function initialize(e){_(this).bindAll("renderPart"),_(this).extend(_(e).pick("errorTree","inputViewModel","itemMetadata","reviewSchema","privilegedRoleViewReviewSchema","submissionSchema")),0===this.model.get("parts").length&&this.submissionSchema.initializeSubmission(this.model),this.submissionSchemaParts=this.submissionSchema.get("parts"),this.submissionParts=this.model.get("parts"),this.listenTo(this.inputViewModel,"change:inputDisabled",this.updateInputs),this.savedTitle=this.model.get("title"),this.model.on("onSave",function(){this.savedTitle=this.model.get("title")}.bind(this))},updateInputs:function updateInputs(i,e){this.$$("submission-title-input").attr("disabled",e)},renderSubviews:function renderSubviews(){this.submissionSchemaParts.each(this.renderPart.bind(this)),this.region.append(e,{initialize:{errorTree:this.errorTree},to:this.$$("title-error"),module:e}),this.renderReactInto(t,"GradingCriteriaPreviewModal",{criteria:this.reviewSchema.getPartsForSubmissionSchemaPart(null),privilegedRoleViewReviewSchema:this.privilegedRoleViewReviewSchema})},renderPart:function renderPart(e){var i=e.get("id"),t=this.errorTree.getChild(i),r=this.submissionParts.get(i),n=s(e.get("typeName")),a=this.reviewSchema.getPartsForSubmissionSchemaPart(i);this.region.append(n.EditView,{initialize:{errorTree:t,itemMetadata:this.itemMetadata,submissionSchema:e,model:r,inputViewModel:this.inputViewModel,reviewSchemaParts:a,privilegedRoleViewReviewSchema:this.privilegedRoleViewReviewSchema},to:this.$$("parts")})},hasUnsavedModel:function hasUnsavedModel(){return this.model.get("title")!==this.savedTitle}});module.exports=n});
define("pages/open-course/peerReview/submissionTypes/multipart/views/review",["require","exports","module","backbone","jquery","underscore","bundles/phoenix/lib/backboneReactMixin","bundles/phoenix/lib/mixin","pages/open-course/peerReview/submissionTypes/multipart/partTypes/getPartTypeConfig"],function(require,exports,module){var Backbone=require("backbone"),$=require("jquery"),_=require("underscore"),i=require("bundles/phoenix/lib/backboneReactMixin"),s=require("bundles/phoenix/lib/mixin"),r=require("pages/open-course/peerReview/submissionTypes/multipart/partTypes/getPartTypeConfig"),e=Backbone.View.extend({initialize:function initialize(e){_(this).extend(_(e).pick("DisplayPartsForSubmissionSchemaPartId","errorTree","FormPartsForSubmissionSchemaPartId","submissionSchema","submission"))},render:function render(){this.appendSubviews()},appendSubviews:function appendSubviews(){var e=this,s=this.region,a=this.errorTree,t=this.submissionSchema.get("parts"),n=this.submission.get("parts");t.each(function(p){var t=p.get("id"),u=n.get(t),c=a.getChild(t),d=r(p.typeName).ReviewView,i=$("<div></div>");e.$el.append(i);var o=$("<div></div>");if(i.append(o),s.append(d,{initialize:{errorTree:c,submissionSchema:p,submission:u},to:o,module:d}),e.FormPartsForSubmissionSchemaPartId){var m=e.FormPartsForSubmissionSchemaPartId(t);e.appendReactInto(m,i),o.addClass("c-peer-submission-part-with-inline-review")}if(e.DisplayPartsForSubmissionSchemaPartId){var b=e.DisplayPartsForSubmissionSchemaPartId(t);e.appendReactInto(b,i),i.addClass("c-peer-card-group"),o.addClass("card-rich-interaction c-peer-card")}});var i=$("<div></div>").addClass("c-peer-card-group");if(this.$el.append(i),this.FormPartsForSubmissionSchemaPartId){var o=this.FormPartsForSubmissionSchemaPartId(null);this.appendReactInto(o,i)}if(this.DisplayPartsForSubmissionSchemaPartId){var p=this.DisplayPartsForSubmissionSchemaPartId(null);this.appendReactInto(p,i)}}});s(e.prototype,i),module.exports=e});
define("pages/open-course/peerReview/submissionTypes/multipart/config",["require","exports","module","pages/open-course/peerReview/submissionTypes/multipart/models/submissionSchema","pages/open-course/peerReview/submissionTypes/multipart/models/submission","pages/open-course/peerReview/submissionTypes/multipart/views/edit","pages/open-course/peerReview/submissionTypes/multipart/views/review"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/multipart/models/submissionSchema"),s=require("pages/open-course/peerReview/submissionTypes/multipart/models/submission"),i=require("pages/open-course/peerReview/submissionTypes/multipart/views/edit"),p=require("pages/open-course/peerReview/submissionTypes/multipart/views/review");module.exports={EditView:i,ReviewView:p,SubmissionSchema:e,Submission:s}});
define("pages/open-course/peerReview/submissionTypes/getSubmissionTypeConfig",["require","exports","module","underscore","pages/open-course/peerReview/submissionTypes/multipart/config"],function(require,exports,module){var _=require("underscore"),s=require("pages/open-course/peerReview/submissionTypes/multipart/config"),e={multipart:s};module.exports=function(s){if(!_(e).has(s))throw new Error('Unknown submissionSchema type: "'+s+'"');return e[s]}});
define("pages/open-course/peerReview/submissionTypes/base/factories/submissionSchemaFactory",["require","exports","module","underscore","pages/open-course/peerReview/submissionTypes/getSubmissionTypeConfig"],function(require,exports,module){var _=require("underscore"),e=require("pages/open-course/peerReview/submissionTypes/getSubmissionTypeConfig"),s=function submissionSchemaFactory(s){var i=e(s.typeName).SubmissionSchema;return new i(_({assignmentVersion:s.assignmentVersion}).extend(s.definition),{parse:!0})};module.exports=s});
define("pages/open-course/peerReview/submissionTypes/base/factories/submissionFactory",["require","exports","module","underscore","bundles/phoenix/models/evaluation","pages/open-course/common/models/currentSocialProfile","pages/open-course/peerReview/models/errorTree","pages/open-course/peerReview/reviewTypes/factories/schemaFactory","pages/open-course/peerReview/submissionTypes/getSubmissionTypeConfig","pages/open-course/peerReview/submissionTypes/base/factories/submissionSchemaFactory"],function(require,exports,module){var _=require("underscore"),i=require("bundles/phoenix/models/evaluation"),o=require("pages/open-course/common/models/currentSocialProfile"),n=require("pages/open-course/peerReview/models/errorTree"),e=require("pages/open-course/peerReview/reviewTypes/factories/schemaFactory"),s=require("pages/open-course/peerReview/submissionTypes/getSubmissionTypeConfig"),r=require("pages/open-course/peerReview/submissionTypes/base/factories/submissionSchemaFactory"),t={fromGetSubmission:function fromGetSubmission(o){var n=o.submission,t=_(o.userProfiles).findWhere({userId:n.creatorId}),a=_({}).extend(n.definition,{creator:t,id:n.id,createdAt:n.createdAt,votes:o.votes,reviewsSummary:o.reviewsSummary,reviewProgress:o.reviewProgress}),u=s(n.typeName).Submission;return{evaluation:new i(o.evaluation),reviewProgress:o.reviewProgress,reviewSchema:e(o.reviewSchema),reviewsSummary:o.reviewsSummary,submission:new u(a,{parse:!0}),submissionSchema:r(o.submissionSchema),upgradeToCurrentAssignment:o.upgradeToCurrentAssignment,isDeleted:o.isDeleted}},fromGetLatestSubmission:function fromGetLatestSubmission(i){if(!i)return null;var a=o.clone(),t=i.submission||{},u=_({}).extend(t.definition,{createdAt:t.createdAt,creator:a,id:t.id,isLate:t.isLate,isSaved:i.isSaved,isSubmitted:i.isSubmitted,votes:i.votes,attemptState:i.attemptState}),m=s(i.submissionSchema.typeName).Submission;return{errorTree:new n(i.errorTree),reviewSchema:e(i.reviewSchema),submission:new m(u,{parse:!0}),submissionSchema:r(i.submissionSchema),upgradeToCurrentAssignment:i.upgradeToCurrentAssignment,isDeletedByAdmin:i.isLatestDeletedSubmissionDeletedByAdmin}}};module.exports=t});
define("pages/open-course/peerReview/data/latestSubmission",["require","exports","module","pages/open-course/peerReview/data/api"],function(require,exports,module){var e=require("pages/open-course/peerReview/data/api");module.exports=function(s){return e.getLatestSubmission(s)}});
define("pages/open-course/peerReview/submissionTypes/base/promises/latestSubmissionAndRelated",["require","exports","module","pages/open-course/peerReview/submissionTypes/base/factories/submissionFactory","pages/open-course/peerReview/data/latestSubmission"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/base/factories/submissionFactory"),s=require("pages/open-course/peerReview/data/latestSubmission");module.exports=function(i,o){return s(i).then(function(s){return e.fromGetLatestSubmission(s)})}});
define("pages/open-course/common/utils/discussionsUrlBuilder",["require","exports","module","js/lib/path"],function(require,exports,module){var i=require("js/lib/path");exports.buildUrl=function(n,s,o){n="string"==typeof n?n:void 0,s="string"==typeof s?s:void 0,o="string"==typeof o?o:void 0;var e=i.join("discussions",n);return s&&(e=i.join(e,"replies",s),o&&(e=i.join(e,"comments",o))),e}});
!function(e){var t=function(e,n,i){var t=function template(d){var n=[],l={},i,t=d||{};return function(l,t,d){n.push("<div"+e.cls(["bt3-alert","bt3-alert-"+l],[null,!0])+">"),t&&n.push("<h4>"+(null==(i=t)?"":i)+"</h4>"),d&&n.push("<p>"+(null==(i=d)?"":i)+"</p>"),n.push("</div>")}.call(this,"type"in t?t.type:"undefined"!=typeof type?type:void 0,"title"in t?t.title:"undefined"!=typeof title?title:void 0,"text"in t?t.text:"undefined"!=typeof text?text:void 0),n.join("")};return t};"function"==typeof define&&define.amd?define('js/lib/flashmessage.html',["js/vendor/jade"],function(e){var n,i;return t(e,n,i)}):e.jade.templates["js.lib.flashmessage"]=t(e.jade.helpers)}(window);
define("js/lib/flashmessage",["require","js/lib/flashmessage.html","jquery","underscore"],function(require){function handleMessage(e,r){var n=appendMessageTo(e,r);handleDuration(r,n)}function appendMessageTo(n,e){var o=processMessage(e),r=$(s(o));r.hide(),n.append(r);var t=e.show||defaultShowFunction;return t(r),r}function defaultShowFunction(r){r.show()}function defaultHideFunction(r,e){r.fadeOut(e)}function processMessage(r){return _.extend({},r,{type:t[r.type]})}function handleDuration(r,e){if(!r.duration)return;var o=r.then||n,t=r.hide||defaultHideFunction;t(e.delay(r.duration),function(){e.remove(),o()})}var s=require("js/lib/flashmessage.html"),$=require("jquery"),_=require("underscore"),n=function noop(){},o=500,t={success:"success",info:"info",warning:"warning",error:"danger"},r=[],e={push:function push(){var n=_.toArray(arguments);return r=r.concat(n),e},renderTo:function renderTo(s,n){var t=$(s);for(t.empty();r.length;)handleMessage(t,r.shift());if(n&&!_.isUndefined(n.scrollTo)){if(!_.isNumber(n.scrollTo))throw new TypeError("renderTo(): scrollTo must be a number.");$("html, body").animate({scrollTop:n.scrollTo},o)}return e}};return e});
define("pages/open-course/peerReview/data/mostLikedSubmissions",["require","exports","module","pages/open-course/peerReview/data/api"],function(require,exports,module){var e=require("pages/open-course/peerReview/data/api");module.exports=function(r){return e.getGallery(r,"mostLiked")}});
define("pages/open-course/peerReview/promises/mostLikedSubmissions",["require","exports","module","pages/open-course/peerReview/data/mostLikedSubmissions","pages/open-course/peerReview/models/submissionSummaries"],function(require,exports,module){var e=require("pages/open-course/peerReview/data/mostLikedSubmissions"),s=require("pages/open-course/peerReview/models/submissionSummaries");module.exports=function(i){return e(i.metadata).then(function(e){return new s(e,{parse:!0,metadata:i.metadata})})}});
define("pages/open-course/peerReview/data/reviewedSubmissions",["require","exports","module","bundles/phoenix/template/models/userIdentity","q","pages/open-course/peerReview/data/api"],function(require,exports,module){var e=require("bundles/phoenix/template/models/userIdentity"),t=require("q"),s=require("pages/open-course/peerReview/data/api");module.exports=function(i){return e.get("authenticated")?s.getReviewedSubmissions(i):t({})}});
define("pages/open-course/peerReview/promises/reviewedSubmissions",["require","exports","module","pages/open-course/peerReview/data/reviewedSubmissions","pages/open-course/peerReview/models/submissionSummaries"],function(require,exports,module){var e=require("pages/open-course/peerReview/data/reviewedSubmissions"),s=require("pages/open-course/peerReview/models/submissionSummaries");module.exports=function(i){return e(i.metadata).then(function(e){return new s(e,{parse:!0,metadata:i.metadata})})}});
define("js/lib/backbone.collection.view",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore"),e={onCollectionAdd:function onCollectionAdd(i){var n=this.collection.indexOf(i);e.appendItemView.call(this,i,{position:n})},onCollectionRemove:function onCollectionRemove(i){var e=this.region.regions;_(e).each(function(n,t){n.view.model===i&&(n.close(),delete e[t])})},onCollectionReset:function onCollectionReset(){var i=this.region.regions;_(i).each(function(e,n){e.close(),delete i[n]}),this.cleanupCollectionContainer(),this.setupCollectionContainer(),this.collection.each(e.appendItemView.bind(this))},appendItemView:function appendItemView(e,i){var n={to:this.itemViewContainer(e),initialize:_(this.itemViewOptions(e)).defaults({model:e})};this.region.append(this.itemView,_(n).extend(i))}},i={itemView:void 0,initialize:function initialize(){this.listenTo(this.collection,"add",e.onCollectionAdd),this.listenTo(this.collection,"remove",e.onCollectionRemove),this.listenTo(this.collection,"reset",e.onCollectionReset)},setupCollectionContainer:function setupCollectionContainer(){},cleanupCollectionContainer:function cleanupCollectionContainer(){},render:e.onCollectionReset,itemViewOptions:function itemViewOptions(e){return{}},itemViewContainer:function itemViewContainer(e){return this.$el}};module.exports=i});
define("pages/open-course/peerReview/views/nls/giveFeedback.tile",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(e){var i=function(e,i,n){var t=function template(a){var r=[],l={},n,t=a||{};return function(a,l,i,t,s){var o=a.floor(12/l);r.push("<div"+e.cls(["c-peer-review-gallery-tile-container","bt3-col-sm-"+o],[null,!0])+'><a data-js="open-course-link give-feedback-tile-link"'+e.attr("href",i.getReviewLink(),!0,!1)+' class="c-peer-review-gallery-tile nostyle card-rich-interaction"><div class="c-peer-review-gallery-tile-header"><div class="c-peer-review-gallery-tile-timestamp">'+e.escape(null==(n=t(i.getTimestampString()))?"":n)+'</div><h3 class="c-peer-review-gallery-tile-title headline-1-text">'+e.escape(null==(n=t(i.getTruncatedTitle()))?"":n)+"</h3></div>"),s||r.push('<div class="c-peer-review-gallery-tile-footer"><img'+e.attr("src",i.getUserPhoto(),!0,!1)+' class="c-peer-review-gallery-tile-img bt3-img-circle"/><span class="c-peer-review-gallery-tile-submitter-name c-truncate">'+e.escape(null==(n=t(i.getUserName()))?"":n)+"</span></div>"),r.push("</a></div>")}.call(this,"Math"in t?t.Math:"undefined"!=typeof Math?Math:void 0,"numColumns"in t?t.numColumns:"undefined"!=typeof numColumns?numColumns:void 0,"submission"in t?t.submission:"undefined"!=typeof submission?submission:void 0,"_t"in t?t._t:"undefined"!=typeof i?i:void 0,"hideCreatorDetails"in t?t.hideCreatorDetails:"undefined"!=typeof hideCreatorDetails?hideCreatorDetails:void 0),r.join("")};return function(e){return e&&"_t"in e&&(i=e._t.merge(i)),t(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/giveFeedback.tile.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/nls/giveFeedback.tile"],function(e,t){var n;return i(e,t,n)}):e.jade.templates["pages.open-course.peerReview.views.giveFeedback.tile"]=i(e.jade.helpers)}(window);
define("pages/open-course/peerReview/views/giveFeedback.tile",["require","exports","module","underscore","bundles/phoenix/lib/view","bundles/epic/client","pages/open-course/peerReview/views/giveFeedback.tile.html"],function(require,exports,module){var _=require("underscore"),i=require("bundles/phoenix/lib/view"),s=require("bundles/epic/client"),n=require("pages/open-course/peerReview/views/giveFeedback.tile.html"),e=function getMetadata(e){return function(){return this.itemMetadata.get(e)}},t=i.extend({name:"tile",template:n,multitracker:{eventingVersion:2,namespace:"open_course_item.peer_review_review_peers",baseValues:["open_course_id","module_id","lesson_id","item_id"],definitions:{open_course_id:e("course.id"),module_id:e("lesson.module.id"),lesson_id:e("lesson.id"),item_id:e("id"),submission_id:function submission_id(){if(this.submission)return this.submission.get("id")},assignment_user_id:function assignment_user_id(){if(this.submission)return this.submission.get("creator").get("userId")},is_featured:_.constant(!1)},events:{"click.detail":{delegate:'click [data-js~="give-feedback-tile-link"]',values:["submission_id","assignment_user_id","is_featured"]}}},initialize:function initialize(i){_(this).extend(_(i).pick("itemMetadata","submission","numColumns")),this.hideCreatorDetails=s.get("PeerReview","anonymizePeerReview",{course_id:e("course.id")})}});module.exports=t});
define("pages/open-course/peerReview/views/giveFeedback.galleryList",["require","exports","module","backbone","jquery","underscore","bundles/phoenix/lib/mixin","bundles/phoenix/lib/view","js/lib/backbone.collection.view","pages/open-course/peerReview/views/giveFeedback.tile"],function(require,exports,module){var Backbone=require("backbone"),$=require("jquery"),_=require("underscore"),t=require("bundles/phoenix/lib/mixin"),n=require("bundles/phoenix/lib/view"),e=require("js/lib/backbone.collection.view"),o=require("pages/open-course/peerReview/views/giveFeedback.tile"),i=n.extend({itemView:o,initialize:function initialize(i){_(this).extend(_(i).pick("itemMetadata","numColumns")),this.itemContainerMap={},e.initialize.call(this,i)},setupCollectionContainer:function setupCollectionContainer(){this.setupRows(this.numColumns),_(this.rows).each(function(t,i){var e=$("<div>");e.addClass("c-peer-review-gallery-row bt3-row"),e.attr("data-js","row row-"+i),this.$el.append(e)}.bind(this))},setupRows:function setupRows(e){return this.numColumns=e,this.rows=this.collection.chain().groupBy(function(i,e){return Math.floor(e/this.numColumns)},this).values().value(),_(this.rows).each(function(e,i){_(e).each(function(e){this.itemContainerMap[e.get("id")]=i}.bind(this))}.bind(this)),this},cleanupCollectionContainer:function cleanupCollectionContainer(){this.$el.empty()},itemViewOptions:function itemViewOptions(e){return{itemMetadata:this.itemMetadata,numColumns:this.numColumns,submission:e}},itemViewContainer:function itemViewContainer(e){var i=this.itemContainerMap[e.get("id")];return this.$$("row-"+i)}});t(i.prototype,e),module.exports=i});
define("pages/open-course/peerReview/views/nls/giveFeedback.nextUp",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var i=function(e,i,t){var r=function template(a){var t=[],l={},r,s=a||{};return function(i,s,a){t.push('<div class="c-peer-review-gallery-tile-container c-peer-review-jumbo-tile bt3-col-sm-12"><a data-js="open-course-link give-feedback-tile-link"'+e.attr("href",i.getReviewLink(),!0,!1)+' class="c-peer-review-gallery-tile nostyle card-rich-interaction"><div class="c-peer-review-gallery-tile-label success">'+e.escape(null==(r=s("Needs review"))?"":r)+'</div><div class="c-peer-review-gallery-tile-header"><h3 class="c-peer-review-gallery-tile-title headline-4-text">'+e.escape(null==(r=s(i.getTruncatedTitle()))?"":r)+'</h3></div><div class="c-peer-review-gallery-tile-footer">'),a||t.push('<div class="c-peer-review-gallery-tile-img-container"><img'+e.attr("src",i.getUserPhoto(),!0,!1)+' class="c-peer-review-gallery-tile-img bt3-img-circle"/></div>'),t.push('<div class="c-peer-review-gallery-tile-author-container">'),a||t.push('<span class="c-peer-review-gallery-tile-submitter-name body-2-text c-truncate">'+e.escape(null==(r=s(i.getUserName()))?"":r)+"</span>"),t.push('<span class="c-peer-review-gallery-tile-timestamp">'+(null==(r=s("Submitted&nbsp;"))?"":r)+"<span>"+e.escape(null==(r=s(i.getTimestampString()))?"":r)+"</span></span></div></div></a></div>")}.call(this,"submission"in s?s.submission:"undefined"!=typeof submission?submission:void 0,"_t"in s?s._t:"undefined"!=typeof i?i:void 0,"hideCreatorDetails"in s?s.hideCreatorDetails:"undefined"!=typeof hideCreatorDetails?hideCreatorDetails:void 0),t.join("")};return function(e){return e&&"_t"in e&&(i=e._t.merge(i)),r(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/giveFeedback.nextUp.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/nls/giveFeedback.nextUp"],function(e,r){var t;return i(e,r,t)}):e.jade.templates["pages.open-course.peerReview.views.giveFeedback.nextUp"]=i(e.jade.helpers)}(window);
define("pages/open-course/peerReview/views/giveFeedback.nextUp",["require","exports","module","underscore","bundles/phoenix/lib/view","bundles/epic/client","pages/open-course/peerReview/views/giveFeedback.nextUp.html"],function(require,exports,module){var _=require("underscore"),i=require("bundles/phoenix/lib/view"),s=require("bundles/epic/client"),n=require("pages/open-course/peerReview/views/giveFeedback.nextUp.html"),e=function getMetadata(e){return function(){return this.itemMetadata.get(e)}},t=i.extend({template:n,multitracker:{eventingVersion:2,namespace:"open_course_item.peer_review_review_peers",baseValues:["open_course_id","module_id","lesson_id","item_id"],definitions:{open_course_id:e("course.id"),module_id:e("lesson.module.id"),lesson_id:e("lesson.id"),item_id:e("id"),submission_id:function submission_id(){if(this.submission)return this.submission.get("id")},assignment_user_id:function assignment_user_id(){if(this.submission)return this.submission.get("creator").get("userId")},is_featured:_.constant(!0)},events:{"click.detail":{delegate:'click [data-js~="give-feedback-tile-link"]',values:["submission_id","assignment_user_id","is_featured"]}}},initialize:function initialize(i){_(this).extend(_(i).pick("itemMetadata","submission")),this.hideCreatorDetails=s.get("PeerReview","anonymizePeerReview",{course_id:e("course.id")})}});module.exports=t});
define("pages/open-course/peerReview/views/giveFeedback.galleryNextUpList",["require","exports","module","backbone","underscore","bundles/phoenix/lib/mixin","bundles/phoenix/lib/view","js/lib/backbone.collection.view","pages/open-course/peerReview/views/giveFeedback.nextUp"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),n=require("bundles/phoenix/lib/mixin"),t=require("bundles/phoenix/lib/view"),e=require("js/lib/backbone.collection.view"),o=require("pages/open-course/peerReview/views/giveFeedback.nextUp"),i=t.extend({itemView:o,initialize:function initialize(i){_(this).extend(_(i).pick("itemMetadata")),e.initialize.call(this,i)},cleanupCollectionContainer:function cleanupCollectionContainer(){this.$el.empty()},itemViewOptions:function itemViewOptions(e){return{itemMetadata:this.itemMetadata,submission:e}}});n(i.prototype,e),module.exports=i});
define("pages/open-course/peerReview/views/nls/giveFeedback",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var s=function(e,s,a){var i=function template(n){var a=[],o={},i,t=n||{};return function(s,t){a.push('<div class="c-peer-review-gallery"><div data-js="flashmessage"></div><div class="bt3-row"><div class="c-peer-review-queue-content bt3-col-md-12"><div data-js="no-next-up-submissions" class="bt3-row"><div class="bt3-col-md-12"><div class="bt3-jumbotron"><p>'+e.escape(null==(i=s("There are no submissions left for you to review. Please check again later!"))?"":i)+'</p></div></div></div><div data-js="no-submissions-need-reviews" class="bt3-row"><div class="bt3-col-md-12"><div class="bt3-jumbotron"><p>'+e.escape(null==(i=s("You have reviewed all ungraded submissions."))?"":i)+"</p><span>"+(null==(i=s("You may review graded submissions, but the authors will not receive your reviews, and your&#32;"))?"":i)+"\n"+(null==(i=s("reviews will not count towards their grade. If possible, please check later for new submissions&#32;"))?"":i)+"\n"+e.escape(null==(i=s("to review."))?"":i)+'</span></div></div></div><div data-js="next-up-list" class="bt3-row"></div><div class="c-peer-review-gallery-controls bt3-row"><div class="bt3-col-md-12 color-secondary-text">'+(null==(i=s("Filter:&nbsp;&nbsp;"))?"":i)+'<select data-js="sort-selector" class="c-select-small">'),function(){var n=t;if("number"==typeof n.length)for(var o=0,d=n.length;d>o;o++){var l=n[o];a.push("<option"+e.attr("value",l.value,!0,!1)+">"+e.escape(null==(i=s(l.label))?"":i)+"</option>")}else{var d=0;for(var o in n){d++;var l=n[o];a.push("<option"+e.attr("value",l.value,!0,!1)+">"+e.escape(null==(i=s(s(l.label)))?"":i)+"</option>")}}}.call(this),a.push('</select></div></div><div data-state="loading" class="bt3-row"><div class="bt3-col-md-12">'+e.escape(null==(i=s("Loading..."))?"":i)+'</div></div><div data-js="list" data-state="load-success"></div><div data-js="no-submissions" data-state="load-success">'+e.escape(null==(i=s("There are no submissions in this list."))?"":i)+"</div></div></div></div>")}.call(this,"_t"in t?t._t:"undefined"!=typeof s?s:void 0,"sortOptions"in t?t.sortOptions:"undefined"!=typeof sortOptions?sortOptions:void 0),a.join("")};return function(e){return e&&"_t"in e&&(s=e._t.merge(s)),i(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/giveFeedback.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/nls/giveFeedback"],function(e,i){var a;return s(e,i,a)}):e.jade.templates["pages.open-course.peerReview.views.giveFeedback"]=s(e.jade.helpers)}(window);
define("pages/open-course/peerReview/views/giveFeedback",["require","exports","module","backbone","jquery","origami","underscore","jsuri","bundles/phoenix/lib/view","js/app/scrollTrackerSingleton","js/lib/flashmessage","js/lib/fsm","memoize!pages/open-course/common/promises/itemMetadata","pages/open-course/peerReview/promises/mostLikedSubmissions","pages/open-course/peerReview/promises/reviewQueue","pages/open-course/peerReview/promises/reviewedSubmissions","pages/open-course/peerReview/views/giveFeedback.galleryList","pages/open-course/peerReview/views/giveFeedback.galleryNextUpList","pages/open-course/peerReview/views/giveFeedback.html","pages/open-course/peerReview/views/giveFeedback.tile"],function(require,exports,module){var Backbone=require("backbone"),$=require("jquery"),d=require("origami"),_=require("underscore"),l=require("jsuri"),p=require("bundles/phoenix/lib/view"),v=require("js/app/scrollTrackerSingleton"),o=require("js/lib/flashmessage"),n=require("js/lib/fsm"),r=require("memoize!pages/open-course/common/promises/itemMetadata"),a=require("pages/open-course/peerReview/promises/mostLikedSubmissions"),u=require("pages/open-course/peerReview/promises/reviewQueue"),t=require("pages/open-course/peerReview/promises/reviewedSubmissions"),s=require("pages/open-course/peerReview/views/giveFeedback.galleryList"),i=require("pages/open-course/peerReview/views/giveFeedback.galleryNextUpList"),c=require("pages/open-course/peerReview/views/giveFeedback.html"),w=require("pages/open-course/peerReview/views/giveFeedback.tile"),h=["closedPeer","gradedPeer","peer","phasedPeer"],e=function getMetadata(e){return function(){return this.itemMetadata.get(e)}},m=Backbone.Model.extend(_.extend({},n.FiniteStateMachine,{defaults:{state:"ready"},fsm:{states:["ready","loading","load-error","load-success"],transitions:{loading:["ready","load-error","load-success"],"load-error":["loading"],"load-success":["loading"]}}})),g=p.extend({name:"body",template:c,sortOptions:[{label:"Projects I have not reviewed",value:"unreviewed"},{label:"Projects I have reviewed",value:"have-reviewed"}],apis:{unreviewed:u,"most-liked":a,"have-reviewed":t},events:{'change [data-js~="sort-selector"]':"onChangeSort"},multitracker:{eventingVersion:2,namespace:"open_course_item.peer_review_review_peers",baseValues:["open_course_id","module_id","lesson_id","item_id"],definitions:{open_course_id:e("course.id"),module_id:e("lesson.module.id"),lesson_id:e("lesson.id"),item_id:e("id")},events:{render:[]}},initialize:function initialize(e){_(this).bindAll("onLoadSubmissionsSuccess","onLoadSubmissionsFailure"),_(this).extend(_(e).pick("assignment","itemMetadata","nextUpSubmissions","numColumns")),this.sortOptions=this.sortOptions.slice(0),"coursera-partners-conference-2015"===this.itemMetadata.get("course.slug")&&this.sortOptions.splice(1,0,{label:"Most liked",value:"most-liked"}),this.nextUpSubmissionsThatNeedReviews=this.nextUpSubmissions?new Backbone.Collection(this.nextUpSubmissions.filter(function(e){return!e.get("reviewTargetReached")})):new Backbone.Collection,this.submissions=new Backbone.Collection,this.stateModel=new m;var s=new l(window.location.href);this.setSort(s.getQueryParamValue("sort")),this.listenTo(this,"view:appended",this.onAppendedView)},onAppendedView:function onAppendedView(){v.scroll(0)},setSort:function setSort(e){this.sort=_(this.sortOptions).find(function(s){return s.value===e}),this.sort||(this.sort=this.sortOptions[0]);var s="unreviewed"!==this.sort.value?"?sort="+this.sort.value:"";d.router.navigateTo(window.location.pathname+s,{replace:!0,trigger:!1})},onChangeSort:function onChangeSort(e){var s=$(e.target);this.setSort(s.val()),this.loadSubmissions()},loadSubmissions:function loadSubmissions(){var e=r(h,this.itemMetadata.get("id")),s=this.apis[this.sort.value],i=e.then(function(e){return s({metadata:e})});this.stateModel.transition("loading"),i.then(this.onLoadSubmissionsSuccess,this.onLoadSubmissionsFailure).done()},onLoadSubmissionsSuccess:function onLoadSubmissionsSuccess(e){var s=this.nextUpSubmissionsThatNeedReviews.map(function(e){return e.get("id")});this.submissions.reset(e.models.filter(function(e){return!_(s).contains(e.get("id"))})),this.stateModel.transition("load-success"),this.$$("sort-selector").val(this.sort.value),this.$$("no-submissions").toggle(0===this.submissions.length)},onLoadSubmissionsFailure:function onLoadSubmissionsFailure(e){throw this.stateModel.transition("load-error"),e},renderSubviews:function renderSubviews(){this.region.append(i,{to:this.$$("next-up-list"),initialize:{collection:this.nextUpSubmissionsThatNeedReviews,itemMetadata:this.itemMetadata},module:i}),this.region.append(s,{to:this.$$("list"),initialize:{collection:this.submissions,itemMetadata:this.itemMetadata,numColumns:this.numColumns},module:s})},postRender:function postRender(){this.track("open"),o.renderTo(this.$$("flashmessage")),this.loadSubmissions(),this.$$("no-next-up-submissions").toggle(0===this.nextUpSubmissions.length),this.$$("no-submissions-need-reviews").toggle(0!==this.nextUpSubmissions.length&&0===this.nextUpSubmissionsThatNeedReviews.length),this.track("render")}});module.exports=g});
define("nls/peer",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/peer/components/GiveFeedbackNoList",["require","exports","module","react","bundles/ondemand/utils/deadlineFormatter","bundles/peer/models/PeerState","js/lib/coursera.react-intl","bundles/peer/components/PeerReviewAdminPermissionChecker","bundles/peer-admin/constants/constants","i18n!nls/peer"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],i=Object.getOwnPropertyDescriptor(n,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var i,n,e=require("react"),a=require("bundles/ondemand/utils/deadlineFormatter"),r=require("bundles/peer/models/PeerState"),o=require("js/lib/coursera.react-intl"),s=o.FormattedMessage,l=require("bundles/peer/components/PeerReviewAdminPermissionChecker"),c=require("bundles/peer-admin/constants/constants"),u=c.PeerAdminCapabilities,t=require("i18n!nls/peer"),m=(n=i=function(i){function GiveFeedbackNoList(){return _classCallCheck(this,GiveFeedbackNoList),_possibleConstructorReturn(this,i.apply(this,arguments))}return _inherits(GiveFeedbackNoList,i),GiveFeedbackNoList.prototype.renderMentorGradedMessage=function renderMentorGradedMessage(){return e.createElement("div",null,e.createElement("div",{className:"card-rich-interaction c-peer-card"},e.createElement("p",null,t("All grading for this assignment will be done by course mentors."))),e.createElement(l,{requestedCapability:u.viewSubmissionList},this.props.isSubmissionAvailableForReview?this.renderWithAvailableSubmissions():this.renderWithoutAvailableSubmissions()))},GiveFeedbackNoList.prototype.renderWithAvailableSubmissions=function renderWithAvailableSubmissions(){var i=this.props,n=i.itemMetadata,a=i.itemProgress,o=i.reviewNextLink,l=new r(n,a);return e.createElement("div",{className:"card-rich-interaction c-peer-card"},e.createElement("div",{className:"body-2-text"},t("Ready to review your classmates?")),e.createElement("p",null,t("\n            Reviewing another person's work is a valuable way to learn and providing quality feedback is a useful skill\n            to master. Here are some tips to help you provide the most helpful, accurate, and consistent feedback\n            possible:\n          ")),e.createElement("ul",null,e.createElement("li",null,t("\n              Remember, English isn't everyone's native language. Focus primarily on how well the work meets the\n              grading criteria.\n            ")),e.createElement("li",null,t("\n              When writing critical feedback, use a constructive and polite tone.\n            "))),e.createElement("p",null,e.createElement(s,{message:t("\n              Everyone enrolled in the course must review at least\n              {requiredReviewCount, plural, one{# other submission} other{# other submissions}} to ensure everyone\n              receives a grade; however, many learners complete more to help their classmates who are still waiting.\n              Ready to get started?\n            "),requiredReviewCount:l.requiredReviewCount()})),e.createElement("a",{className:"link-button primary","data-js":"open-course-link",href:o},t("Start Reviewing")))},GiveFeedbackNoList.prototype.renderWithoutAvailableSubmissions=function renderWithoutAvailableSubmissions(){var i=this.props,n=i.displayablePhaseSchedule,c=i.itemMetadata,u=i.itemProgress,m=new r(c,u),o=n&&"submit"===n.currentPhase&&n.phaseStarts.review,l=o&&a.getFormattedDeadline(o);return l&&!m.isReviewingComplete()?e.createElement("div",{className:"card card-rich-interaction c-peer-card"},e.createElement("div",{className:"body-2-text"},t("No Submissions Available")),e.createElement("div",null,e.createElement(s,{message:t("\n                There are no submissions available for you to review right now. We'll send you an email when\n                classmates' submissions are available to review. Classmates' submissions will be available to review by\n                {reviewsAvailableTime}.\n              "),reviewsAvailableTime:e.createElement("span",{className:"body-2-text"},l)}))):e.createElement("div",{className:"card card-rich-interaction c-peer-card"},e.createElement("div",{className:"body-2-text"},t("No Submissions Available")),e.createElement("div",null,t("\n              There are no submissions available for you to review right now. Come back later if you want to review\n              more classmates' submissions!\n            ")))},GiveFeedbackNoList.prototype.render=function render(){var e=this.props,t=e.isSubmissionAvailableForReview,r=e.itemMetadata;return r.isMentorGraded()?this.renderMentorGradedMessage():t?this.renderWithAvailableSubmissions():this.renderWithoutAvailableSubmissions()},GiveFeedbackNoList}(e.Component),i.propTypes={displayablePhaseSchedule:e.PropTypes.object,isSubmissionAvailableForReview:e.PropTypes.bool.isRequired,itemMetadata:e.PropTypes.object.isRequired,itemProgress:e.PropTypes.object.isRequired,reviewNextLink:e.PropTypes.string.isRequired},n);module.exports=m});
define("pages/open-course/peerReview/views/nls/giveFeedbackNoList",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(e){var i=function(n,e,r){var i=function template(i){var e=[],n={},r;return e.push('<div class="c-peer-review-gallery"><div data-js="flashmessage"></div><div data-rc="GiveFeedbackNoList"></div></div>'),e.join("")};return function(n){return n&&"_t"in n&&(e=n._t.merge(e)),i(n)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/giveFeedbackNoList.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/nls/giveFeedbackNoList"],function(e,n){var r;return i(e,n,r)}):e.jade.templates["pages.open-course.peerReview.views.giveFeedbackNoList"]=i(e.jade.helpers)}(window);
define("pages/open-course/peerReview/views/giveFeedbackNoList",["require","exports","module","underscore","bundles/peer/components/GiveFeedbackNoList","bundles/phoenix/lib/view","js/lib/flashmessage","js/lib/path","pages/open-course/peerReview/views/giveFeedbackNoList.html"],function(require,exports,module){var _=require("underscore"),e=require("bundles/peer/components/GiveFeedbackNoList"),i=require("bundles/phoenix/lib/view"),s=require("js/lib/flashmessage"),t=require("js/lib/path"),a=require("pages/open-course/peerReview/views/giveFeedbackNoList.html"),n=i.extend({name:"body",template:a,initialize:function initialize(e){_(this).extend(_(e).pick("displayablePhaseSchedule","itemMetadata","itemProgress","nextUpSubmissions"))},postRender:function postRender(){s.renderTo(this.$$("flashmessage")),this.renderReactInto(e,"GiveFeedbackNoList",{displayablePhaseSchedule:this.displayablePhaseSchedule,isSubmissionAvailableForReview:this.nextUpSubmissions.length>0,itemProgress:this.itemProgress,itemMetadata:this.itemMetadata,reviewNextLink:t.join(this.itemMetadata.getLink(),"review-next")})}});module.exports=n});
define("bundles/phoenix/viewModels/submit",["require","exports","module","backbone"],function(require,exports,module){var Backbone=require("backbone"),e=Backbone.Model.extend();module.exports=e});
define("bundles/phoenix/views/nls/loading",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(n){var e=function(e,n,i){var t=function template(o){var i=[],a={},s,t=o||{};return function(n,t,o){i.push("<span>"+e.escape(null==(s=n(t))?"":s)+"</span><span>&nbsp;&nbsp;</span><img"+e.attr("src",o.assets.rootPath+"images/icons/loading.gif",!0,!1)+"/>")}.call(this,"_t"in t?t._t:"undefined"!=typeof n?n:void 0,"text"in t?t.text:"undefined"!=typeof text?text:void 0,"constants"in t?t.constants:"undefined"!=typeof constants?constants:void 0),i.join("")};return function(e){return e&&"_t"in e&&(n=e._t.merge(n)),t(e)}};"function"==typeof define&&define.amd?define('bundles/phoenix/views/loading.html',["js/vendor/jade","i18n!bundles/phoenix/views/nls/loading"],function(n,t){var i;return e(n,t,i)}):n.jade.templates["bundles.phoenix.views.loading"]=e(n.jade.helpers)}(window);
define("bundles/phoenix/views/loading",["require","exports","module","bundles/phoenix/lib/view","bundles/phoenix/views/loading.html","pages/open-course/common/constants"],function(require,exports,module){var e=require("bundles/phoenix/lib/view"),n=require("bundles/phoenix/views/loading.html"),t=require("pages/open-course/common/constants"),i=e.extend({tagName:"span",template:n,constants:t,defaultText:"loading",initialize:function initialize(e){this.text=e.text||this.defaultText}});module.exports=i});
define("pages/open-course/peerReview/comments/models/feedback",["require","exports","module","backbone-associations","q","underscore","pages/open-course/common/models/socialProfile"],function(require,exports,module){var Backbone=require("backbone-associations"),t=require("q"),_=require("underscore"),e=require("pages/open-course/common/models/socialProfile"),o=Backbone.AssociatedModel.extend({defaults:{comment:"",creator:{}},relations:[{type:Backbone.One,key:"creator",relatedModel:e}],submit:function submit(e,o,t){return e.submitComment(o,t,this.toJSON())},clear:function clear(){this.set(this.defaults)},toJSON:function toJSON(){var e=Backbone.Model.prototype.toJSON.call(this);return _(e).pick("comment")}});module.exports=o});
define("pages/open-course/peerReview/comments/models/feedbackCollection",["require","exports","module","backbone","underscore","pages/open-course/peerReview/comments/models/feedback"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),e=require("pages/open-course/peerReview/comments/models/feedback"),n=Backbone.Collection.extend({model:e,initialize:function initialize(){_.bindAll(this,"onFetchSuccess")},fetch:function fetch(e,n,o){return e.getComments(n,o).then(this.onFetchSuccess)},onFetchSuccess:function onFetchSuccess(e){var n=_(e.comments).map(function(n){var o=_(e.userProfiles).findWhere({userId:n.creatorId});return _(n.definition).extend({creator:o,createdAt:n.createdAt})});this.reset(n)}});module.exports=n});
define("pages/open-course/peerReview/comments/viewModels/main",["require","exports","module","js/lib/fsm","backbone","underscore","pages/open-course/common/models/currentSocialProfile","pages/open-course/peerReview/comments/models/feedback"],function(require,exports,module){var e=require("js/lib/fsm"),Backbone=require("backbone"),_=require("underscore"),t=require("pages/open-course/common/models/currentSocialProfile"),i=require("pages/open-course/peerReview/comments/models/feedback"),o=Backbone.Model.extend(_.extend({},e.FiniteStateMachine,{defaults:{state:"nothing"},fsm:{states:["nothing","loading","load-error","ready","submitting","submit-error"],transitions:{loading:["nothing"],ready:["loading","submitting"],"load-error":["loading"],submitting:["ready","submit-error"],"submit-error":["submitting"]}},initialize:function initialize(e){_.bindAll(this,"onFetchSuccess","onFetchError","onSubmitSuccess","onSubmitError"),this.initializeOptions(e),this.initializeContentModels()},initializeOptions:function initializeOptions(e){this.api=e.api,this.itemMetadata=e.itemMetadata,this.submissionId=e.submissionId,this.feedbackCollection=e.feedbackCollection},initializeContentModels:function initializeContentModels(){this.feedbackInputModel=new i,this.feedbackInputModel.clear()},fetch:function fetch(){this.transition("loading"),this.feedbackCollection.fetch(this.api,this.itemMetadata,this.submissionId).then(this.onFetchSuccess,this.onFetchError).done()},submit:function submit(){this.transition("submitting"),this.feedbackInputModel.submit(this.api,this.itemMetadata,this.submissionId).then(this.onSubmitSuccess,this.onSubmitError).done()},onFetchSuccess:function onFetchSuccess(){this.transition("ready")},onFetchError:function onFetchError(e){this.transition("load-error"),console.error(e)},onSubmitSuccess:function onSubmitSuccess(){var e=this.feedbackInputModel.clone().set({creator:t.clone(),createdAt:Date.now()});this.transition("ready"),this.trigger("feedback-added",e),this.feedbackCollection.add(e,{at:0}),this.feedbackInputModel.clear()},onSubmitError:function onSubmitError(e){this.transition("submit-error"),console.error(e)}}));module.exports=o});
define("pages/open-course/peerReview/comments/views/nls/feedback",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(e){var a=function(e,a,r){var n=function template(s){var r=[],t={},n,c=s||{};return function(p,c,a){r.push('<div class="c-peer-review-feedback">');var d=p(c.get("createdAt")).fromNow(),s=c.get("creator"),t=s.get("fullName"),i="",o=s.get("photoUrl");r.push("<img"+e.attr("src",o,!0,!1)+' class="c-peer-review-feedback-avatar"/><div class="c-peer-review-feedback-container">'),i?r.push('<span class="c-peer-review-feedback-authorName c-peer-review-feedback-expert">'+e.escape(null==(n=a(t))?"":n)+'</span><span class="c-peer-review-feedback-authorStatus">'+e.escape(null==(n=a(i))?"":n)+"</span>"):r.push('<span class="c-peer-review-feedback-authorName">'+e.escape(null==(n=a(t))?"":n)+"</span>"),r.push('<span class="c-peer-review-feedback-time">'+e.escape(null==(n=a(d))?"":n)+'</span><div class="c-peer-review-feedback-text">'+e.escape(null==(n=a(c.get("comment")))?"":n)+'</div></div><hr class="c-peer-review-feedback-hr"/></div>')}.call(this,"moment"in c?c.moment:"undefined"!=typeof moment?moment:void 0,"model"in c?c.model:"undefined"!=typeof model?model:void 0,"_t"in c?c._t:"undefined"!=typeof a?a:void 0),r.join("")};return function(e){return e&&"_t"in e&&(a=e._t.merge(a)),n(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/comments/views/feedback.html',["js/vendor/jade","i18n!pages/open-course/peerReview/comments/views/nls/feedback"],function(e,n){var r;return a(e,n,r)}):e.jade.templates["pages.open-course.peerReview.comments.views.feedback"]=a(e.jade.helpers)}(window);
define("pages/open-course/peerReview/comments/views/feedback",["require","exports","module","backbone","moment","pages/open-course/peerReview/comments/views/feedback.html"],function(require,exports,module){var Backbone=require("backbone"),e=require("moment"),t=require("pages/open-course/peerReview/comments/views/feedback.html"),m=Backbone.View.extend({name:"feedbackView",template:t,render:function render(){this.$el.html(this.template({model:this.model,moment:e}))}});module.exports=m});
define("pages/open-course/peerReview/comments/views/feedbackCollection",["require","exports","module","js/lib/backbone.collection.view","backbone","underscore","pages/open-course/peerReview/comments/views/feedback"],function(require,exports,module){var e=require("js/lib/backbone.collection.view"),Backbone=require("backbone"),_=require("underscore"),o=require("pages/open-course/peerReview/comments/views/feedback"),c=Backbone.View.extend(_.extend({},e,{name:"feedbackCollectionView",itemView:o}));module.exports=c});
define("pages/open-course/peerReview/comments/views/nls/main",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var t=function(e,t,r){var a=function template(n){var i=[],o={},a,r=n||{};return function(t,r){i.push('<div class="bt3-row"><div class="bt3-col-md-12"><p data-state="loading">'+e.escape(null==(a=t("Loading..."))?"":a)+'</p><p data-state="load-error">'+e.escape(null==(a=t("Load error!"))?"":a)+'</p><p data-state="submitting">'+e.escape(null==(a=t("Submitting..."))?"":a)+'</p><p data-state="submit-error">'+e.escape(null==(a=t("Submit error!"))?"":a)+'</p><div data-state-not="loading load-error"><h3 class="headline-1-text">'+e.escape(null==(a=t("Comments"))?"":a)+'</h3><p class="caption-text">'+e.escape(null==(a=t("Visible to classmates"))?"":a)+'</p><div class="c-peer-review-feedback-form-container"><img'+e.attr("src",r.get("photoUrl"),!0,!1)+' class="c-peer-review-feedback-avatar"/><form data-js="form" class="c-peer-review-feedback-form"><textarea data-js="textarea"'+e.attr("placeholder",t("share your thoughts..."),!0,!1)+' class="c-peer-review-feedback-textarea"></textarea><div class="c-peer-review-feedback-post-button-container"><button data-js="post-feedback" class="c-peer-review-feedback-post-button secondary">'+e.escape(null==(a=t("Post"))?"":a)+'</button></div></form></div></div><div data-js="container"></div></div></div>')}.call(this,"_t"in r?r._t:"undefined"!=typeof t?t:void 0,"currentSocialProfile"in r?r.currentSocialProfile:"undefined"!=typeof currentSocialProfile?currentSocialProfile:void 0),i.join("")};return function(e){return e&&"_t"in e&&(t=e._t.merge(t)),a(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/comments/views/main.html',["js/vendor/jade","i18n!pages/open-course/peerReview/comments/views/nls/main"],function(e,a){var r;return t(e,a,r)}):e.jade.templates["pages.open-course.peerReview.comments.views.main"]=t(e.jade.helpers)}(window);
!function(t){"function"==typeof define&&define.amd?define("js/vendor/backbone.stickit.v0-8-0",["underscore","backbone","exports"],t):"object"==typeof exports?t(require("underscore"),require("backbone"),exports):t(_,Backbone,{})}(function(_,Backbone,e){e._handlers=[],e.addHandler=function(t){t=_.map(_.flatten([t]),function(t){return _.extend({updateModel:!0,updateView:!0,updateMethod:"text"},t)}),this._handlers=this._handlers.concat(t)},e.ViewMixin={_modelBindings:null,unstickit:function(t,e){if(_.isObject(e))return void _.each(_.keys(e),function(e){this.unstickit(t,e)},this);var n=[],i=[];_.each(this._modelBindings,function(a,o){if(t&&a.model!==t)return;if(e&&a.config.selector!=e)return;i.push(a.config._destroy),a.model.off(a.event,a.fn),n.push(a.model),delete this._modelBindings[o]},this),_.invoke(_.uniq(n),"trigger","stickit:unstuck",this.cid),_.each(_.uniq(i),function(t){t.call(this)},this),this._modelBindings=_.compact(this._modelBindings),this.$el.off(".stickit"+(t?"."+t.cid:""),e)},stickit:function(e,n){var i=e||this.model,a=n||_.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]),this.addBinding(i,a);var t=this.remove;t.stickitWrapped||(this.remove=function(){var e=this;return this.unstickit(),t&&(e=t.apply(this,arguments)),e}),this.remove.stickitWrapped=!0},addBinding:function(x,v,y){var r,g,h,e,p,n=x||this.model,k=".stickit."+n.cid,f=y||{},b=_.uniqueId();if(!_.isString(v)){var m=v;return void _.each(m,function(e,t){this.addBinding(n,t,m[t])},this)}if(p=v,r=":el"===p?this.$el:this.$(p),this.unstickit(n,p),!r.length)return;_.isString(f)&&(f={observe:f}),_.isFunction(f.observe)&&(f.observe=f.observe.call(this)),e=u(r,f),e.selector=p,h=e.observe,e.bindId=b,e.view=this,g=_.extend({stickitChange:e},e.setOptions),e._destroy=function(){t(this,e.destroy,r,n,e)},c(this,r,e,n,h),l(this,r,e,n,h),h&&(_.each(e.events,function(a){var i=a+k,t=function(t){var i=e.getVal.call(this,r,t,e,_.rest(arguments));s(this,e.updateModel,i,t,e)&&d(n,h,i,g,this,e)};t=_.bind(t,this),":el"===p?this.$el.on(i,t):this.$el.on(i,p,t)},this),_.each(_.flatten([h]),function(t){a(n,this,"change:"+t,e,function(n,s,t){var a=t&&t.stickitChange&&t.stickitChange.bindId||null;a!==b&&o(this,r,e,i(n,h,e,this),n)})},this),o(this,r,e,i(n,h,e,this),n,!0)),t(this,e.initialize,r,n,e)}},_.extend(Backbone.View.prototype,e.ViewMixin);var n=function(t,n){var i=(n||"").split("."),e=_.reduce(i,function(t,e){return t[e]},t);return null==e?t:e},t=function(e,t){if(t)return(_.isString(t)?n(e,t):t).apply(e,_.rest(arguments,2))},r=function(t){return t.find("option").not(function(){return!this.selected})},s=function(n,e){if(_.isBoolean(e))return e;if(_.isFunction(e)||_.isString(e))return t.apply(this,arguments);return!1},a=function(t,e,n,a,i){t.on(n,i,e),e._modelBindings.push({model:t,event:n,fn:i,config:a})},d=function(s,i,e,o,r,n){var a={};n.onSet&&(e=t(r,n.onSet,e,n)),n.set?t(r,n.set,i,e,o,n):(a[i]=e,_.isArray(i)&&_.isArray(e)&&(a=_.reduce(i,function(t,i,n){return t[i]=_.has(e,n)?e[n]:null,t},{})),s.set(a,o))},i=function(r,i,n,s){var e,a=function(t){return r[n.escape?"escape":"get"](t)},o=function(t){return null==t?"":t};return e=_.isArray(i)?_.map(i,a):a(i),n.onGet&&(e=t(s,n.onGet,e,n)),_.isArray(e)?_.map(e,o):o(e)},u=e.getConfiguration=function(i,a){var n=[{updateModel:!1,updateMethod:"text",update:function(t,n,i,e){t[e.updateMethod]&&t[e.updateMethod](n)},getVal:function(t,n,e){return t[e.updateMethod]()}}];n=n.concat(_.filter(e._handlers,function(t){return i.is(t.selector)})),n.push(a);var t=_.extend.apply(_,n);return t.visible&&!_.has(t,"updateView")?t.updateView=!1:_.has(t,"updateView")||(t.updateView=!0),t},c=function(t,e,n,o,r){var s=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"];_.each(n.attributes||[],function(u){var d="",c,l;u=_.clone(u),c=u.observe||(u.observe=r),l=function(){var a=_.indexOf(s,u.name,!0)>-1?"prop":"attr",n=i(o,c,u,t);"class"===u.name?(e.removeClass(d).addClass(n),d=n):e[a](u.name,n)},_.each(_.flatten([c]),function(e){a(o,t,"change:"+e,n,l)}),l()})},l=function(n,o,e,r,s){if(null==e.visible)return;var u=function(){var a=e.visible,c=e.visibleFn,l=i(r,s,e,n),u=!!l;(_.isFunction(a)||_.isString(a))&&(u=!!t(n,a,l,e)),c?t(n,c,o,u,e):o.toggle(u)};_.each(_.flatten([s]),function(t){a(r,n,"change:"+t,e,u)}),u()},o=function(n,a,e,i,o,r){if(!s(n,e.updateView,i,e))return;t(n,e.update,a,i,o,e),r||t(n,e.afterUpdate,a,i,e)};return e.addHandler([{selector:'[contenteditable="true"]',updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(t,e){t.val(e)},getVal:function(t){return t.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(t,e){t.val(e)},getVal:function(t){return t.val()}},{selector:'input[type="radio"]',events:["change"],update:function(t,e){t.filter('[value="'+e+'"]').prop("checked",!0)},getVal:function(t){return t.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(e,t,i,a){if(e.length>1)t||(t=[]),e.each(function(a,n){var e=Backbone.$(n),i=_.indexOf(t,e.val())>-1;e.prop("checked",i)});else{var n=_.isBoolean(t)?t:t===e.val();e.prop("checked",n)}},getVal:function(t){var e;if(t.length>1)e=_.reduce(t,function(t,n){var e=Backbone.$(n);return e.prop("checked")&&t.push(e.val()),t},[]);else{e=t.prop("checked");var n=t.val();"on"!==n&&null!=n&&(e=e?t.val():null)}return e}},{selector:"select",events:["change"],update:function(i,u,v,d){var a,e=d.selectOptions,o=e&&e.collection||void 0,p=i.prop("multiple");if(!e){e={};var c=function(t){return t.map(function(){return{value:this.value,label:this.text}}).get()};i.find("optgroup").length?(o={opt_labels:[]},i.find("> option").length&&(o.opt_labels.push(void 0),_.each(i.find("> option"),function(t){o[void 0]=c(Backbone.$(t))})),_.each(i.find("optgroup"),function(t){var e=Backbone.$(t).attr("label");o.opt_labels.push(e),o[e]=c(Backbone.$(t).find("option"))})):o=c(i.find("option"))}e.valuePath=e.valuePath||"value",e.labelPath=e.labelPath||"label";var s=function(i,a,t){_.each(i,function(r){var o=Backbone.$("<option/>"),i=r,s=function(t,e){o.text(t),i=e,o.data("stickit_bind_val",i),_.isArray(i)||_.isObject(i)||o.val(i)};"__default__"===r?s(e.defaultOption.label,e.defaultOption.value):s(n(r,e.labelPath),n(r,e.valuePath)),!p&&null!=i&&null!=t&&i===t||_.isObject(t)&&_.isEqual(i,t)?o.prop("selected",!0):p&&_.isArray(t)&&_.each(t,function(t){_.isObject(t)&&(t=n(t,e.valuePath)),(t===i||_.isObject(t)&&_.isEqual(i,t))&&o.prop("selected",!0)}),a.append(o)})};i.find("*").remove();var f=function(i,t){var e=window;return 0===t.indexOf("this.")&&(e=i),t=t.replace(/^[a-z]*\.(.+)$/,"$1"),n(e,t)};if(a=_.isString(o)?f(this,o):_.isFunction(o)?t(this,o,i,d):o,a instanceof Backbone.Collection&&(a=a.toJSON()),e.defaultOption&&s(["__default__"],i),_.isArray(a))s(a,i,u);else if(a.opt_labels)_.each(a.opt_labels,function(t){var e=Backbone.$("<optgroup/>").attr("label",t);s(a[t],e,u),i.append(e)});else{var h=[],r;for(var l in a)r={},r[e.valuePath]=l,r[e.labelPath]=a[l],h.push(r);s(_.sortBy(h,e.comparator||e.labelPath),i,u)}},getVal:function(t){var e;return e=t.prop("multiple")?Backbone.$(r(t).map(function(){return Backbone.$(this).data("stickit_bind_val")})).get():r(t).data("stickit_bind_val")}}]),Backbone.Stickit=e,Backbone.Stickit});
define("pages/open-course/peerReview/comments/views/main",["require","exports","module","bundles/phoenix/lib/view","underscore","pages/open-course/common/models/currentSocialProfile","pages/open-course/peerReview/comments/viewModels/main","pages/open-course/peerReview/comments/views/feedbackCollection","pages/open-course/peerReview/comments/views/main.html","js/vendor/backbone.stickit.v0-8-0"],function(require,exports,module){var t=require("bundles/phoenix/lib/view"),_=require("underscore"),s=require("pages/open-course/common/models/currentSocialProfile"),o=require("pages/open-course/peerReview/comments/viewModels/main"),i=require("pages/open-course/peerReview/comments/views/feedbackCollection"),n=require("pages/open-course/peerReview/comments/views/main.html");require("js/vendor/backbone.stickit.v0-8-0");var e=function getMetadata(e){return function(){return this.itemMetadata.get(e)}},a=t.extend({name:"mainFeedbackView",template:n,events:{'submit [data-js="form"]':"submit"},classes:{hasFeedback:"c-peer-review-feedback-textarea-has-feedback"},dom:{textarea:'[data-js="textarea"]'},multitracker:{namespace:"",baseValues:["open_course_id","module_id","lesson_id","item_id","submission_id"],definitions:{open_course_id:e("course.id"),module_id:e("lesson.module.id"),lesson_id:e("lesson.id"),item_id:e("id"),submission_id:function submission_id(){return this.submissionId}},events:{"click.post":[]}},initialize:function initialize(e){this.initializeOptions(e),this.initializeViewModel(),this.multitracker=_({}).extend(this.multitracker,{namespace:this.eventPrefix})},initializeOptions:function initializeOptions(e){this.eventPrefix=e.eventPrefix,this.api=e.api,this.itemMetadata=e.itemMetadata,this.submissionId=e.submissionId,this.feedbackCollection=e.model,this.likeModel=e.likeModel},initializeViewModel:function initializeViewModel(){this.viewModel=new o({api:this.api,itemMetadata:this.itemMetadata,submissionId:this.submissionId,feedbackCollection:this.feedbackCollection}),this.viewModel.fetch(),this.listenTo(this.viewModel,"state:change",this.renderState),this.listenTo(this.viewModel,"state:change",this.updateInputs),this.listenTo(this.viewModel,"feedback-added",function(e){this.track("click.post",{comment_user_id:e.get("creator").get("userId"),comment:e.get("comment")})}),this.listenTo(this.viewModel.feedbackInputModel,"change",this.renderPostButtonVisibility)},submit:function submit(e){e.preventDefault(),this.viewModel.submit()},state:function state(){return this.viewModel.state()},render:function render(){return this.$el.html(this.template({currentSocialProfile:s})),this.renderFsm(),this.renderState(),this.stickit(this.viewModel.feedbackInputModel,_.object([this.dom.textarea],["comment"])),this.appendSubview(),this.renderPostButtonVisibility(),this},renderPostButtonVisibility:function renderPostButtonVisibility(){var e=!!this.viewModel.feedbackInputModel.get("comment");this.$$("post-feedback").toggle(e),this.$$("textarea").toggleClass(this.classes.hasFeedback,e)},appendSubview:function appendSubview(){this.region.append(i,{to:this.$$("container"),initialize:{collection:this.viewModel.feedbackCollection},module:i})},updateInputs:function updateInputs(){this.$(this.dom.textarea).attr("disabled",this.viewModel.isState("submitting"))}});module.exports=a});
define("pages/open-course/peerReview/components/likes/models/likes",["require","exports","module","js/lib/assert","js/lib/fsm","backbone","q","underscore"],function(require,exports,module){var e=require("js/lib/assert"),t=require("js/lib/fsm"),Backbone=require("backbone"),i=require("q"),_=require("underscore"),s=Backbone.Model.extend(_.extend({},t.FiniteStateMachine,{fsm:{states:["updating","up-to-date","update-error"],transitions:{updating:["up-to-date","update-error"],"up-to-date":["updating"],"update-error":["updating"]}},defaults:{likes:0,state:"up-to-date",userHasLiked:!1},initialize:function initialize(i){this.api=i.api;var t=["like","unlike"];t.forEach(function(i){e(_.contains(_.functions(this.api),i),"API passed into like model does not contain required method "+i)}.bind(this)),_.bindAll(this,"onLikeSuccess","onLikeFailure","onUnlikeSuccess","onUnlikeFailure")},like:function like(){if(!this.isState("up-to-date","update-error"))return i();return this.transition("updating"),this._applyLike(),this.api.like().then(this.onLikeSuccess,this.onLikeFailure)},onLikeSuccess:function onLikeSuccess(){this.trigger("liked"),this.transition("up-to-date")},onLikeFailure:function onLikeFailure(){this._applyUnlike(),this.transition("update-error")},unlike:function unlike(){if(!this.isState("up-to-date","update-error"))return i();return this.transition("updating"),this._applyUnlike(),this.api.unlike().then(this.onUnlikeSuccess,this.onUnlikeFailure)},onUnlikeSuccess:function onUnlikeSuccess(){this.trigger("unliked"),this.transition("up-to-date")},onUnlikeFailure:function onUnlikeFailure(){this._applyLike(),this.transition("update-error")},toggleLike:function toggleLike(){return this.get("userHasLiked")?this.unlike():this.like()},_applyLike:function _applyLike(){this.set("likes",this.get("likes")+1),this.set("userHasLiked",!0)},_applyUnlike:function _applyUnlike(){this.set("likes",this.get("likes")-1),this.set("userHasLiked",!1)}}));module.exports=s});
define("nls/assess",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("pages/open-course/peerReview/components/submissionDelete/views/nls/submissionDelete",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var n=function(e,n,t){var s=function template(o){var t=[],u={},i,s=o||{};return function(s,o,n,u,d,a){t.push('<div class="bt3-row"><div class="bt3-col-md-12"><div'+e.cls([s],[!0])+">"),o?t.push('<span class="c-review-page-delete-message">'+e.escape(null==(i=n("You may edit your submission if you do not receive a passing score."))?"":i)+" </span>"):(t.push('<button data-js="delete-link"'+e.cls(["c-review-page-delete-link",u],[null,!0])+">"),"small"===d?t.push('<i class="cif-pencil-square-o"></i><span>'+(null==(i=n("&nbsp;Edit submission"))?"":i)+"</span>"):t.push(""+e.escape(null==(i=n(a))?"":i)),t.push("</button>")),t.push('</div></div></div><div data-rc="SubmissionDeleteModal"></div>')}.call(this,"buttonContainerClasses"in s?s.buttonContainerClasses:"undefined"!=typeof buttonContainerClasses?buttonContainerClasses:void 0,"disabled"in s?s.disabled:"undefined"!=typeof disabled?disabled:void 0,"_t"in s?s._t:"undefined"!=typeof n?n:void 0,"buttonClasses"in s?s.buttonClasses:"undefined"!=typeof buttonClasses?buttonClasses:void 0,"buttonType"in s?s.buttonType:"undefined"!=typeof buttonType?buttonType:void 0,"buttonText"in s?s.buttonText:"undefined"!=typeof buttonText?buttonText:void 0),t.join("")};return function(e){return e&&"_t"in e&&(n=e._t.merge(n)),s(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/components/submissionDelete/views/submissionDelete.html',["js/vendor/jade","i18n!pages/open-course/peerReview/components/submissionDelete/views/nls/submissionDelete"],function(e,s){var t;return n(e,s,t)}):e.jade.templates["pages.open-course.peerReview.components.submissionDelete.views.submissionDelete"]=n(e.jade.helpers)}(window);
define("pages/open-course/peerReview/components/submissionDelete/views/submissionDelete",["require","exports","module","underscore","bundles/peer/components/SubmissionDeleteModal","bundles/phoenix/lib/view","js/lib/path","i18n!nls/assess","pages/open-course/peerReview/components/submissionDelete/views/submissionDelete.html"],function(require,exports,module){var _=require("underscore"),s=require("bundles/peer/components/SubmissionDeleteModal"),t=require("bundles/phoenix/lib/view"),c=require("js/lib/path"),i=require("i18n!nls/assess"),n=require("pages/open-course/peerReview/components/submissionDelete/views/submissionDelete.html"),e=function getMetadata(e){return function(){return this.itemMetadata.get(e)}},o="small",l={small:"c-review-page-delete-small",large:"c-review-page-delete-large"},a={small:"bt3-btn bt3-btn-link",large:"bt3-btn bt3-btn-primary"},d=t.extend({template:n,events:{'click [data-js="delete-link"]':"onDeleteLinkClick"},multitracker:{eventingVersion:2,namespace:"open_course_item.peer_review_my_project_review",baseValues:["open_course_id","module_id","lesson_id","item_id","submission_id"],definitions:{open_course_id:e("course.id"),module_id:e("lesson.module.id"),lesson_id:e("lesson.id"),item_id:e("id"),submission_id:function submission_id(){return this.submission.get("id")}},events:{"click.edit_project":[],"click.edit_project_cancel":[],"click.edit_project_complete":[]}},initialize:function initialize(e){_.bindAll(this,"onModalClose"),_(this).extend(_(e).pick("api","disabled","itemMetadata","submission","buttonType","buttonClasses","buttonText","onDeleteSuccess")),this.buttonType=this.buttonType||o,this.buttonContainerClasses=l[this.buttonType],this.buttonClasses=this.buttonClasses||a[this.buttonType],this.buttonText=this.buttonText||i("Try Again"),this.showModal=!1},renderModal:function renderModal(){this.renderReactInto(s,"SubmissionDeleteModal",{api:this.api,itemMetadata:this.itemMetadata,onDeleteSuccess:this.onDeleteSuccess,onModalClose:this.onModalClose,showModal:this.showModal,submissionId:this.submission.get("id")})},onDeleteLinkClick:function onDeleteLinkClick(){this.track("click.edit_project"),this.showModal=!0,this.renderModal()},onModalClose:function onModalClose(){this.track("click.edit_project_cancel"),this.showModal=!1,this.renderModal()}});module.exports=d});
define("pages/open-course/peerReview/components/submissionHeader/views/nls/submissionHeader",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var s=function(i,e,a){var s=function template(n){var i=[],t={},a,s=n||{};return function(s,n,e,t){i.push('<div class="c-peer-review-submission-header bt3-clearfix"><div data-js="title-error"></div><div data-js="title" class="c-peer-review-submission-header-title headline-4-text"></div><div class="c-peer-review-submission-header-author-container bt3-pull-left">'),s||n?i.push('<div class="c-peer-review-submission-header-submission-date"><span class="color-secondary-text caption-text">'+(null==(a=e("Submitted on&nbsp;"))?"":a)+'</span><span data-js="submission-date" class="caption-text color-secondary-text"></span></div>'):(i.push('<img data-js="creator-photo" class="c-peer-learner-photo bt3-pull-left"/><div class="c-peer-review-submission-header-meta-area bt3-pull-left"><div class="c-peer-review-submission-header-author-name">'+(null==(a=e("by&nbsp;"))?"":a)+'<span data-js="creator-name"></span></div><div class="c-peer-review-submission-header-submission-date"><span class="color-secondary-text caption-text">'+(null==(a=e("Submitted on&nbsp;"))?"":a)+'</span><span data-js="submission-date" class="color-secondary-text caption-text"></span></div>'),t&&i.push('<div class="c-peer-preview-submission-header-userid"><span data-js="submission-userId" class="caption-text color-secondary-text"></span></div>'),i.push("</div>")),i.push('</div><div data-js="metadata" class="c-peer-review-submission-actions-area bt3-pull-right"></div></div>')}.call(this,"isUserSubmission"in s?s.isUserSubmission:"undefined"!=typeof isUserSubmission?isUserSubmission:void 0,"hideCreatorDetails"in s?s.hideCreatorDetails:"undefined"!=typeof hideCreatorDetails?hideCreatorDetails:void 0,"_t"in s?s._t:"undefined"!=typeof e?e:void 0,"adminMode"in s?s.adminMode:"undefined"!=typeof adminMode?adminMode:void 0),i.join("")};return function(i){return i&&"_t"in i&&(e=i._t.merge(e)),s(i)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/components/submissionHeader/views/submissionHeader.html',["js/vendor/jade","i18n!pages/open-course/peerReview/components/submissionHeader/views/nls/submissionHeader"],function(e,i){var a;return s(e,i,a)}):e.jade.templates["pages.open-course.peerReview.components.submissionHeader.views.submissionHeader"]=s(e.jade.helpers)}(window);
define("pages/open-course/peerReview/components/submissionHeader/views/submissionHeader",["require","exports","module","moment","underscore","bundles/phoenix/lib/view","bundles/epic/client","pages/open-course/common/models/currentSocialProfile","pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors","pages/open-course/peerReview/components/submissionHeader/views/submissionHeader.html"],function(require,exports,module){var i=require("moment"),_=require("underscore"),s=require("bundles/phoenix/lib/view"),t=require("bundles/epic/client"),n=require("pages/open-course/common/models/currentSocialProfile"),e=require("pages/open-course/peerReview/components/inlineValidationErrors/views/inlineValidationErrors"),o=require("pages/open-course/peerReview/components/submissionHeader/views/submissionHeader.html"),r=s.extend({template:o,initialize:function initialize(e){this.initializeOptions(e),this.initializeEvents()},initializeOptions:function initializeOptions(e){_(this).extend(_(e).pick("api","itemMetadata","submissionViewModel","errorTree","metadataViewConfig","submission","adminMode"));var i=n.get("userId");this.isUserSubmission=this.submission.get("creator").get("userId")===i;var s=this.itemMetadata.get("course").get("id");this.hideCreatorDetails=!this.adminMode&&t.get("PeerReview","anonymizePeerReview",{course_id:s})},initializeEvents:function initializeEvents(){this.listenTo(this.submission,"change",this.renderContents)},postRender:function postRender(){this.renderContents()},renderContents:function renderContents(){this.$$("title").text(this.submission.get("title"));var e=this.submission.get("creator");this.$$("creator-photo").attr("src",e.get("photoUrl")),this.$$("creator-name").text(e.get("fullName")),!this.isUserSubmission&&this.adminMode&&this.$$("submission-userId").text("User ID: "+e.get("userId")),this.$$("submission-date").text(i(this.submission.get("createdAt")).format("LL"))},renderSubviews:function renderSubviews(){this.appendMetadataView(),this.appendInlineErrorView()},appendInlineErrorView:function appendInlineErrorView(){this.region.append(e,{initialize:{errorTree:this.errorTree},to:this.$$("title-error"),module:e})},appendMetadataView:function appendMetadataView(){if(!this.metadataViewConfig)return;this.region.append(this.metadataViewConfig.View,{to:this.$$("metadata"),initialize:_(this.metadataViewConfig.initialize).extend({isUserSubmission:this.isUserSubmission})})}});module.exports=r});

define('css!pages/open-course/peerReview/components/__styles__/SubmissionFlaggerModal',[],function(){})
define("pages/open-course/peerReview/components/SubmissionFlaggerModal",["require","exports","module","classnames","react-dom","react","bundles/phoenix/components/Modal","i18n!nls/assess","css!./__styles__/SubmissionFlaggerModal"],function(require,exports,module){var s=require("classnames"),n=require("react-dom"),e=require("react"),o=require("bundles/phoenix/components/Modal"),t=require("i18n!nls/assess");require("css!./__styles__/SubmissionFlaggerModal");var a=e.createClass({displayName:"SubmissionFlagger",propTypes:{onClose:e.PropTypes.func.isRequired,defaultReason:e.PropTypes.string},getDefaultProps:function getDefaultProps(){return{defaultReason:"incompleteSubmission",reasons:[{value:"incompleteSubmission",label:t("The submission is incomplete")},{value:"inappropriateContent",label:t("The submission contains inappropriate content")},{value:"plagiarism",label:t("The submission contains plagiarized content")},{value:"other",label:t("Other (please provide details below)")}]}},getInitialState:function getInitialState(){return{error:void 0,selectedReason:this.props.defaultReason}},handleClose:function handleClose(){this.props.onClose()},onReasonChange:function onReasonChange(e){this.setState({selectedReason:e.target.value})},onSendReportButtonClick:function onSendReportButtonClick(e){e.preventDefault(),this.reportSubmission({reason:this.state.selectedReason,evidence:n.findDOMNode(this.refs.evidence).value})},reportSubmission:function reportSubmission(t){this.setState({isSubmitting:!0});var e=this.props,s=e.api,n=e.itemMetadata,o=e.submission;s.reportSubmission(n,o.get("id"),t).then(this.onReportSuccess,this.onReportError).done()},onReportSuccess:function onReportSuccess(){this.setState({isSubmitting:!1}),this.props.onClose(),this.props.submissionViewModel.trigger("reported")},onReportError:function onReportError(e){if(this.setState({isSubmitting:!1}),!e.responseJSON)throw e;this.setState({error:e.responseJSON})},render:function render(){var a=this.state,r=a.selectedReason,n=a.isSubmitting,i=a.error,l=this.props.reasons,c=s("bt3-btn bt3-btn-warning c-modal-action-button",{"bt3-disabled":n});return e.createElement(o,{modalName:"SubmissionFlaggerModal",handleClose:this.handleClose},e.createElement("div",{className:"rc-SubmissionFlaggerModal"},e.createElement("h3",{className:"c-modal-title subtitle"},t("Flag this submission")),e.createElement("div",null,i&&e.createElement("div",null,e.createElement("p",null,t("An error occurred submitting your report:")," ",i)),e.createElement("div",null,e.createElement("form",null,e.createElement("div",{className:"field-container"},e.createElement("label",{htmlFor:"reason-selection"},t("Select a reason:")),e.createElement("select",{id:"reason-selection",ref:"reason",className:"field",disabled:n,value:r,onChange:this.onReasonChange},l.map(function(t){return e.createElement("option",{value:t.value},t.label)}))),e.createElement("div",{className:"field-container"},e.createElement("label",{htmlFor:"reason-field"},t("Please explain or provide evidence below:")),e.createElement("textarea",{id:"reason-field",ref:"evidence",className:"field",disabled:n})),e.createElement("div",{className:"c-modal-action-bar"},n&&e.createElement("span",null,t("Submitting report...")),e.createElement("button",{className:c,onClick:this.onSendReportButtonClick},t("Send report"))))))))}});module.exports=a});
define("js/lib/pluralize",[],function(){return function(n,e,i){return 1===n?e:i}});
define("js/lib/pluralizer",["require","js/lib/pluralize","js/vendor/backbone.v1-1-2","jquery","underscore"],function(require){var e=require("js/lib/pluralize"),Backbone=require("js/vendor/backbone.v1-1-2"),$=require("jquery"),_=require("underscore"),t=Backbone.Model.extend({rules:null,initialize:function initialize(e,t){this.el=$(e),this.rules={},this.setRules(t||{}),_.bindAll(this,"updateDom")},updateDom:function updateDom(i){if(!_.has(this.rules,i))return;var e=this.rules[i],t;e.property?e.model?t=e.model.get(e.property):e.object&&(t=e.object[e.property]):t=e.model||e.object,_.isFunction(e.converter)&&(t=e.converter(t));var r=this.el.find(e.selector);this.pluralizeEach(r,t)},pluralizeEach:function pluralizeEach(e,t){var i=this.pluralize.bind(this);e.each(function(){i(this,t)})},pluralize:function pluralize(i,r){var t=$(i),n=t.attr("data-singular"),s=t.attr("data-plural"),l=e(r,n,s);t.text(l)},setRule:function setRule(e,t){var i=t.model,n=t.property;this.rules[e]=_.extend({selector:'[data-pluralize="'+e+'"]',changeHandler:_.partial(this.updateDom,e)},t);var s=this.rules[e].changeHandler.bind(this);if(i){var r=i.get(n);this.listenTo(i,"change:"+n,s),(r instanceof Backbone.Model||r instanceof Backbone.Collection)&&this.listenTo(r,"change",s)}},setRules:function setRules(e){_(e).each(function(e,t){this.setRule(t,e)},this)},render:function render(){_(_.keys(this.rules)).each(this.updateDom,this)},renderRules:function renderRules(e){_(e).each(this.updateDom.bind(this))}});return t});
define("pages/open-course/peerReview/components/likes/views/likes",["require","exports","module","bundles/phoenix/lib/view","js/lib/pluralizer"],function(require,exports,module){var e=require("bundles/phoenix/lib/view"),t=require("js/lib/pluralizer"),i=e.extend({name:"likesView",tagName:"span",events:{'click [data-js="like-button"]':"likeClick"},initialize:function initialize(e){this.template=e.template,this.listenTo(this.model,"change:likes",this.renderLikeCount),this.listenTo(this.model,"change:userHasLiked",this.renderLikeStatus),this.listenTo(this.model,"change:state",this.renderState),this.tagName=e.tagName||this.tagName,this.pluralizer=new t(this.$el),this.pluralizer.setRules({"likes-count-label":{model:this.model,property:"likes"}})},remove:function remove(){this.pluralizer.stopListening(),e.prototype.remove.call(this)},render:function render(){this.$el.html(this.template()),this.renderFsm(),this.renderState(),this.renderLikeCount(),this.renderLikeStatus(),this.pluralizer.render()},renderLikeCount:function renderLikeCount(){var e=this.model.get("likes");this.$$("likes-count").html(e),this.$$("likes-count-area").toggle(0!==e),this.$$("no-likes-area").toggle(0===e)},renderLikeStatus:function renderLikeStatus(){var t="cif-heart-o c-peer-review-like-heart-not-liked",i="cif-heart c-peer-review-like-heart-liked",e=this.$$("like-heart");e.removeClass(t),e.removeClass(i),this.model.get("userHasLiked")?e.addClass(i):e.addClass(t)},likeClick:function likeClick(){return this.model.toggleLike()},state:function state(){return this.model.state()}});module.exports=i});
define("pages/open-course/peerReview/components/likes/views/nls/smallLikeBox",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var a=function(a,e,s){var n=function template(i){var n=[],l={},s,t=i||{};return function(e){n.push('<a data-js="like-button" class="caption-text"><i data-js="like-heart" class="c-peer-review-like-heart cif-heart-o"></i><span data-js="likes-count-area">&nbsp;<span data-js="likes-count"></span>&nbsp;<span data-pluralize="likes-count-label"'+a.attr("data-singular",e("like"),!0,!1)+a.attr("data-plural",e("likes"),!0,!1)+'></span></span><span data-js="no-likes-area">&nbsp;\n'+a.escape(null==(s=e("like"))?"":s)+"</span></a>")}.call(this,"_t"in t?t._t:"undefined"!=typeof e?e:void 0),n.join("")};return function(a){return a&&"_t"in a&&(e=a._t.merge(e)),n(a)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/components/likes/views/smallLikeBox.html',["js/vendor/jade","i18n!pages/open-course/peerReview/components/likes/views/nls/smallLikeBox"],function(e,n){var s;return a(e,n,s)}):e.jade.templates["pages.open-course.peerReview.components.likes.views.smallLikeBox"]=a(e.jade.helpers)}(window);
define("pages/open-course/peerReview/components/submissionHeader/views/nls/submissionHeader.reviewMetadata",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(s){var e=function(e,s,n){var i=function template(t){var i=[],o={},a,n=t||{};return function(s,n){s?i.push('<a data-js="submission-shareable-link" class="caption-text"></a>'):i.push('<span data-js="small-like-box"></span><span data-js="flag-button-area">&nbsp;<a data-js="flag-button" class="caption-text"><i class="cif-flag-o"></i>&nbsp;\n'+e.escape(null==(a=n("Flag this submission"))?"":a)+"</a></span>"),i.push('<div data-js="SubmissionFlaggerModal" data-rc="SubmissionFlaggerModal"></div>')}.call(this,"isUserSubmission"in n?n.isUserSubmission:"undefined"!=typeof isUserSubmission?isUserSubmission:void 0,"_t"in n?n._t:"undefined"!=typeof s?s:void 0),i.join("")};return function(e){return e&&"_t"in e&&(s=e._t.merge(s)),i(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/components/submissionHeader/views/submissionHeader.reviewMetadata.html',["js/vendor/jade","i18n!pages/open-course/peerReview/components/submissionHeader/views/nls/submissionHeader.reviewMetadata"],function(s,i){var n;return e(s,i,n)}):s.jade.templates["pages.open-course.peerReview.components.submissionHeader.views.submissionHeader.reviewMetadata"]=e(s.jade.helpers)}(window);
define("pages/open-course/peerReview/views/nls/flagging",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var a=function(e,a,s){var t=function template(n){var i=[],l={},t,s=n||{};return function(a,s,n){i.push('<div class="c-peer-review-flagging"><div data-state="hidden"><a href="#" data-js="show-form">'+e.escape(null==(t=a("Flag this submission"))?"":t)+'</a></div><div data-state-not="hidden" class="c-peer-review-flagging-container"><div><a href="#" data-js="hide-form" data-state-not="submitting success" class="bt3-pull-right"><i class="cif-close"></i></a><div class="c-title">'+e.escape(null==(t=a("Flag this submission"))?"":t)+'</div></div><div data-state="error"><p>'+e.escape(null==(t=a("An error occurred submitting your report:"))?"":t)+'</p><p data-js="error-message"></p></div><div data-state="visible error" class="c-peer-review-flagging-form"><form><div class="field-container"><label>'+e.escape(null==(t=a("Select a reason:"))?"":t)+'</label><select data-js="reason"'+e.attr("value",s,!0,!1)+' class="field">'),function(){var s=n;if("number"==typeof s.length)for(var l=0,d=s.length;d>l;l++){var r=s[l];i.push("<option"+e.attr("value",r.value,!0,!1)+">"+e.escape(null==(t=a(r.label))?"":t)+"</option>")}else{var d=0;for(var l in s){d++;var r=s[l];i.push("<option"+e.attr("value",r.value,!0,!1)+">"+e.escape(null==(t=a(a(r.label)))?"":t)+"</option>")}}}.call(this),i.push('</select></div><div class="field-container"><label>'+e.escape(null==(t=a("Please explain or provide evidence below:"))?"":t)+'</label><textarea data-js="evidence" class="field"></textarea></div><div class="actions bt3-pull-right"><button data-js="send-report" class="bt3-btn bt3-btn-warning">'+e.escape(null==(t=a("Send report"))?"":t)+'</button></div></form></div><div data-state="submitting">'+e.escape(null==(t=a("Submitting report..."))?"":t)+'</div><div data-state="success">'+e.escape(null==(t=a("Report submitted successfully."))?"":t)+"</div></div></div>")}.call(this,"_t"in s?s._t:"undefined"!=typeof a?a:void 0,"defaultReason"in s?s.defaultReason:"undefined"!=typeof defaultReason?defaultReason:void 0,"reasons"in s?s.reasons:"undefined"!=typeof reasons?reasons:void 0),i.join("")};return function(e){return e&&"_t"in e&&(a=e._t.merge(a)),t(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/flagging.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/nls/flagging"],function(e,t){var s;return a(e,t,s)}):e.jade.templates["pages.open-course.peerReview.views.flagging"]=a(e.jade.helpers)}(window);
define("pages/open-course/peerReview/views/flagging",["require","exports","module","backbone","underscore","bundles/phoenix/lib/view","js/lib/fsm","pages/open-course/peerReview/views/flagging.html"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),e=require("bundles/phoenix/lib/view"),i=require("js/lib/fsm"),s=require("pages/open-course/peerReview/views/flagging.html"),t=Backbone.Model.extend(_.extend({},i.FiniteStateMachine,{defaults:{state:"hidden"},fsm:{states:["hidden","visible","submitting","error","success"],transitions:{hidden:["visible","error"],visible:["hidden"],submitting:["visible","error"],error:["submitting"],success:["submitting"]}},initialize:function initialize(){_(this).bindAll("onReportSuccess","onReportError")},reportSubmission:function reportSubmission(e){this.transition("submitting");var i=this.get("api"),s=this.get("itemMetadata"),t=this.get("submission");i.reportSubmission(s,t.get("id"),e).then(this.onReportSuccess,this.onReportError).done()},onReportSuccess:function onReportSuccess(){this.trigger("success"),this.transition("success"),this.get("submissionViewModel").trigger("reported")},onReportError:function onReportError(e){if(!e.responseJSON)throw e;this.trigger("error",e.responseJSON),this.transition("error")}})),o=e.extend({template:s,stateModelProperty:"viewModel",events:{'click [data-js~="show-form"]':"showForm",'click [data-js~="hide-form"]':"hideForm",'click [data-js~="send-report"]':"sendReport"},initialize:function initialize(e){_(this).extend(_(e).pick("api","itemMetadata","submission","submissionViewModel")),this.viewModel=new t(_(this).pick("api","itemMetadata","submission","submissionViewModel")),this.defaultReason="incompleteSubmission",this.reasons=[{value:"incompleteSubmission",label:"The submission is incomplete"},{value:"inappropriateContent",label:"The submission contains inappropriate content"},{value:"plagiarism",label:"The submission contains plagiarized content"},{value:"other",label:"Other (please provide details below)"}],this.listenTo(this.viewModel,"error",this.onReportError)},onReportError:function onReportError(e){this.$$("error-message").text(e)},showForm:function showForm(e){e.preventDefault(),this.viewModel.transition("visible")},hideForm:function hideForm(e){e.preventDefault(),this.resetForm(),this.viewModel.transition("hidden")},sendReport:function sendReport(e){e.preventDefault();var i=this.$$("reason").val(),s=this.$$("evidence").val();this.viewModel.reportSubmission({reason:i,evidence:s})},resetForm:function resetForm(){this.$$("reason").val(this.defaultReason),this.$$("evidence").val("")}});module.exports=o});

define('css!pages/specialization/styl/modals',[],function(){})
define("pages/open-course/peerReview/components/submissionHeader/views/submissionHeader.reviewMetadata",["require","exports","module","underscore","bundles/phoenix/lib/view","js/lib/modals","js/lib/path","pages/open-course/peerReview/components/SubmissionFlaggerModal","pages/open-course/peerReview/components/likes/views/likes","pages/open-course/peerReview/components/likes/views/smallLikeBox.html","pages/open-course/peerReview/components/submissionHeader/views/submissionHeader.reviewMetadata.html","pages/open-course/peerReview/views/flagging","css!pages/specialization/styl/modals"],function(require,exports,module){var _=require("underscore"),s=require("bundles/phoenix/lib/view"),l=require("js/lib/modals"),i=require("js/lib/path"),o=require("pages/open-course/peerReview/components/SubmissionFlaggerModal"),e=require("pages/open-course/peerReview/components/likes/views/likes"),n=require("pages/open-course/peerReview/components/likes/views/smallLikeBox.html"),a=require("pages/open-course/peerReview/components/submissionHeader/views/submissionHeader.reviewMetadata.html"),r=require("pages/open-course/peerReview/views/flagging");require("css!pages/specialization/styl/modals");var t=s.extend({template:a,events:{'click [data-js="flag-button"]':"flagSubmission"},initialize:function initialize(e){_(this).bindAll("onSubmissionFlaggerModalClose"),_(this).extend(_(e).pick("api","itemMetadata","submission","submissionViewModel","likeModel","isUserSubmission"))},flagSubmission:function flagSubmission(e){e&&e.preventDefault();var s=_(this).chain().pick("api","itemMetadata","submission","submissionViewModel").extend({onClose:this.onSubmissionFlaggerModalClose}).value();this.submissionFlaggerModal=this.renderReactInto(o,"SubmissionFlaggerModal",s),this.$$("SubmissionFlaggerModal").removeClass("bt3-hide")},onSubmissionFlaggerModalClose:function onSubmissionFlaggerModalClose(){this.submissionFlaggerModal&&(this.removeReactComponent(this.submissionFlaggerModal),this.submissionFlaggerModal=null),this.$$("SubmissionFlaggerModal").addClass("bt3-hide")},render:function render(){this.$el.html(this.template({isUserSubmission:this.isUserSubmission})),this.appendLikeView()},appendLikeView:function appendLikeView(){if(this.isUserSubmission){if(!this.itemMetadata.isMentorGraded()){var s=[window.location.origin,this.itemMetadata.getLink(),"review",this.submission.get("id")];this.$$("submission-shareable-link").text("Shareable Link"),this.$$("submission-shareable-link").prop("href",i.join(s))}}else this.region.append(e,{to:this.$$("small-like-box"),initialize:{model:this.likeModel,template:n},module:e})}});module.exports=t});
define("pages/open-course/peerReview/data/submission",["require","exports","module","pages/open-course/peerReview/data/api"],function(require,exports,module){var e=require("pages/open-course/peerReview/data/api");module.exports=function(s,i){return e.getSubmission(s,i)}});
define("pages/open-course/peerReview/submissionTypes/base/promises/submissionAndRelated",["require","exports","module","pages/open-course/peerReview/submissionTypes/base/factories/submissionFactory","pages/open-course/peerReview/data/submission"],function(require,exports,module){var e=require("pages/open-course/peerReview/submissionTypes/base/factories/submissionFactory"),s=require("pages/open-course/peerReview/data/submission");module.exports=function(i,o){return s(i,o).then(function(s){return e.fromGetSubmission(s)})}});
define("pages/open-course/peerReview/viewModels/review",["require","exports","module","bundles/phoenix/lib/mixin","js/lib/fsm","js/vendor/backbone.v1-1-2"],function(require,exports,module){var e=require("bundles/phoenix/lib/mixin"),i=require("js/lib/fsm"),Backbone=require("js/vendor/backbone.v1-1-2"),s=Backbone.Model.extend({defaults:{state:"initial-load"},fsm:{states:["initial-load","load-error","show-review-success","show-review-stats","show-submission"],transition:{"load-error":["initial-load","show-review-success","show-review-stats","show-submission"],"show-review-success":["initial-load","show-submission"],"show-review-stats":["show-review-success"],"show-submission":["show-review-stats"]}}});e(s.prototype,i.FiniteStateMachine),module.exports=s});

define('css!bundles/author-common/components/__styles__/NumericInput',[],function(){})
define("bundles/author-common/components/NumericInput",["require","exports","module","react","css!bundles/author-common/components/__styles__/NumericInput.css"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var n=i[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react");require("css!bundles/author-common/components/__styles__/NumericInput.css");var o=(n=t=function(t){function NumericInput(n,o){_classCallCheck(this,NumericInput);var e=_possibleConstructorReturn(this,t.call(this,n,o));return e.handleKeyDown=function(t){var n=[37,38,39,40,9,8];e.props.allowDecimal&&n.push(190),e.props.allowNegative&&n.push(189),-1!==n.indexOf(t.which)||t.metaKey||t.ctrlKey||!/[^0-9]/.test(String.fromCharCode(t.which))||t.preventDefault()},e.handleChange=function(n){var t=n.target.value;if(e.setState({value:t}),isNaN(t)||""===t)return;t=e.props.allowDecimal?parseFloat(t):parseInt(t,10),e.props.onChange(t)},e.state={value:n.initialValue},e}return _inherits(NumericInput,t),NumericInput.prototype.componentDidUpdate=function componentDidUpdate(e,t){e.initialValue!==this.props.initialValue&&this.setState({value:this.props.initialValue})},NumericInput.prototype.render=function render(){var t={width:this.props.width,height:this.props.height};return e.createElement("input",{type:"number",style:t,min:this.props.min,max:this.props.max,value:this.state.value,className:"rc-NumericInput",disabled:this.props.disabled,onKeyDown:this.handleKeyDown,onChange:this.handleChange})},NumericInput}(e.Component),t.propTypes={initialValue:e.PropTypes.number.isRequired,min:e.PropTypes.number,max:e.PropTypes.number,width:e.PropTypes.number,height:e.PropTypes.number,allowDecimal:e.PropTypes.bool,allowNegative:e.PropTypes.bool,disabled:e.PropTypes.bool,onChange:e.PropTypes.func},t.defaultProps={width:90,height:50,allowDecimal:!0,allowNegative:!0,onChange:function onChange(){}},n);module.exports=o});
define("bundles/peer/components/PlagiarismMessage",["require","exports","module","react","js/lib/coursera.react-intl","i18n!nls/peer"],function(require,exports,module){function _defaults(e,a){for(var o=Object.getOwnPropertyNames(a),t=0;t<o.length;t++){var r=o[t],n=Object.getOwnPropertyDescriptor(a,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var e=require("react"),n=require("js/lib/coursera.react-intl"),r=n.FormattedMessage,t=require("i18n!nls/peer"),a=function(n){function PlagiarismMessage(){return _classCallCheck(this,PlagiarismMessage),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(PlagiarismMessage,n),PlagiarismMessage.prototype.render=function render(){return e.createElement("div",null,e.createElement("p",null,e.createElement(r,{message:t("Plagiarism is unacceptable in any academic environment and is a serious violation\n              of Coursera's Honor Code. We have removed any credit toward your course grade that you may\n              have received for this assignment, and your grade has been permanently overridden to zero.")})),e.createElement("p",null,e.createElement(r,{message:t("Our learners come from many different academic backgrounds, and many are unfamiliar\n              with the academic standard for plagiarism. We fully understand that this violation of our\n              policies may have been a simple mistake. If this is the case, we ask that you review\n              {guidelines}, and follow them when submitting future assignments. Failure to do so may\n              result in more serious consequences, including removal from a course or from the Coursera\n              community."),guidelines:e.createElement("a",{href:"http://www.plagiarism.org/plagiarism-101/what-is-plagiarism/"},t("these guidelines"))})))},PlagiarismMessage}(e.Component);module.exports=a});
define("pages/open-course/peerReview/data/adminApi",["require","exports","module","q","js/lib/api","js/lib/stringKeyTuple"],function(require,exports,module){var e=require("q"),n=require("js/lib/api"),r=require("js/lib/stringKeyTuple"),i=n("",{type:"rest"}),t="/api/onDemandCourseGradeItemOutcomeOverrides.v1/";module.exports={getOverride:function getOverride(n){var a=r.tupleToStringKey([n.learnerId.toString(),n.courseId,n.itemId]),s="?fields=grade,isPassed,explanation,userPublicProfiles.v1(fullName)&includes=publicProfiles",d=t+a+s;return e(i.get(d))},updateOverride:function updateOverride(n){var a=r.tupleToStringKey([n.learnerId.toString(),n.courseId,n.itemId]),s=t+a;return e(i.put(s,{data:{grade:n.grade,isPassed:n.isPassed,explanation:n.explanation}}))},removeOverride:function removeOverride(n){var a=r.tupleToStringKey([n.learnerId.toString(),n.courseId,n.itemId]),s=t+a;return e(i["delete"](s))}}});

define('css!bundles/peer/components/__styles__/AdminViewGradeOverride',[],function(){})
define("bundles/peer/components/AdminViewGradeOverride",["require","exports","module","react","underscore","bundles/author-common/components/NumericInput","bundles/peer/components/PlagiarismMessage","react-bootstrap","i18n!nls/ondemand","pages/open-course/peerReview/data/adminApi","css!./__styles__/AdminViewGradeOverride"],function(require,exports,module){function _defaults(e,i){for(var n=Object.getOwnPropertyNames(i),a=0;a<n.length;a++){var t=n[a],r=Object.getOwnPropertyDescriptor(i,t);r&&r.configurable&&void 0===e[t]&&Object.defineProperty(e,t,r)}return e}function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?a:e}function _inherits(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):_defaults(a,e))}var t,r,e=require("react"),_=require("underscore"),n=require("bundles/author-common/components/NumericInput"),s=require("bundles/peer/components/PlagiarismMessage"),i=require("react-bootstrap"),l=i.Tooltip,o=i.OverlayTrigger,a=require("i18n!nls/ondemand"),c=require("pages/open-course/peerReview/data/adminApi");require("css!./__styles__/AdminViewGradeOverride");var d=(r=t=function(t){function AdminViewGradeOverride(r){_classCallCheck(this,AdminViewGradeOverride);var e=_possibleConstructorReturn(this,t.call(this,r));if(e.handleGradeInputChange=function(a){e.setState({grade:a})},e.handleIsPassedChange=function(a){e.setState({isPassed:"Yes"===a.target.value})},e.handleExplanationChange=function(a){e.setState({isForPlagiarism:"Plagiarism"===a.target.value})},e.handleCustomExplanationChange=function(a){e.setState({customExplanation:a.target.value})},e.submitOverride=function(){var a=e.state.isForPlagiarism?"Plagiarism":e.state.customExplanation;e.props.submitOverride(e.state.grade,e.state.isPassed,a)},e.props.gradeOverride){var a="Plagiarism"===e.props.gradeOverride.explanation,i=a?"":e.props.gradeOverride.explanation;e.state={grade:e.props.gradeOverride.grade,isPassed:e.props.gradeOverride.isPassed,isForPlagiarism:a,customExplanation:i}}else e.state={grade:0,isPassed:!1,isForPlagiarism:!0,customExplanation:""};return e}return _inherits(AdminViewGradeOverride,t),AdminViewGradeOverride.prototype.isInputEnabled=function isInputEnabled(){return"loaded"===this.props.gradeOverrideDataState},AdminViewGradeOverride.prototype.renderNoteForPlagiarism=function renderNoteForPlagiarism(){return e.createElement("div",{className:"details"},e.createElement("div",{className:"learners-note"},a("Learners will see this message:")),e.createElement(s,null))},AdminViewGradeOverride.prototype.renderNoteForOtherReason=function renderNoteForOtherReason(){var t=!this.isInputEnabled();return e.createElement("div",{className:"details"},e.createElement("div",{className:"learners-note"},a("Learners will see this message:")),e.createElement("div",null,e.createElement("textarea",{className:"explanation",onChange:this.handleCustomExplanationChange,disabled:t,value:this.state.customExplanation})))},AdminViewGradeOverride.prototype.renderMainContent=function renderMainContent(){var r=e.createElement(l,{className:"rc-AdminViewGradeOverride-button-revert-tooltip"},a("Restore original grade. Any admin overrides will be removed.")),t=!this.isInputEnabled();return e.createElement("div",{className:"authoring-type"},e.createElement("div",{className:"horizontal-box input-row"},e.createElement("div",{className:"input-label"},a("Score")),e.createElement("div",{className:"flex-1"},e.createElement(n,{initialValue:this.state.grade,min:0,max:100,width:50,height:35,allowDecimal:!1,allowNegative:!1,onChange:this.handleGradeInputChange,disabled:t}),"%",(this.state.grade<0||this.state.grade>100)&&e.createElement("span",{className:"alertMessageMargin"},a("Grade needs to be a number in between 0 and 100, inclusive.")))),e.createElement("div",{className:"horizontal-box input-row"},e.createElement("div",{className:"input-label"},a("Passed?:")),e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"horizontal-box"},e.createElement("input",{id:"rc-AdminViewGradeOverride-yes",name:"isPassed",type:"radio",value:"Yes",className:"option-radio",onChange:this.handleIsPassedChange,checked:this.state.isPassed,disabled:t}),e.createElement("label",{htmlFor:"rc-AdminViewGradeOverride-yes",className:"label-radio"}),e.createElement("div",{className:"radioPadding flex-1"},a("Yes"))),e.createElement("div",{className:"horizontal-box"},e.createElement("input",{id:"rc-AdminViewGradeOverride-no",name:"isPassed",type:"radio",value:"No",className:"option-radio",onChange:this.handleIsPassedChange,checked:!this.state.isPassed,disabled:t}),e.createElement("label",{htmlFor:"rc-AdminViewGradeOverride-no",className:"label-radio"}),e.createElement("div",{className:"radioPadding flex-1"},a("No"))))),e.createElement("div",{className:"horizontal-box input-row"},e.createElement("div",{className:"input-label"},a("Reason:")),e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"horizontal-box"},e.createElement("input",{id:"rc-AdminViewGradeOverride-plagiarism",name:"explanation",type:"radio",value:"Plagiarism",className:"option-radio",onChange:this.handleExplanationChange,checked:this.state.isForPlagiarism,disabled:t}),e.createElement("label",{htmlFor:"rc-AdminViewGradeOverride-plagiarism",className:"label-radio"}),e.createElement("div",{className:"radioPadding flex-1"},e.createElement("span",null,a("Plagiarism")),this.state.isForPlagiarism&&this.renderNoteForPlagiarism())),e.createElement("div",{className:"horizontal-box"},e.createElement("input",{id:"rc-AdminViewGradeOverride-other",name:"explanation",type:"radio",value:"Other",className:"option-radio",onChange:this.handleExplanationChange,checked:!this.state.isForPlagiarism,disabled:t}),e.createElement("label",{htmlFor:"rc-AdminViewGradeOverride-other",className:"label-radio"}),e.createElement("div",{className:"radioPadding flex-1"},e.createElement("span",null,a("Other")),!this.state.isForPlagiarism&&this.renderNoteForOtherReason())))),e.createElement("div",{className:"horizontal-box align-items-right"},!!this.props.gradeOverride&&e.createElement(o,{placement:"bottom",overlay:r,delayShow:0},e.createElement("button",{className:"bt3-btn",onClick:this.props.removeOverride,disabled:t},a("removingOverride"===this.props.gradeOverrideDataState?"Reverting...":"Revert"))),e.createElement("div",{className:"horizontal-box flex-1 align-items-right"},e.createElement("button",{className:"bt3-btn bt3-btn-primary button-save",onClick:this.submitOverride,disabled:t},a("submittingOverride"===this.props.gradeOverrideDataState?"Saving...":"Save")))),e.createElement("div",{className:"horizontal-box align-items-right"},"error"===this.props.gradeOverrideDataState&&e.createElement("span",null,a("Problem connecting to server. Try again later."))))},AdminViewGradeOverride.prototype.render=function render(){return e.createElement("div",{className:"rc-AdminViewGradeOverride"},e.createElement("h3",null,a("Override Grade")),this.state.loadingData&&e.createElement("div",null,a("Loading"),"..."),!this.state.loadingData&&this.renderMainContent())},AdminViewGradeOverride}(e.Component),t.propTypes={gradeOverrideDataState:e.PropTypes.string.isRequired,gradeOverride:e.PropTypes.object,submitOverride:e.PropTypes.func,removeOverride:e.PropTypes.func},r);module.exports=d});

define('css!bundles/peer/components/__styles__/AdminViewGradeOverrideModal',[],function(){})
define("bundles/peer/components/AdminViewGradeOverrideModal",["require","exports","module","react","bundles/phoenix/components/Modal","bundles/peer/components/AdminViewGradeOverride","css!./__styles__/AdminViewGradeOverrideModal"],function(require,exports,module){function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),r=0;r<i.length;r++){var t=i[r],o=Object.getOwnPropertyDescriptor(n,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,t,e=require("react"),o=require("bundles/phoenix/components/Modal"),n=require("bundles/peer/components/AdminViewGradeOverride");require("css!./__styles__/AdminViewGradeOverrideModal");var i=(t=r=function(r){function AdminViewGradeOverrideModal(){return _classCallCheck(this,AdminViewGradeOverrideModal),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(AdminViewGradeOverrideModal,r),AdminViewGradeOverrideModal.prototype.render=function render(){return e.createElement(o,{className:"rc-AdminViewGradeOverrideModal",allowClose:!0,modalName:"AdminViewGradeOverrideModal",type:"box",handleClose:this.props.handleClose},e.createElement(n,{gradeOverrideDataState:this.props.gradeOverrideDataState,gradeOverride:this.props.gradeOverride,submitOverride:this.props.submitOverride,removeOverride:this.props.removeOverride}))},AdminViewGradeOverrideModal}(e.Component),r.propTypes={handleClose:e.PropTypes.func,gradeOverrideDataState:e.PropTypes.string.isRequired,gradeOverride:e.PropTypes.object,submitOverride:e.PropTypes.func,removeOverride:e.PropTypes.func},t);module.exports=i});

define('css!bundles/peer/components/__styles__/AdminDeletionConfirmModal',[],function(){})
define("bundles/peer/components/AdminDeletionConfirmModal",["require","exports","module","react","bundles/phoenix/components/Modal","i18n!nls/ondemand","css!./__styles__/AdminDeletionConfirmModal"],function(require,exports,module){function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var n=i[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,e=require("react"),r=require("bundles/phoenix/components/Modal"),t=require("i18n!nls/ondemand");require("css!./__styles__/AdminDeletionConfirmModal");var i=(o=n=function(n){function AdminDeletionConfirmModal(){var o,e,r;_classCallCheck(this,AdminDeletionConfirmModal);for(var i=arguments.length,a=Array(i),t=0;i>t;t++)a[t]=arguments[t];return o=e=_possibleConstructorReturn(this,n.call.apply(n,[this].concat(a))),e.state={deleting:!1,deletionFailed:!1},e.handleRemoveGradeOverride=function(){e.setState({deleting:!0,deletionFailed:!1});var t=e.props,n=t.itemMetadata,o=t.submissionId,r=e.deleteApi(n,o);r.then(function(t){e.props.handleDeleteSubmission(),e.props.handleClose()})["catch"](function(t,n,o){e.setState({deletionFailed:!0,deleting:!1})})},r=o,_possibleConstructorReturn(e,r)}return _inherits(AdminDeletionConfirmModal,n),AdminDeletionConfirmModal.prototype.deleteApi=function deleteApi(e,t){return this.props.api.deleteSubmission(e,t)},AdminDeletionConfirmModal.prototype.render=function render(){return e.createElement(r,{className:"rc-AdminDeletionConfirmModal",allowClose:!0,modalName:"AdminDeletionConfirmModal",type:"box",handleClose:this.props.handleClose},e.createElement("div",{className:"browser-alert-container horizontal-box align-items-absolute-center"},e.createElement("div",{className:"browser-alert"},t("Browser Alert"))),e.createElement("div",null,e.createElement("div",{className:"confirm-question"},t("Are you sure you want to delete this submission? This action cannot be reversed.")),e.createElement("div",{className:"horizontal-box align-items-absolute-center"},e.createElement("button",{className:"bt3-btn yes-button",onClick:this.handleRemoveGradeOverride},t(this.state.deleting?"Deleting":"Yes")),e.createElement("button",{className:"bt3-btn",onClick:this.props.handleClose},t("No")))),this.state.deletionFailed&&e.createElement("div",{className:"horizontal-box align-items-absolute-center"},t("Can't delete now, please try again later"),"."))},AdminDeletionConfirmModal}(e.Component),n.propTypes={handleClose:e.PropTypes.func,itemMetadata:e.PropTypes.object,api:e.PropTypes.object,submissionId:e.PropTypes.string,handleDeleteSubmission:e.PropTypes.func},o);module.exports=i});

define('css!bundles/peer/components/__styles__/PeerReviewAdminMessage',[],function(){})
define("bundles/peer/components/PeerReviewAdminMessage",["require","exports","module","react","i18n!nls/ondemand","bundles/peer/components/AdminViewGradeOverrideModal","bundles/peer/components/AdminDeletionConfirmModal","js/lib/coursera.react-intl","js/lib/path","pages/open-course/peerReview/data/adminApi","bundles/peer/components/PeerReviewAdminPermissionChecker","bundles/peer-admin/constants/constants","css!./__styles__/PeerReviewAdminMessage"],function(require,exports,module){function _defaults(e,a){for(var n=Object.getOwnPropertyNames(a),t=0;t<n.length;t++){var r=n[t],i=Object.getOwnPropertyDescriptor(a,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var i,a,e=require("react"),t=require("i18n!nls/ondemand"),o=require("bundles/peer/components/AdminViewGradeOverrideModal"),s=require("bundles/peer/components/AdminDeletionConfirmModal"),n=require("js/lib/coursera.react-intl"),d=n.FormattedMessage,l=n.FormattedNumber,m=require("js/lib/path"),r=require("pages/open-course/peerReview/data/adminApi"),u=require("bundles/peer/components/PeerReviewAdminPermissionChecker"),c=require("bundles/peer-admin/constants/constants"),p=c.PeerAdminCapabilities;require("css!./__styles__/PeerReviewAdminMessage");var v=(a=i=function(i){function PeerReviewAdminMessage(t,a){_classCallCheck(this,PeerReviewAdminMessage);var e=_possibleConstructorReturn(this,i.call(this,t,a));return e.handleDeleteSubmission=function(){e.setState({isSubmissionDeleted:!0})},e.showOverrideTool=function(){e.setState({showOverrideTool:!0})},e.hideOverrideTool=function(){e.setState({showOverrideTool:!1})},e.showDeletionConfirm=function(){e.setState({showDeletionConfirm:!0})},e.hideDeletionConfirm=function(){e.setState({showDeletionConfirm:!1})},e.submitOverride=function(t,i,a){"loaded"===e.state.gradeOverrideDataState&&t>=0&&100>=t&&(e.setState({gradeOverrideDataState:"submittingOverride",gradeOverrideSubmittedOverride:{grade:t,isPassed:i,explanation:a}}),r.updateOverride({learnerId:e.props.learnerId,courseId:e.props.itemMetadata.get("course.id"),itemId:e.props.itemMetadata.get("id"),grade:t/100,isPassed:i,explanation:a}).then(function(){e.setState({gradeOverrideDataState:"loaded",gradeOverride:{grade:t,isPassed:i,explanation:a},gradeOverrideSubmittedOverride:null,showOverrideTool:!1})})["catch"](function(){e.setState({gradeOverrideDataState:"error",gradeOverrideSubmittedOverride:null})}))},e.removeOverride=function(){e.setState({gradeOverrideDataState:"removingOverride"}),r.removeOverride({learnerId:e.props.learnerId,courseId:e.props.itemMetadata.get("course.id"),itemId:e.props.itemMetadata.get("id")}).then(function(){e.setState({gradeOverrideDataState:"loaded",gradeOverride:null,showOverrideTool:!1})})["catch"](function(){e.setState({gradeOverrideDataState:"error"})})},e.state={showOverrideTool:!1,showDeletionConfirm:!1,isSubmissionDeleted:t.isDeleted,gradeOverrideDataState:"idle",gradeOverride:null,gradeOverrideSubmittedOverride:null},e}return _inherits(PeerReviewAdminMessage,i),PeerReviewAdminMessage.prototype.componentDidMount=function componentDidMount(){var e=this;this.setState({gradeOverrideDataState:"loading"}),r.getOverride({learnerId:this.props.learnerId,courseId:this.props.itemMetadata.get("course.id"),itemId:this.props.itemMetadata.get("id")}).then(function(i){var t=i.elements[0],r=i.linked["userPublicProfiles.v1"][0],a=r&&r.fullName?r.fullName:"Anonymous";e.setState({gradeOverrideDataState:"loaded",gradeOverride:{grade:100*t.grade,isPassed:t.isPassed,explanation:t.explanation,overriderName:a}})})["catch"](function(t){404===t.status?e.setState({gradeOverrideDataState:"loaded"}):e.setState({gradeOverrideDataState:"error"})})},PeerReviewAdminMessage.prototype.renderGradeOverriddenMessage=function renderGradeOverriddenMessage(r){var i=t("The grade for this submission has been adjusted to be passing at {gradePercent}\n        by {overriderName}."),a=t("The grade for this submission has been adjusted to be not passing at {gradePercent}\n        by {overriderName}.");return e.createElement("strong",null,e.createElement(d,{message:r.isPassed?i:a,gradePercent:e.createElement(l,{value:r.grade/100,style:"percent"}),overriderName:r.overriderName}))},PeerReviewAdminMessage.prototype.renderOverrideMessage=function renderOverrideMessage(i,a){var d=this,n=t("adjust the grade"),s=t("adjust the grade again"),r=function renderOverrideToolLink(t){return e.createElement("span",{className:"admin-action",onClick:d.showOverrideTool},t)},o=e.createElement("span",{className:"admin-action",onClick:this.showDeletionConfirm},t("delete the submission"));return i?a?e.createElement("div",null,this.renderGradeOverriddenMessage(i)," ","",t("You may")," ",r(s),"."):e.createElement("div",null,this.renderGradeOverriddenMessage(i)," ","",t("You may")," ",r(s)," or ","",o,"."):a?e.createElement("div",null,t("Even though it has been deleted, as an administrator, you may")," ","",r(n)," ",t("attributed to it"),"."):e.createElement("div",null,t("As an administrator, you may")," ","",r(n)," or ",o,".")},PeerReviewAdminMessage.prototype.renderAdminBox=function renderAdminBox(r){var i=e.createElement("div",null,e.createElement("span",{className:"bold-text"},t("This submission was deleted. It is not available for other learners to review."))),a=m.join(window.location.href.split("/").slice(0,-1)),n=e.createElement("div",null,t("To leave a review"),", ","",e.createElement("a",{href:a},t("view this submission as a learner")),".");switch(this.state.gradeOverrideDataState){case"idle":case"loading":return e.createElement("div",null,t("Loading..."));case"error":return e.createElement("div",null,t("Error loading grade override information."));default:return e.createElement("div",null,this.state.isSubmissionDeleted&&i,this.renderOverrideMessage(r,this.state.isSubmissionDeleted),!this.state.isSubmissionDeleted&&n)}},PeerReviewAdminMessage.prototype.render=function render(){var t="submittingOverride"===this.state.gradeOverrideDataState?this.state.gradeOverrideSubmittedOverride:this.state.gradeOverride;return e.createElement("div",{className:"rc-PeerReviewAdminMessage bt3-alert"},e.createElement("div",{className:"horizontal-box"},e.createElement("div",{className:"kss-modifier--icon admin-warning-outer"},e.createElement("span",{className:"cif-warning admin-warning"})),e.createElement("div",{className:"flex-1"},this.renderAdminBox(t))),this.state.showOverrideTool&&e.createElement(o,{handleClose:this.hideOverrideTool,gradeOverrideDataState:this.state.gradeOverrideDataState,gradeOverride:t,submitOverride:this.submitOverride,removeOverride:this.removeOverride}),this.state.showDeletionConfirm&&e.createElement(s,{handleClose:this.hideDeletionConfirm,itemMetadata:this.props.itemMetadata,api:this.props.api,submissionId:this.props.submissionId,handleDeleteSubmission:this.handleDeleteSubmission}))},PeerReviewAdminMessage}(e.Component),i.propTypes={itemMetadata:e.PropTypes.object.isRequired,isDeleted:e.PropTypes.bool,submissionId:e.PropTypes.string,api:e.PropTypes.object.isRequired,learnerId:e.PropTypes.number},a);module.exports=function(t){function PeerReviewAdminMessageWithPermissions(){return _classCallCheck(this,PeerReviewAdminMessageWithPermissions),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(PeerReviewAdminMessageWithPermissions,t),PeerReviewAdminMessageWithPermissions.prototype.render=function render(){return e.createElement(u,{requestedCapability:p.doAdministrativeAction},e.createElement(v,this.props))},PeerReviewAdminMessageWithPermissions}(e.Component)});
define("bundles/peer/constants/constants",["require","exports","module","i18n!nls/peer"],function(require,exports,module){var e=require("i18n!nls/peer"),r={SHORT_ANSWER_TYPE:"org.coursera.survey.question.ShortAnswerContent",SHORT_ANSWER_RESPONSE_TYPE:"org.coursera.survey.question.ShortAnswerResponse",MULTIPLE_CHOICE_TYPE:"org.coursera.survey.question.MultipleChoiceContent",MULTIPLE_CHOICE_RESPONSE_TYPE:"org.coursera.survey.question.MultipleChoiceResponse"},s={gradeQuestion:{prompt:e("I received a fair and accurate grade for my submission."),options:{answer1:e("Strongly disagree"),answer2:e("Disagree"),answer3:e("Somewhat disagree"),answer4:e("Undecided"),answer5:e("Somewhat agree"),answer6:e("Agree"),answer7:e("Strongly agree")}},reviewQuestion:{prompt:e("I received constructive criticism that points out ways I could improve my submission."),options:{answer1:e("Strongly disagree"),answer2:e("Disagree"),answer3:e("Somewhat disagree"),answer4:e("Undecided"),answer5:e("Somewhat agree"),answer6:e("Agree"),answer7:e("Strongly agree")}},openFeedbackQuestion:{prompt:e("Please tell us any other thoughts or feedback you have on this assignment.")}};module.exports={ReviewSatisfactionSurvey:r,SurveyTranslations:s}});
define("bundles/peer/components/MultipleChoiceQuestion",["require","exports","module","react","classnames","bundles/peer/constants/constants"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var n=s[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),a=require("classnames"),o=require("bundles/peer/constants/constants"),r=o.ReviewSatisfactionSurvey,s=o.SurveyTranslations,i=(n=t=function(t){function MultipleChoiceQuestion(){var o,e,s;_classCallCheck(this,MultipleChoiceQuestion);for(var a=arguments.length,i=Array(a),n=0;a>n;n++)i[n]=arguments[n];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),e.handleSelect=function(t){e.props.onChange({questionId:e.props.question.id,questionType:r.MULTIPLE_CHOICE_RESPONSE_TYPE,newValue:t.target.value})},s=o,_possibleConstructorReturn(e,s)}return _inherits(MultipleChoiceQuestion,t),MultipleChoiceQuestion.prototype.render=function render(){var t=this,n=a("rc-MultipleChoiceQuestion"),o=this.props.question.content[r.MULTIPLE_CHOICE_TYPE];return e.createElement("div",{className:n},e.createElement("div",{className:"question-prompt"},s[this.props.question.id].prompt),e.createElement("div",{className:"horizontal-box"},o.options.map(function(n){return e.createElement("div",{className:"flex-1 align-horizontal-center",key:n.id},e.createElement("div",{className:"caption-text"},s[t.props.question.id].options[n.id]),e.createElement("input",{type:"radio",name:t.props.question.id,value:n.id,className:"c-input",onChange:t.handleSelect}))})))},MultipleChoiceQuestion}(e.Component),t.propTypes={onChange:e.PropTypes.func,enableErrorState:e.PropTypes.bool,question:e.PropTypes.object},n);module.exports=i});
define("bundles/peer/components/ShortAnswerQuestion",["require","exports","module","react","classnames","bundles/peer/constants/constants"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),o=require("classnames"),r=require("bundles/peer/constants/constants"),s=r.ReviewSatisfactionSurvey,a=r.SurveyTranslations,i=(n=t=function(t){function ShortAnswerQuestion(){var r,e,o;_classCallCheck(this,ShortAnswerQuestion);for(var a=arguments.length,i=Array(a),n=0;a>n;n++)i[n]=arguments[n];return r=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),e.handleChange=function(t){e.props.onChange({questionId:e.props.question.id,questionType:s.SHORT_ANSWER_RESPONSE_TYPE,newValue:t.target.value})},o=r,_possibleConstructorReturn(e,o)}return _inherits(ShortAnswerQuestion,t),ShortAnswerQuestion.prototype.render=function render(){var t=o("rc-ShortAnswerQuestion");return e.createElement("div",{className:t},e.createElement("div",{className:"question-prompt"},a[this.props.question.id].prompt),e.createElement("input",{type:"text",className:"short-answer-input",onChange:this.handleChange}))},ShortAnswerQuestion}(e.Component),t.propTypes={onChange:e.PropTypes.func.isRequired,question:e.PropTypes.object.isRequired},n);module.exports=i});

define('css!bundles/peer/components/__styles__/MentorGradedSurvey',[],function(){})
define("bundles/peer/components/MentorGradedSurvey",["require","exports","module","react","bundles/phoenix/template/models/userIdentity","js/lib/setupFluxibleApp","vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent","bundles/naptimejs/stores/NaptimeStore","bundles/ssr/stores/ApplicationStore","naptime","bundles/naptimejs/resources/reviewSatisfactionSurveySectionResponses.v1","bundles/peer/components/MultipleChoiceQuestion","bundles/peer/components/ShortAnswerQuestion","bundles/peer/constants/constants","i18n!nls/peer","js/lib/coursera.store","css!./__styles__/MentorGradedSurvey"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var n=r[t],s=Object.getOwnPropertyDescriptor(o,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,p,r,i,e=require("react"),d=require("bundles/phoenix/template/models/userIdentity"),v=require("js/lib/setupFluxibleApp"),b=require("vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent"),h=require("bundles/naptimejs/stores/NaptimeStore"),c=require("bundles/ssr/stores/ApplicationStore"),l=require("naptime"),s=require("bundles/naptimejs/resources/reviewSatisfactionSurveySectionResponses.v1"),y=require("bundles/peer/components/MultipleChoiceQuestion"),f=require("bundles/peer/components/ShortAnswerQuestion"),m=require("bundles/peer/constants/constants"),o=m.ReviewSatisfactionSurvey,t=require("i18n!nls/peer"),a=require("js/lib/coursera.store");require("css!./__styles__/MentorGradedSurvey");var u=function localStorageKey(e){return"mentorGradedSurveyCompleted."+e},S=(p=n=function(n){function MentorGradedSurvey(t,i){_classCallCheck(this,MentorGradedSurvey);var e=_possibleConstructorReturn(this,n.call(this,t,i));e.updateResponseBody=function(t){var s=t.questionId,n=t.questionType,r=t.newValue;n===o.SHORT_ANSWER_RESPONSE_TYPE?e.state.responseBody.sectionResponse.responses[s][n]={text:r}:e.state.responseBody.sectionResponse.responses[s][n]={id:r}},e.submitResponse=function(){var t=s.update(e.props.survey.id,e.state.responseBody);e.context.executeMutation(t).then(function(t){a.set(u(e.props.itemId),!0),e.setState({showThankYou:!0})}).done()};var r={};return t.survey&&(r.surveyResponseId=t.survey.surveyResponseId,r.sectionResponse={sectionId:t.survey.generatedSectionAndResponses.sectionId,responses:{}},t.survey.generatedSectionAndResponses.section.questions.forEach(function(e){r.sectionResponse.responses[e.id]={}})),e.state={responseBody:r,showThankYou:!1},e}return _inherits(MentorGradedSurvey,n),MentorGradedSurvey.prototype.renderThankYou=function renderThankYou(){return e.createElement("div",{className:"align-horizontal-center"},e.createElement("div",{className:"body-2-text"},t("Thank you for your feedback!")),e.createElement("div",{className:"body-1-text"},t("Your feedback helps us continually improve our courses.")))},MentorGradedSurvey.prototype.renderSurvey=function renderSurvey(){var n=this;return e.createElement("div",null,e.createElement("div",{className:"headline-3-text"},t("Rate your review")),e.createElement("div",null,t("After looking at your review below, please answer the following questions.")),this.props.survey.generatedSectionAndResponses.section.questions.map(function(t){return t.content[o.MULTIPLE_CHOICE_TYPE]?e.createElement(y,{question:t,key:t.id,onChange:n.updateResponseBody}):t.content[o.SHORT_ANSWER_TYPE]?e.createElement(f,{question:t,key:t.id,onChange:n.updateResponseBody}):null}),e.createElement("div",{className:"align-right"},e.createElement("button",{className:"primary",onClick:this.submitResponse},t("Submit"))))},MentorGradedSurvey.prototype.render=function render(){if(!this.props.survey)return null;return e.createElement("div",{className:"rc-MentorGradedSurvey c-peer-card card-rich-interaction comfy"},this.state.showThankYou?this.renderThankYou():this.renderSurvey())},MentorGradedSurvey}(e.Component),n.propTypes={courseId:e.PropTypes.string.isRequired,survey:e.PropTypes.instanceOf(s),itemId:e.PropTypes.string.isRequired},n.contextTypes={executeMutation:e.PropTypes.func.isRequired},p),x=l.createContainer(S,function(e){var t=[d.get("id"),e.courseId,e.itemId].join("~"),n=!a.get(u(e.itemId));return{survey:n&&s.get(t,{fields:["generatedSectionAndResponses","surveyResponseId"]})}}),R=function setupApp(e){return v(e,function(t){return t.registerStore(h),t.registerStore(c),e})};module.exports=(i=r=function(t){function FluxifiedSessionSwitchModal(s,e){_classCallCheck(this,FluxifiedSessionSwitchModal);var n=_possibleConstructorReturn(this,t.call(this,s,e));return n.fluxibleContext=R(e.fluxibleContext),n}return _inherits(FluxifiedSessionSwitchModal,t),FluxifiedSessionSwitchModal.prototype.render=function render(){return e.createElement(b,{context:this.fluxibleContext.getComponentContext()},e.createElement(x,this.props))},FluxifiedSessionSwitchModal}(e.Component),r.contextTypes={fluxibleContext:e.PropTypes.object,executeMutation:e.PropTypes.func},i)});

define('css!bundles/peer/components/__styles__/SurveyModal',[],function(){})
define("bundles/peer/components/SurveyModal",["require","exports","module","jquery","moment","react","underscore","js/lib/coursera.store","bundles/phoenix/components/Modal","i18n!nls/peer","css!./__styles__/SurveyModal.css"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var o=s[t],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===e[o]&&Object.defineProperty(e,o,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o,r,$=require("jquery"),t=require("moment"),e=require("react"),_=require("underscore"),n=require("js/lib/coursera.store"),l=require("bundles/phoenix/components/Modal"),s=require("i18n!nls/peer");require("css!./__styles__/SurveyModal.css");var i=function storageKey(e){return"peerSurveyDismissed."+e},a=(r=o=function(o){function SurveyModal(r,s){_classCallCheck(this,SurveyModal);var e=_possibleConstructorReturn(this,o.call(this,r,s));e.handleClickOpenSurvey=function(){n.set(i(e.props.submissionId),!0),e.setState({showModalIfScrolledEnough:!1})},e.handleClose=function(){e.setState({showModalIfScrolledEnough:!1})},e.handleScroll=_.debounce(function(){var t=$(document).height()-$(window).scrollTop()-$(window).height();350>t&&e.setState({scrolledEnough:!0})},500);var l=n.get(i(r.submissionId)),a=t(r.submissionCreatedAt).isAfter(t().subtract(15,"days"));return e.state={showModalIfScrolledEnough:!l&&a,scrolledEnough:!1},e}return _inherits(SurveyModal,o),SurveyModal.prototype.componentWillMount=function componentWillMount(){$(window).on("scroll",this.handleScroll),this.handleScroll()},SurveyModal.prototype.componentWillUnmount=function componentWillUnmount(){$(window).off("scroll",this.handleScroll)},SurveyModal.prototype.surveyMonkeyParameters=function surveyMonkeyParameters(){var e=this,t=["courseId","itemId","submissionId"];return t.map(function(t){return"c="+encodeURIComponent(t+"="+e.props[t])}).join("&")},SurveyModal.prototype.render=function render(){var t=s("Take a survey to help us improve our assignments.");return e.createElement("div",{className:"rc-SurveyModal"},this.state.showModalIfScrolledEnough&&this.state.scrolledEnough&&e.createElement(l,{handleClose:this.handleClose,modalName:t,type:"popup",className:"dark-bg"},e.createElement("div",{className:"survey-modal-title theme-dark"},e.createElement("h2",{className:"headline-2-text color-primary-text center"},t)),e.createElement("div",{className:"survey-modal-content horizontal-box align-items-spacearound"},e.createElement("a",{className:"link-button primary",href:"https://www.surveymonkey.com/r/VGDJN2X?"+this.surveyMonkeyParameters(),target:"_blank",onClick:this.handleClickOpenSurvey},e.createElement("span",{className:"cif-external-link"})," "+s("Take survey")))))},SurveyModal}(e.Component),o.propTypes={courseId:e.PropTypes.string.isRequired,itemId:e.PropTypes.string.isRequired,submissionCreatedAt:e.PropTypes.number.isRequired,submissionId:e.PropTypes.string.isRequired},r);module.exports=a});
define("bundles/peer/components/ReviewSatisfactionSurvey",["require","exports","module","react","bundles/peer/components/MentorGradedSurvey","bundles/peer/components/SurveyModal","bundles/epic/client"],function(require,exports,module){function _defaults(e,o){for(var n=Object.getOwnPropertyNames(o),r=0;r<n.length;r++){var t=n[r],s=Object.getOwnPropertyDescriptor(o,t);s&&s.configurable&&void 0===e[t]&&Object.defineProperty(e,t,s)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var t,r,e=require("react"),s=require("bundles/peer/components/MentorGradedSurvey"),o=require("bundles/peer/components/SurveyModal"),n=require("bundles/epic/client"),i=(r=t=function(r){function ReviewSatisfactionSurvey(){return _classCallCheck(this,ReviewSatisfactionSurvey),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(ReviewSatisfactionSurvey,r),ReviewSatisfactionSurvey.prototype.render=function render(){var r=n.get("PeerReview","mentorGradingExperimentSessions",{course_id:this.props.courseId}),t=this.props.item.isMentorGraded()||this.props.sessionId&&r.indexOf(this.props.sessionId)>-1;return e.createElement("div",{className:"rc-ReviewSatisfactionSurvey"},t?e.createElement(s,{courseId:this.props.courseId,itemId:this.props.itemId}):e.createElement(o,{courseId:this.props.courseId,itemId:this.props.itemId,submissionCreatedAt:this.props.submissionCreatedAt,submissionId:this.props.submissionId}))},ReviewSatisfactionSurvey}(e.Component),t.propTypes={courseId:e.PropTypes.string.isRequired,sessionId:e.PropTypes.string,itemId:e.PropTypes.string.isRequired,item:e.PropTypes.object.isRequired,submissionId:e.PropTypes.string.isRequired,submissionCreatedAt:e.PropTypes.number.isRequired},r);module.exports=i});
define("pages/open-course/peerReview/views/nls/review",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(i){var s=function(s,i,e){var d=function template(t){var e=[],v={},d,a=t||{};return function(a,i){e.push('<div class="c-review-page bt3-clearfix"><div class="bt3-row"><div data-rc="PeerReviewAdminMessage" class="bt3-col-md-12"></div></div>'),a||e.push('<div class="bt3-row"><div data-rc="ViewAsAdminButton" class="bt3-col-md-12"></div></div>'),e.push('<div data-state="initial-load" class="bt3-row"><div data-js="loading-state" class="bt3-col-md-12"></div></div><div data-state="load-error" class="bt3-row"><div class="bt3-col-md-12">'+(null==(d=i("Error loading project:&nbsp;"))?"":d)+'<span data-js="load-error"></span></div></div><div data-js="review-success-area" class="bt3-row bt3-hide"><div data-state-not="show-submission" class="c-next-review-loading-text bt3-col-md-12">'+s.escape(null==(d=i("Loading the next project..."))?"":d)+'</div></div><div data-js="review-flagged-area" class="bt3-row bt3-hide"><div class="bt3-col-md-12"><div class="c-review-success-area bt3-alert bt3-alert-success">'+s.escape(null==(d=i("The previous submission was successfully flagged. You can review a different submission below."))?"":d)+'</div></div></div><div data-state="show-submission"><div class="c-review-page-container"><div data-js="flashmessage" class="bt3-row"></div><div class="bt3-row bt3-visible-xs bt3-visible-sm"><div class="bt3-col-md-8 bt3-col-md-offset-0 bt3-col-sm-10 bt3-col-sm-offset-1"><div data-js="submission-header-small"></div></div></div><div class="bt3-row"><div data-js="submission-area" class="bt3-col-md-12"><div class="bt3-row"><div class="bt3-col-md-12"><div data-js="submission-container"><div data-js="submission-header" class="bt3-hidden-xs bt3-hidden-sm"></div><div data-rc="ReviewSatisfactionSurvey"></div><div data-js="submission user-generated-content"></div><div data-js="delete-box"></div></div><div data-rc="FormSubmit"></div></div></div><div class="bt3-row"><div class="bt3-col-md-12"><div class="c-peer-card card-rich-interaction"><div data-js="comments"></div></div></div></div></div></div></div></div></div>')}.call(this,"admin"in a?a.admin:"undefined"!=typeof admin?admin:void 0,"_t"in a?a._t:"undefined"!=typeof i?i:void 0),e.join("")};return function(s){return s&&"_t"in s&&(i=s._t.merge(i)),d(s)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/review.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/nls/review"],function(i,d){var e;return s(i,d,e)}):i.jade.templates["pages.open-course.peerReview.views.review"]=s(i.jade.helpers)}(window);
define("pages/open-course/peerReview/views/alerts/nls/noSubmissionsLeft",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var i=function(i,e,t){var n=function template(a){var n=[],o={},t,s=a||{};return function(e){n.push('<div><div data-js="title"></div><div data-js="text">'+i.escape(null==(t=e("You have finished reviewing all the available submissions."))?"":t)+"</div></div>")}.call(this,"_t"in s?s._t:"undefined"!=typeof e?e:void 0),n.join("")};return function(i){return i&&"_t"in i&&(e=i._t.merge(e)),n(i)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/alerts/noSubmissionsLeft.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/alerts/nls/noSubmissionsLeft"],function(e,n){var t;return i(e,n,t)}):e.jade.templates["pages.open-course.peerReview.views.alerts.noSubmissionsLeft"]=i(e.jade.helpers)}(window);
define("bundles/peer/components/ViewAsAdminButton",["require","exports","module","react","i18n!nls/peer","js/lib/path","bundles/peer/components/PeerReviewAdminPermissionChecker","bundles/peer-admin/constants/constants"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var n=i[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),o=require("i18n!nls/peer"),r=require("js/lib/path"),i=require("bundles/peer/components/PeerReviewAdminPermissionChecker"),s=require("bundles/peer-admin/constants/constants"),p=s.PeerAdminCapabilities,a=(n=t=function(t){function ViewAsAdminButton(){return _classCallCheck(this,ViewAsAdminButton),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(ViewAsAdminButton,t),ViewAsAdminButton.prototype.render=function render(){return e.createElement(i,{requestedCapability:p.doAdministrativeAction},e.createElement("a",{href:this.context.router.location.pathname.indexOf("/review/")>-1?r.join(this.props.submissionId,"admin"):r.join("review",this.props.submissionId,"admin")},e.createElement("button",{className:"primary"},o("View as Admin"))))},ViewAsAdminButton}(e.Component),t.propTypes={submissionId:e.PropTypes.string},t.contextTypes={router:e.PropTypes.object},n);module.exports=a});
define("pages/open-course/peerReview/views/review",["require","exports","module","jquery","q","underscore","bundles/page/lib/metatagsAddressBook","bundles/phoenix/lib/view","bundles/phoenix/viewModels/submit","bundles/phoenix/views/loading","js/app/origamiSingleton","js/lib/flashmessage","js/lib/mapProps","js/lib/path","js/lib/coursera.redirect","pages/open-course/common/models/currentSocialProfile","memoize!pages/open-course/common/promises/itemMetadata","pages/open-course/peerReview/comments/models/feedbackCollection","pages/open-course/peerReview/comments/views/main","pages/open-course/peerReview/components/likes/models/likes","pages/open-course/peerReview/components/submissionDelete/views/submissionDelete","pages/open-course/peerReview/components/submissionHeader/views/submissionHeader","pages/open-course/peerReview/components/submissionHeader/views/submissionHeader.reviewMetadata","pages/open-course/peerReview/models/errorTree","pages/open-course/peerReview/promises/reviewQueue","pages/open-course/peerReview/promises/reviewStats","pages/open-course/peerReview/reviewTypes/base/promises/reviews","pages/open-course/peerReview/reviewTypes/getReviewTypeConfig","pages/open-course/peerReview/submissionTypes/base/promises/submissionAndRelated","pages/open-course/peerReview/submissionTypes/getSubmissionTypeConfig","pages/open-course/peerReview/viewModels/review","bundles/peer/components/PeerReviewAdminMessage","bundles/peer/components/ReviewSatisfactionSurvey","pages/open-course/peerReview/views/review.html","pages/open-course/peerReview/views/alerts/noSubmissionsLeft.html","bundles/peer/components/ViewAsAdminButton"],function(require,exports,module){var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},$=require("jquery"),n=require("q"),_=require("underscore"),j=require("bundles/page/lib/metatagsAddressBook"),y=require("bundles/phoenix/lib/view"),f=require("bundles/phoenix/viewModels/submit"),r=require("bundles/phoenix/views/loading"),a=require("js/app/origamiSingleton"),m=require("js/lib/flashmessage"),u=require("js/lib/mapProps"),t=require("js/lib/path"),S=require("js/lib/coursera.redirect"),g=require("pages/open-course/common/models/currentSocialProfile"),w=require("memoize!pages/open-course/common/promises/itemMetadata"),v=require("pages/open-course/peerReview/comments/models/feedbackCollection"),h=require("pages/open-course/peerReview/comments/views/main"),I=require("pages/open-course/peerReview/components/likes/models/likes"),o=require("pages/open-course/peerReview/components/submissionDelete/views/submissionDelete"),i=require("pages/open-course/peerReview/components/submissionHeader/views/submissionHeader"),p=require("pages/open-course/peerReview/components/submissionHeader/views/submissionHeader.reviewMetadata"),s=require("pages/open-course/peerReview/models/errorTree"),M=require("pages/open-course/peerReview/promises/reviewQueue"),R=require("pages/open-course/peerReview/promises/reviewStats"),k=require("pages/open-course/peerReview/reviewTypes/base/promises/reviews"),l=require("pages/open-course/peerReview/reviewTypes/getReviewTypeConfig"),b=require("pages/open-course/peerReview/submissionTypes/base/promises/submissionAndRelated"),T=require("pages/open-course/peerReview/submissionTypes/getSubmissionTypeConfig"),P=require("pages/open-course/peerReview/viewModels/review"),x=require("bundles/peer/components/PeerReviewAdminMessage"),C=require("bundles/peer/components/ReviewSatisfactionSurvey"),D=require("pages/open-course/peerReview/views/review.html"),F=require("pages/open-course/peerReview/views/alerts/noSubmissionsLeft.html"),V=require("bundles/peer/components/ViewAsAdminButton"),e=function getMetadata(e){return function(){return this.itemMetadata.get(e)}},A=y.extend({name:"body",template:D,submissionTransitionDelay:250,events:{'click [data-js="submission"] a[href]':"onLinkClick"},multitracker:{eventingVersion:2,namespace:"",baseValues:["open_course_id","module_id","lesson_id","item_id","submission_id"],definitions:{open_course_id:e("course.id"),module_id:e("lesson.module.id"),lesson_id:e("lesson.id"),item_id:e("id"),submission_id:function submission_id(){return this.submissionId}},events:{render:[],"click.see_comments":[],"click.like":[]}},initialize:function initialize(e){this.initializeOptions(e),this.initializeLikeModel(),this.initializeFeedbackCollection(),this.initializeEvents(),this.stateModel=new P,this.reviewSubmissionViewModel=new f,this.listenTo(this.reviewSubmissionViewModel,"submit",this.onSubmit),this.listenTo(this.reviewSubmissionViewModel,"reported",this.onReported),this.requiredReviewCount=this.itemMetadata.getDefinition("requiredReviewCount"),this.isPhasedPeer="phasedPeer"===this.itemMetadata.getTypeName()},templateOptions:function templateOptions(){return{itemMetadata:this.itemMetadata}},initializeOptions:function initializeOptions(e){_(this).bindAll("transitionToReviewStats","transitionToSubmission","onDeleteSuccess","onSubmissionLoadSuccess","onTransitionPromisesSuccess","onLoadError"),_(this).extend(_(e).pick("api","assignment","eventPrefix","itemMetadata","submissionId","adminMode","itemOutcomeOverrides","sessionId")),this.multitracker=_({}).extend(this.multitracker,{namespace:this.eventPrefix}),this.showBreadcrumbs=e.showBreadcrumbs===!1?!1:!0},initializeLikeModel:function initializeLikeModel(){this.likeModel=new I({api:{like:function like(){},unlike:function unlike(){}}})},initializeFeedbackCollection:function initializeFeedbackCollection(){this.feedbackCollection=new v},initializeEvents:function initializeEvents(){this.listenTo(this.likeModel,"liked",function(){this.track("click.like",{unlike:!1})}),this.listenTo(this.likeModel,"unliked",function(){this.track("click.like",{unlike:!0})})},onSubmit:function onSubmit(){this.transitionToNextSubmission({})},onReported:function onReported(e){this.transitionToNextSubmission({flagged:!0})},transitionElements:function transitionElements(e,i){e.hide(),i.fadeIn("slow")},postRender:function postRender(){this.region.append(r,{to:this.$$("loading-state"),module:r}),m.renderTo(this.$$("flashmessage")),this.submissionId?this.loadSubmission(this.submissionId):this.transitionToNextSubmission({}),j.setMetatags({pageName:"title-and-description",context:{title:this.itemMetadata.getName(),description:this.itemMetadata.get("lesson.module.description")}})},transitionToNextSubmission:function transitionToNextSubmission(e){this.stateModel.transition("show-review-success"),this.$$("review-success-area").toggleClass("bt3-hide",!!e.flagged),this.$$("review-flagged-area").toggleClass("bt3-hide",!e.flagged);var i=R({metadata:this.itemMetadata}),s=M({metadata:this.itemMetadata}),t=[i,s];n.all(t).spread(this.onTransitionPromisesSuccess)["catch"](this.onLoadError).done()},onTransitionPromisesSuccess:function onTransitionPromisesSuccess(o,n){var r=o.get("reviewCount"),e=void 0,i=n.at(0);if(i)e=this.assignment.can("listSubmissions")?t.join(this.itemMetadata.getLink(),"review",i.get("id")):t.join(this.itemMetadata.getLink(),"review-next"),a.router.navigateTo(e,{replace:!0,trigger:!1}),this.transitionToReviewStats(i);else{var s=$(F());m.push({type:"info",title:s.find('[data-js~="title"]').html(),text:s.find('[data-js~="text"]').html()}),e=t.join(this.itemMetadata.getLink(),"give-feedback"),a.router.navigateTo(e,{replace:!0,trigger:!0})}},onDeleteSuccess:function onDeleteSuccess(){S.refresh()},transitionToReviewStats:function transitionToReviewStats(e){this.stateModel.transition("show-review-stats"),setTimeout(_(this.transitionToSubmission).partial(e),this.submissionTransitionDelay)},transitionToSubmission:function transitionToSubmission(e){this.loadSubmission(e.get("id"))},loadSubmission:function loadSubmission(e){var s=this.itemMetadata.get("id"),i=w(["closedPeer","gradedPeer","peer","phasedPeer"],s),t=i.then(function(i){return k(i,e)}),o=i.then(function(i){return b(i,e)}),r=[t,o];n.all(r).spread(this.onSubmissionLoadSuccess)["catch"](this.onLoadError).done()},onSubmissionLoadSuccess:function onSubmissionLoadSuccess(t,e){var i=g.get("userId");this.evaluation=e.evaluation,this.creatorId=e.submission.get("creator").get("userId"),this.isUserSubmission=this.creatorId===i,this.reviewProgress=e.reviewProgress,this.reviews=t,this.reviewSchema=e.reviewSchema,this.reviewsSummary=e.reviewsSummary,this.submission=e.submission,this.submissionId=e.submission.get("id"),this.submissionSchema=e.submissionSchema,this.isSubmissionDeleted=e.isDeleted,this.isUserSubmission||this.adminMode?this.review=null:this.review=_(this.reviews.reviews).find(function(e){return e.get("creator").get("userId")===i});var o={like:_.partial(this.api.likeSubmission,this.itemMetadata,this.submissionId),unlike:_.partial(this.api.undoLikeSubmission,this.itemMetadata,this.submissionId)},s=this.submission.get("votes");this.likeModel.set({likes:s.upVotes,userHasLiked:s.isUpvotedByUser}),this.likeModel.api=o,this.showInlineReviewForm=!this.isUserSubmission&&!this.adminMode,this.showInlineReviewDisplay=this.isUserSubmission||this.adminMode,this.renderSubmission(),this.track("render")},getErrorMessageText:function getErrorMessageText(e){var i=e.responseJSON&&e.responseJSON.message;return i.indexOf("Submission not found:")>-1?"Submission not found. You may need to switch to a different session to view this submission.":i?i:e?e:"Unknown error."},onLoadError:function onLoadError(e){throw this.$$("load-error").text(this.getErrorMessageText(e).toString()),this.stateModel.transition("load-error"),console.error(e,e.stack),e},renderSubmission:function renderSubmission(){return _(this.region.regions).each(function(e,i){e.close(),delete this.region.regions[i]},this),this.appendReviewSatisfactionSurvey(),this.appendSubmission(),this.appendComments(),this.appendDeleteBox(),this.appendTitle(),this.adminMode&&this.appendPeerReviewAdminMessage(),this.adminMode||this.appendViewAsAdminButton(),this.showBreadcrumbs&&this.$$("breadcrumbs").removeClass("bt3-hide"),this.stateModel.transitionIfNot("show-submission"),this},appendReviewSatisfactionSurvey:function appendReviewSatisfactionSurvey(){var e=this.isUserSubmission&&(this.reviewProgress&&this.reviewProgress.isComplete||!this.reviewProgress&&this.reviewCount>=2);e&&this.renderReactInto(C,"ReviewSatisfactionSurvey",{item:this.itemMetadata,courseId:this.itemMetadata.get("course").get("id"),itemId:this.itemMetadata.get("id"),submissionCreatedAt:this.submission.get("createdAt"),submissionId:this.submission.get("id"),sessionId:this.sessionId})},appendPeerReviewAdminMessage:function appendPeerReviewAdminMessage(){this.renderReactInto(x,"PeerReviewAdminMessage",{itemMetadata:this.itemMetadata,isDeleted:this.isSubmissionDeleted,submissionId:this.submission.get("id"),api:this.api,learnerId:this.submission.get("creator.userId")})},appendViewAsAdminButton:function appendViewAsAdminButton(){this.renderReactInto(V,"ViewAsAdminButton",{submissionId:this.submission.get("id")})},appendTitle:function appendTitle(){this.region.append(i,{to:this.$$("submission-header"),initialize:{errorTree:new s,submission:this.submission,itemMetadata:this.itemMetadata,adminMode:this.adminMode,metadataViewConfig:{View:p,initialize:_(_(this).pick("api","itemMetadata","submission","likeModel")).extend({submissionViewModel:this.reviewSubmissionViewModel})}},module:i}),this.region.append(i,{to:this.$$("submission-header-small"),initialize:{errorTree:new s,submission:this.submission,itemMetadata:this.itemMetadata,metadataViewConfig:{View:p,initialize:_(_(this).pick("api","itemMetadata","submission","likeModel")).extend({submissionViewModel:this.reviewSubmissionViewModel})}},module:i})},appendSubmission:function appendSubmission(){var t=this.maybeGetInlineReviewDisplayComponents(),e=this.maybeGetInlineReviewFormComponents();e.FormSubmit&&this.renderReactInto(e.FormSubmit,"FormSubmit",{isMentorGraded:!!this.assignment.get("isMentorGraded")});var i=T(this.submissionSchema.typeName).ReviewView;this.region.append(i,{to:this.$$("submission"),initialize:{DisplayPartsForSubmissionSchemaPartId:t.DisplayPartsForSubmissionSchemaPartId,errorTree:new s,FormPartsForSubmissionSchemaPartId:e.FormPartsForSubmissionSchemaPartId,submission:this.submission,submissionSchema:this.submissionSchema},module:i})},maybeGetInlineReviewDisplayComponents:function maybeGetInlineReviewDisplayComponents(){var e=this;if(!this.showInlineReviewDisplay)return{};var i=function(){var s=l(e.reviewSchema.typeName),i=e.reviewProgress;return!i&&e.reviews.reviews.length>0||i&&i.isComplete?{v:{DisplayPartsForSubmissionSchemaPartId:function DisplayPartsForSubmissionSchemaPartId(i){return u(function(s){return c({reviewSchema:e.reviewSchema,reviewsSummary:e.reviewsSummary,reviews:e.reviews.reviews,submissionSchemaPartId:i},s)})(s.DisplayParts)}}}:{v:{}}}();if("object"===("undefined"==typeof i?"undefined":d(i)))return i.v},maybeGetInlineReviewFormComponents:function maybeGetInlineReviewFormComponents(){var e=this;if(!this.showInlineReviewForm)return{};var i=function(){var i=l(e.reviewSchema.typeName),s=new i.FormViewModel({},{api:e.api,itemMetadata:e.itemMetadata,review:e.review,reviewSchema:e.reviewSchema,submissionId:e.submission.get("id"),submissionViewModel:e.reviewSubmissionViewModel});return{v:{FormSubmit:i.connectToBackboneFormSubmitModel(i.FormSubmit,s),FormPartsForSubmissionSchemaPartId:function FormPartsForSubmissionSchemaPartId(t){return u(function(i){return c({isMentorGraded:!!e.assignment.get("isMentorGraded"),reviewSchema:e.reviewSchema,submissionSchemaPartId:t},i)})(i.connectToBackboneFormSubmitModel(i.FormParts,s))}}}}();if("object"===("undefined"==typeof i?"undefined":d(i)))return i.v},appendComments:function appendComments(){this.region.append(h,{to:this.$$("comments"),initialize:{eventPrefix:this.eventPrefix,api:this.api,itemMetadata:this.itemMetadata,submissionId:this.submissionId,model:this.feedbackCollection,likeModel:this.likeModel},module:h})},appendDeleteBox:function appendDeleteBox(){if(!this.isUserSubmission||this.itemMetadata.isLockedForSubmitting())return;this.region.append(o,{to:this.$$("delete-box"),initialize:{api:this.api,disabled:!this.assignment.can("deleteSubmission"),itemMetadata:this.itemMetadata,submission:this.submission,onDeleteSuccess:this.onDeleteSuccess},module:o})}});module.exports=A});

define('css!bundles/ondemand/components/__styles__/PremiumGradingModal',[],function(){})
define("bundles/ondemand/components/PremiumGradingModal",["require","exports","module","react","pages/open-course/common/constants","js/lib/path","js/components/Imgix","bundles/payments/promises/productPrices","js/app/retracked","bundles/payments/components/RedirectToCheckout","bundles/page/components/TrackedButton","bundles/phoenix/components/Modal","pages/open-course/common/models/itemMetadata","i18n!nls/ondemand","css!./__styles__/PremiumGradingModal"],function(require,exports,module){function _defaults(e,r){for(var a=Object.getOwnPropertyNames(r),t=0;t<a.length;t++){var n=a[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,e=require("react"),s=require("pages/open-course/common/constants").assets.rootPath,i=require("js/lib/path"),a=require("js/components/Imgix"),c=require("bundles/payments/promises/productPrices"),l=require("js/app/retracked"),d=require("bundles/payments/components/RedirectToCheckout"),r=require("bundles/page/components/TrackedButton"),u=require("bundles/phoenix/components/Modal"),m=require("pages/open-course/common/models/itemMetadata"),t=require("i18n!nls/ondemand"),p=i.join(s,"bundles/certificate/assets/images/cert_stamp.png");require("css!./__styles__/PremiumGradingModal");var f=(o=n=function(n){function PremiumGradingModal(){var o,e,r;_classCallCheck(this,PremiumGradingModal);for(var a=arguments.length,s=Array(a),t=0;a>t;t++)s[t]=arguments[t];return o=e=_possibleConstructorReturn(this,n.call.apply(n,[this].concat(s))),e.state={priceAndCurrency:"",redirectToCheckout:!1},e.handleCloseModal=function(){e.props.onClose()},e.onUpgrade=function(){e.setState({redirectToCheckout:!0})},r=o,_possibleConstructorReturn(e,r)}return _inherits(PremiumGradingModal,n),PremiumGradingModal.prototype.componentWillMount=function componentWillMount(){this.courseId=this.props.itemMetadata.get("course.id"),c.getPriceForVC({courseId:this.courseId}).then(function(e){this.setState({priceAndCurrency:e.formattedFinalAmount.formattedString})}.bind(this)).fail(function(e){if(!e.responseJSON)throw e}.bind(this)).done()},PremiumGradingModal.prototype.render=function render(){return e.createElement("div",{className:"rc-PremiumGradingModal"},e.createElement(u,{handleClose:this.handleCloseModal,modalName:"Preview Assignment",trackingName:"preview_assignment"},e.createElement("div",{className:"styleguide container"},e.createElement("div",{className:"horizontal-box"},e.createElement("div",{className:"flex-3"},e.createElement(a,{src:p,alt:"Certificate stamp",width:100})),e.createElement("div",{className:"flex-9"},e.createElement("h3",{className:"title"},t("Preview Assignment?")),e.createElement("p",{className:"body-1-text"},t("This assignment is part of the Certificate option. You can preview as an auditor,\n                    but you'll need to upgrade to submit and receive feedback. Your upgrade includes full\n                    assignment access and the opportunity to earn a shareable Certificate.")))),e.createElement("hr",null),e.createElement("div",{className:"horizontal-box align-items-absolute-center"},e.createElement(r,{className:"passive align-horizontal-center",onClick:this.handleCloseModal,trackingName:"preview_assignment_close"},t("Close")),e.createElement(r,{className:"primary align-horizontal-center",onClick:this.onUpgrade,trackingName:"preview_assignment_upgrade"},t("Upgrade Course"),e.createElement("span",null," ",this.state.priceAndCurrency))),this.state.redirectToCheckout&&e.createElement(d,{courseId:this.courseId,showModal:!1}))))},PremiumGradingModal}(e.Component),n.propTypes={itemMetadata:e.PropTypes.instanceOf(m).isRequired,onClose:e.PropTypes.func.isRequired},o);module.exports=l.createTrackedContainer(function(e){return{moduleId:function moduleId(){return e.itemMetadata.get("lesson.module.id")},lessonId:function lessonId(){return e.itemMetadata.get("lesson.id")},itemId:function itemId(){return e.itemMetadata.get("id")}}})(f)});
define("bundles/ondemand/components/PremiumGradingQuizButton",["require","exports","module","react","naptime","bundles/enroll/components/EnrollModal","bundles/ondemand/components/PremiumGradingModal","bundles/naptimejs/resources/onDemandSpecializations.v1","bundles/naptimejs/stores/NaptimeStore","bundles/ssr/stores/ApplicationStore","pages/open-course/common/models/itemMetadata","vendor/cnpm/fluxible.v0-4/lib/Fluxible","vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent","i18n!nls/ondemand"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var n=s[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),r=require("naptime"),s=require("bundles/enroll/components/EnrollModal"),o=require("bundles/ondemand/components/PremiumGradingModal"),i=require("bundles/naptimejs/resources/onDemandSpecializations.v1"),a=require("bundles/naptimejs/stores/NaptimeStore"),l=require("bundles/ssr/stores/ApplicationStore"),u=require("pages/open-course/common/models/itemMetadata"),c=require("vendor/cnpm/fluxible.v0-4/lib/Fluxible"),p=require("vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent"),d=require("i18n!nls/ondemand"),m=(n=t=function(t){function PremiumGradingQuizButton(){var o,e,r;_classCallCheck(this,PremiumGradingQuizButton);for(var s=arguments.length,i=Array(s),n=0;s>n;n++)i[n]=arguments[n];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),e.state={showModal:!1},e.onClose=function(){return e.setState({showModal:!1})},r=o,_possibleConstructorReturn(e,r)}return _inherits(PremiumGradingQuizButton,t),PremiumGradingQuizButton.prototype.render=function render(){var a=this,t=this.props,r=t.courseId,l=t.itemMetadata,n=t.s12ns,i=n&&n.length?n[0].id:null;return e.createElement("div",{className:"rc-SubmitButton"},e.createElement("button",{className:"c-open-single-page-action-button primary",onClick:function onClick(){return a.setState({showModal:!0})}},d("Upgrade to submit")),this.state.showModal&&(i?e.createElement(s,{courseIdOverride:r,onSdp:!1,s12nId:i,courseId:r,hideFooter:!0,onClose:this.onClose}):e.createElement(o,{itemMetadata:l,onClose:this.onClose})))},PremiumGradingQuizButton}(e.Component),t.propTypes={itemMetadata:e.PropTypes.instanceOf(u).isRequired,s12ns:e.PropTypes.array,courseId:e.PropTypes.string},n),f=r.createContainer(m,function(t){var n=t.itemMetadata,e=n.get("course.id");return{courseId:e,s12ns:i.specializationsByCourse({courseId:e})}});module.exports=function(t){function FluxifiedPremiumGradingQuizButton(){return _classCallCheck(this,FluxifiedPremiumGradingQuizButton),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(FluxifiedPremiumGradingQuizButton,t),FluxifiedPremiumGradingQuizButton.prototype.componentWillMount=function componentWillMount(){var e=new c;e.registerStore(l),e.registerStore(a),this.fluxible=e.createContext()},FluxifiedPremiumGradingQuizButton.prototype.render=function render(){return e.createElement(p,{context:this.fluxible.getComponentContext()},e.createElement(f,this.props))},FluxifiedPremiumGradingQuizButton}(e.Component)});
define("bundles/phoenix/lib/eventDefinitions",["require","exports","module","underscore","bundles/phoenix/template/models/userIdentity"],function(require,exports,module){var _=require("underscore"),e=require("bundles/phoenix/template/models/userIdentity");module.exports={metadata:function metadata(t,e){return e=e||"itemMetadata",function(){return this[e].get(t)}},user:{id:function id(){return e.get("id")}}}});
define("bundles/phoenix/viewModels/input",["require","exports","module","backbone"],function(require,exports,module){var Backbone=require("backbone"),e=Backbone.Model.extend({defaults:{inputDisabled:!1}});module.exports=e});

define('css!pages/open-course/peerReview/components/__styles__/AssignmentUpgradeChanges',[],function(){})
define("pages/open-course/peerReview/components/AssignmentUpgradeChanges",["require","exports","module","react","bundles/phoenix/components/Content","i18n!nls/ondemand","css!./__styles__/AssignmentUpgradeChanges"],function(require,exports,module){function _defaults(e,a){for(var s=Object.getOwnPropertyNames(a),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(a,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,a,e=require("react"),n=require("bundles/phoenix/components/Content"),t=require("i18n!nls/ondemand");require("css!./__styles__/AssignmentUpgradeChanges");var s=(a=r=function(r){function AssignmentUpgradeChanges(){var o,a,i;_classCallCheck(this,AssignmentUpgradeChanges);for(var c=arguments.length,l=Array(c),s=0;c>s;s++)l[s]=arguments[s];return o=a=_possibleConstructorReturn(this,r.call.apply(r,[this].concat(l))),a.renderChange=function(r){if("AddsPart"===r.typeName)return a.renderChangeItem("cif-plus-square",t("Added question."),e.createElement("tr",{className:"bt3-success"},e.createElement("th",null,t("Added")),e.createElement("td",{className:"change-contents"},e.createElement("div",null,e.createElement(n,{assumeStringIsHtml:!0,content:r.definition.prompt})))));if("RemovesPart"===r.typeName)return a.renderChangeItem("cif-minus-square",t("Removed question."),e.createElement("tr",{className:"bt3-danger"},e.createElement("th",null,t("Removed")),e.createElement("td",{className:"change-contents"},e.createElement("div",null,e.createElement(n,{assumeStringIsHtml:!0,content:r.definition.prompt})))));if("ChangesPart"===r.typeName){var s=r.definition.changes,o=s.find(function(e){return"ChangesPrompt"===e.typeName}),i=s.filter(function(e){return"ChangesPrompt"!==e.typeName});return a.renderChangeItem("cif-square",t("Changed question."),[e.createElement("tr",{className:o?"bt3-danger":""},e.createElement("th",null,t("Original")),e.createElement("td",{className:"change-contents"},e.createElement("div",null,e.createElement(n,{assumeStringIsHtml:!0,content:r.definition.prompt})))),o&&a.renderPartChange(o),i.map(a.renderPartChange),0===s.length&&t("Unknown change.")])}},a.renderPartChange=function(r){var s="ChangesPrompt"===r.typeName?t("New"):"",a=!1;return"ChangesPrompt"===r.typeName?a=e.createElement("div",null,e.createElement(n,{assumeStringIsHtml:!0,content:r.definition.newPrompt})):"ChangesPoints"===r.typeName?a=t("The new version of this question has different point values."):"ChangesOptions"===r.typeName?a=t("The new version of this multiple choice question has different options."):"ChangesValidationRules"===r.typeName&&(a=t("The new version of this question allows a different set of responses.")),e.createElement("tr",{className:"ChangesPrompt"===r.typeName?"bt3-success":"bt3-warning"},e.createElement("th",null,s),e.createElement("td",{className:"change-contents"},a))},i=o,_possibleConstructorReturn(a,i)}return _inherits(AssignmentUpgradeChanges,r),AssignmentUpgradeChanges.prototype.excludeNoChangeChanges=function excludeNoChangeChanges(e){return e.filter(function(e){return"NoChange"!==e.typeName})},AssignmentUpgradeChanges.prototype.renderChangeGroup=function renderChangeGroup(n,r){var t=this.excludeNoChangeChanges(n);return 0===t.length?!1:e.createElement("div",null,e.createElement("h2",null,r),e.createElement("ul",{className:"cif-list-ul"},t.map(this.renderChange)))},AssignmentUpgradeChanges.prototype.renderChangeItem=function renderChangeItem(t,n,r){return e.createElement("li",{className:"change-item"},e.createElement("i",{className:t}),e.createElement("span",{className:"type-of-change"},n),e.createElement("div",{className:"change-table-container"},e.createElement("table",{className:"bt3-table"},r)))},AssignmentUpgradeChanges.prototype.render=function render(){return e.createElement("div",{className:"rc-AssignmentUpgradeChanges"},this.renderChangeGroup(this.props.upgradeToCurrentAssignment.submissionSchemaChanges,t("Assignment question changes")),this.renderChangeGroup(this.props.upgradeToCurrentAssignment.reviewSchemaChanges,t("Review question changes")))},AssignmentUpgradeChanges}(e.Component),r.propTypes={upgradeToCurrentAssignment:e.PropTypes.object.isRequired},a);module.exports=s});
define("pages/open-course/peerReview/components/AssignmentUpgradeNotification",["require","exports","module","classnames","react","bundles/phoenix/components/Modal","pages/open-course/peerReview/components/AssignmentUpgradeChanges","i18n!nls/ondemand"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),n=0;n<r.length;n++){var t=r[n],s=Object.getOwnPropertyDescriptor(o,t);s&&s.configurable&&void 0===e[t]&&Object.defineProperty(e,t,s)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var t,s,o=require("classnames"),e=require("react"),r=require("bundles/phoenix/components/Modal"),a=require("pages/open-course/peerReview/components/AssignmentUpgradeChanges"),n=require("i18n!nls/ondemand"),i=(s=t=function(t){function AssignmentUpgradeNotification(){var s,e,o;_classCallCheck(this,AssignmentUpgradeNotification);for(var r=arguments.length,a=Array(r),n=0;r>n;n++)a[n]=arguments[n];return s=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(a))),e.state={modalOpen:!1},e.onClickSeeChanges=function(){e.setState({modalOpen:!0})},e.onClickUpgrade=function(){e.onModalClose(),e.props.onRequestUpgrade()},e.onModalClose=function(){e.setState({modalOpen:!1})},o=s,_possibleConstructorReturn(e,o)}return _inherits(AssignmentUpgradeNotification,t),AssignmentUpgradeNotification.prototype.renderAlert=function renderAlert(){var t=o({"bt3-alert":!0,"bt3-alert-info":!this.props.showStaleAssignmentVersionError,"bt3-alert-danger":this.props.showStaleAssignmentVersionError});return e.createElement("div",{className:t},n("A new version of this assignment exists. You must get the new version to submit. "),e.createElement("a",{onClick:this.onClickSeeChanges,href:"#"},n("Click here to see the changes and get the new version.")))},AssignmentUpgradeNotification.prototype.renderModal=function renderModal(){if(this.state.modalOpen){var o=this.props.upgradeToCurrentAssignment,t=!1,s=!1;return"NotifiesUser"==o.severity?(t=n("Upgrade assignment"),s=e.createElement("p",null,n('\n              The assignment changed since you started working on it. Click\n              "Upgrade assignment" to get the new assignment. Please read the\n              new assignment carefully and update your submission to follow\n              the new instructions.\n            '))):"ClearsSubmission"==o.severity&&(t=n("Delete draft and upgrade assignment"),s=e.createElement("p",null,n("\n              The assignment changed since you started working on it. We need\n              to delete your draft to give you the new assignment.\n            ")," ",e.createElement("strong",null,n("\n                Please save a copy of your submission outside Coursera before\n                continuing.\n              "))," ",n('\n              Click "Delete draft and upgrade assignment" to get the new\n              assignment.\n            '))),e.createElement(r,{handleClose:this.onModalClose,modalName:n("New assignment version")},e.createElement("div",{className:"assignment-upgrade-explanation"},e.createElement("h1",null,n("New assignment version")),s,e.createElement(a,{upgradeToCurrentAssignment:this.props.upgradeToCurrentAssignment}),e.createElement("div",{className:"c-modal-action-bar"},e.createElement("button",{className:"bt3-btn c-modal-action-button",onClick:this.onModalClose},"Cancel"),e.createElement("button",{className:"bt3-btn bt3-btn-success c-modal-action-button",onClick:this.onClickUpgrade},t))))}return!1},AssignmentUpgradeNotification.prototype.render=function render(){var n=this.props.upgradeToCurrentAssignment;return n&&"AutomaticallyUpgrades"!=n.severity?e.createElement("div",{className:"rc-AssignmentUpgradeNotification"},this.renderAlert(),this.renderModal()):!1},AssignmentUpgradeNotification}(e.Component),t.propTypes={onRequestUpgrade:e.PropTypes.func.isRequired,showStaleAssignmentVersionError:e.PropTypes.bool.isRequired,upgradeToCurrentAssignment:e.PropTypes.object},s);module.exports=i});
define("pages/open-course/peerReview/components/alerts/views/nls/alerts",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var r=function(r,e,i){var n=function template(a){var t=[],o={},n,i=a||{};return function(e,i,a){t.push('<div data-js="warning-area" class="bt3-alert bt3-alert-warning">'+(null==(n=e(i))?"":n)+" "+r.escape(null==(n=e("please fix the errors below before submitting."))?"":n)+'</div><div data-js="error-area" class="bt3-alert bt3-alert-danger">'+(null==(n=e(a))?"":n)+" "+r.escape(null==(n=e("please fix the errors below before submitting."))?"":n)+"</div>")}.call(this,"_t"in i?i._t:"undefined"!=typeof e?e:void 0,"warningPrefix"in i?i.warningPrefix:"undefined"!=typeof warningPrefix?warningPrefix:void 0,"errorPrefix"in i?i.errorPrefix:"undefined"!=typeof errorPrefix?errorPrefix:void 0),t.join("")};return function(r){return r&&"_t"in r&&(e=r._t.merge(e)),n(r)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/components/alerts/views/alerts.html',["js/vendor/jade","i18n!pages/open-course/peerReview/components/alerts/views/nls/alerts"],function(e,n){var i;return r(e,n,i)}):e.jade.templates["pages.open-course.peerReview.components.alerts.views.alerts"]=r(e.jade.helpers)}(window);
define("pages/open-course/peerReview/components/alerts/views/alerts",["require","exports","module","underscore","bundles/phoenix/lib/view","pages/open-course/peerReview/components/alerts/views/alerts.html"],function(require,exports,module){var _=require("underscore"),e=require("bundles/phoenix/lib/view"),i=require("pages/open-course/peerReview/components/alerts/views/alerts.html"),r=e.extend({template:i,initialize:function initialize(e){this.initializeOptions(e),this.initializeEvents()},initializeOptions:function initializeOptions(e){this.viewModel=e.viewModel,this.errorPrefix=e.errorPrefix,this.warningPrefix=e.warningPrefix},initializeEvents:function initializeEvents(){this.listenTo(this.viewModel.get("errorTree"),"change",this.renderAlerts),this.listenTo(this.viewModel,"change",this.renderAlerts)},render:function render(){this.$el.html(this.template({errorPrefix:this.errorPrefix,warningPrefix:this.warningPrefix})),this.renderAlerts()},renderAlerts:function renderAlerts(){var i=this.viewModel.get("errorTree"),e=_(i.getAllErrors()).some(_.property("blocksSubmit"));this.$$("warning-area").toggle(e&&this.viewModel.isSeverity("warning")),this.$$("error-area").toggle(e&&this.viewModel.isSeverity("error"))}});module.exports=r});
define("pages/open-course/peerReview/viewModels/submit",["require","exports","module","bundles/phoenix/lib/mixin","js/lib/fsm","backbone","underscore","pages/open-course/peerReview/models/errorTree"],function(require,exports,module){var s=require("bundles/phoenix/lib/mixin"),i=require("js/lib/fsm"),Backbone=require("backbone"),_=require("underscore"),t=require("pages/open-course/peerReview/models/errorTree"),e=Backbone.Model.extend({defaults:{state:"ready"},fsm:{states:["ready","saving","save-error"],transitions:{ready:["saving"],saving:["ready","save-error"],"save-error":["saving"]}},initialize:function initialize(s,e){_(this).bindAll("onSaveSuccess","onSaveFailure"),_(this).extend(_(e).pick("alerts","api","errorTree","inputViewModel","itemMetadata","submission","submissionSchema","upgradeToCurrentAssignment")),this.listenTo(this,"state:change",this.onStateChange)},save:function save(e){this.transition("saving");var s=this.submissionSchema.get("assignmentVersion");return this.api.saveSubmission(this.itemMetadata,this.submission,s).then(_(this.onSaveSuccess).partial(e),this.onSaveFailure)},upgrade:function upgrade(){this.transition("saving");var e=this.submissionSchema.get("assignmentVersion"),s=this.upgradeToCurrentAssignment.upgradeToVersion;return this.api.saveSubmission(this.itemMetadata,this.submission,e,s).then(_(this.onSaveSuccess).partial(!1),this.onSaveFailure)},onSaveSuccess:function onSaveSuccess(i,e){var t=this.submissionSchema.get("assignmentVersion"),n=parseInt(e.submission.versionedAssignmentId.split("@")[1]),s=n!=t;return i||s||(this.errorTree.replace(e.errorTree),this.alerts.set("severity","warning"),this.set("isSaved",!0),this.submission.set(e.submission.definition,{parse:!0}),this.transition("ready")),this.submission.set("isSaved",!0),this.submission.get("parts").each(function(e){e.trigger("onSave")}),this.submission.trigger("onSave"),{assignmentVersionChanged:s}},onSaveFailure:function onSaveFailure(e){if(this.transition("save-error"),!e.responseJSON)throw e;this.trigger("saveError",e.responseJSON)},onStateChange:function onStateChange(){this.inputViewModel.set("inputDisabled",this.isState("saving"))}});s(e.prototype,i.FiniteStateMachine),module.exports=e});
define("bundles/phoenix/lib/renderPlainTextOrCmlContent",["require","exports","module","underscore","bundles/phoenix/lib/renderContentPrivateImplementation"],function(require,exports,module){var _=require("underscore"),e=require("bundles/phoenix/lib/renderContentPrivateImplementation");module.exports=_(e).partial(_,_,_,!1)});
define("pages/open-course/peerReview/views/nls/rubricQuestions",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var i=function(e,i,r){var s=function template(t){var s=[],u={},n,r=t||{};return function(r,i,t){s.push('<div class="c-peer-reviews-sidebar"><div class="c-rubric-questions"><div class="c-rubric-questions-title">'),r?s.push(""+e.escape(null==(n=i("Peers will grade your project using these questions:"))?"":n)):s.push(""+e.escape(null==(n=i("Peers will review your project using these questions:"))?"":n)),s.push("</div>"),function(){var r=t.get("parts").models;if("number"==typeof r.length)for(var i=0,n=r.length;n>i;i++){var u=r[i];s.push("<div"+e.attr("data-rubric-question-index",i,!0,!1)+' class="c-rubric-question"></div>')}else{var n=0;for(var i in r){n++;var u=r[i];s.push("<div"+e.attr("data-rubric-question-index",i,!0,!1)+' class="c-rubric-question"></div>')}}}.call(this),s.push("</div></div>")}.call(this,"isGraded"in r?r.isGraded:"undefined"!=typeof isGraded?isGraded:void 0,"_t"in r?r._t:"undefined"!=typeof i?i:void 0,"schema"in r?r.schema:"undefined"!=typeof schema?schema:void 0),s.join("")};return function(e){return e&&"_t"in e&&(i=e._t.merge(i)),s(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/rubricQuestions.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/nls/rubricQuestions"],function(e,s){var r;return i(e,s,r)}):e.jade.templates["pages.open-course.peerReview.views.rubricQuestions"]=i(e.jade.helpers)}(window);
define("pages/open-course/peerReview/views/rubricQuestions",["require","exports","module","underscore","bundles/phoenix/lib/view","bundles/phoenix/lib/renderPlainTextOrCmlContent","pages/open-course/peerReview/views/rubricQuestions.html"],function(require,exports,module){var _=require("underscore"),e=require("bundles/phoenix/lib/view"),i=require("bundles/phoenix/lib/renderPlainTextOrCmlContent"),t=require("pages/open-course/peerReview/views/rubricQuestions.html"),n=e.extend({template:t,initialize:function initialize(e){_(this).extend(_(e).pick("itemMetadata","schema"))},templateOptions:function templateOptions(){return{isGraded:this.itemMetadata.isGradable(),schema:this.schema}},postRender:function postRender(){var e=this;this.schema.get("parts").each(function(t,n){i(t.get("prompt"),e.$('[data-rubric-question-index="'+n+'"]'))})}});module.exports=n});
define("pages/open-course/peerReview/views/nls/submissionError",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var n=function(n,e,r){var i=function template(o){var i=[],s={},r,t=o||{};return function(e){i.push(""+n.escape(null==(r=e("Error submitting assignment:"))?"":r))}.call(this,"_t"in t?t._t:"undefined"!=typeof e?e:void 0),i.join("")};return function(n){return n&&"_t"in n&&(e=n._t.merge(e)),i(n)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/submissionError.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/nls/submissionError"],function(e,i){var r;return n(e,i,r)}):e.jade.templates["pages.open-course.peerReview.views.submissionError"]=n(e.jade.helpers)}(window);
define("pages/open-course/peerReview/views/nls/submissionWarning",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var n=function(n,e,s){var i=function template(t){var i=[],o={},s,r=t||{};return function(e){i.push(""+n.escape(null==(s=e("Your assignment was saved, but"))?"":s))}.call(this,"_t"in r?r._t:"undefined"!=typeof e?e:void 0),i.join("")};return function(n){return n&&"_t"in n&&(e=n._t.merge(e)),i(n)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/submissionWarning.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/nls/submissionWarning"],function(e,i){var s;return n(e,i,s)}):e.jade.templates["pages.open-course.peerReview.views.submissionWarning"]=n(e.jade.helpers)}(window);
define("pages/open-course/peerReview/views/nls/submit",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var s=function(e,s,t){var n=function template(i){var t=[],d={},n,a=i||{};return function(s,i,d,o,a){t.push('<div class="bt3-row"><div class="bt3-col-md-12"><div data-rc="AssignmentUpgradeNotification"></div><div data-state="save-error" class="bt3-alert bt3-alert-danger">'+e.escape(null==(n=s("Save error. Please try again."))?"":n)+'</div><div data-state="ready" data-js="alerts"></div></div></div><div class="bt3-row">'),i?t.push('<div style="padding: 30px;">'+e.escape(null==(n=s("You haven't submitted this assignment yet. Switch sessions to submit."))?"":n)+"</div>"):d?t.push('<div class="bt3-col-md-offset-4 bt3-col-md-4"><div data-rc="PremiumGradingQuizButton"></div></div>'):(t.push('<div data-js="edit-area" class="bt3-col-md-12"><div class="c-peer-card card-rich-interaction">'),o?t.push('<div data-rc="AssignmentHonorCode" class="submit-page-honor-code-container"></div>'):(t.push('<div data-js="edit"></div><div class="c-peer-review-submit-controls bt3-text-right"><span data-state="saving" data-js="saving"></span><span data-state-not="saving" class="caption-text color-secondary-text"><span data-js="last-save-time-container">'+(null==(n=s("Last saved on&nbsp;"))?"":n)+'<span data-js="last-save-date"></span>'+(null==(n=s("&nbsp;at&nbsp;"))?"":n)+'<span data-js="last-save-time"></span></span><span data-js="not-saved-feedback-container" class="caption-text color-secondary">'+e.escape(null==(n=s("This project has not been saved."))?"":n)+'</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><button data-js="save-button" class="passive">'+e.escape(null==(n=s("Save draft"))?"":n)+"</button><span>&nbsp;&nbsp;</span>"),a&&"AutomaticallyUpgrades"!=a.severity?t.push('<div data-tooltip="You must get the new version of this assignment to submit. Use the link in the blue box above your assignment to get the new version." class="c-peer-review-submit-button-container"><button class="primary bt3-disabled">'+e.escape(null==(n=s("Preview"))?"":n)+"</button></div>"):t.push('<button data-js="preview-button" class="primary">'+e.escape(null==(n=s("Preview"))?"":n)+"</button>"),t.push("</div>")),t.push("</div></div>")),t.push("</div>")}.call(this,"_t"in a?a._t:"undefined"!=typeof s?s:void 0,"isSessionEndedLocked"in a?a.isSessionEndedLocked:"undefined"!=typeof isSessionEndedLocked?isSessionEndedLocked:void 0,"isPremiumGrading"in a?a.isPremiumGrading:"undefined"!=typeof isPremiumGrading?isPremiumGrading:void 0,"showHonorCode"in a?a.showHonorCode:"undefined"!=typeof showHonorCode?showHonorCode:void 0,"upgradeToCurrentAssignment"in a?a.upgradeToCurrentAssignment:"undefined"!=typeof upgradeToCurrentAssignment?upgradeToCurrentAssignment:void 0),t.join("")};return function(e){return e&&"_t"in e&&(s=e._t.merge(s)),n(e)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/submit.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/nls/submit"],function(e,n){var t;return s(e,n,t)}):e.jade.templates["pages.open-course.peerReview.views.submit"]=s(e.jade.helpers)}(window);
define("pages/open-course/peerReview/views/submit",["require","exports","module","moment","origami","underscore","bundles/ondemand/components/PremiumGradingQuizButton","bundles/ondemand/components/assignments/AssignmentHonorCode","bundles/ondemand/utils/assignmentVerificationTest","bundles/phoenix/lib/eventDefinitions","bundles/phoenix/lib/view","bundles/phoenix/viewModels/input","bundles/phoenix/views/loading","js/app/scrollTrackerSingleton","js/lib/path","js/lib/coursera.redirect","pages/open-course/peerReview/components/AssignmentUpgradeNotification","pages/open-course/peerReview/components/alerts/views/alerts","pages/open-course/peerReview/submissionTypes/getSubmissionTypeConfig","pages/open-course/peerReview/viewModels/submit","pages/open-course/peerReview/views/rubricQuestions","pages/open-course/peerReview/views/submissionError.html","pages/open-course/peerReview/views/submissionWarning.html","pages/open-course/peerReview/views/submit.html"],function(require,exports,module){var i=require("moment"),m=require("origami"),_=require("underscore"),a=require("bundles/ondemand/components/PremiumGradingQuizButton"),s=require("bundles/ondemand/components/assignments/AssignmentHonorCode"),l=require("bundles/ondemand/utils/assignmentVerificationTest"),w=l.inHonorCodeVariant,e=require("bundles/phoenix/lib/eventDefinitions"),r=require("bundles/phoenix/lib/view"),d=require("bundles/phoenix/viewModels/input"),t=require("bundles/phoenix/views/loading"),p=require("js/app/scrollTrackerSingleton"),M=require("js/lib/path"),h=require("js/lib/coursera.redirect"),c=require("pages/open-course/peerReview/components/AssignmentUpgradeNotification"),n=require("pages/open-course/peerReview/components/alerts/views/alerts"),v=require("pages/open-course/peerReview/submissionTypes/getSubmissionTypeConfig"),g=require("pages/open-course/peerReview/viewModels/submit"),o=require("pages/open-course/peerReview/views/rubricQuestions"),b=require("pages/open-course/peerReview/views/submissionError.html"),S=require("pages/open-course/peerReview/views/submissionWarning.html"),f=require("pages/open-course/peerReview/views/submit.html"),u=r.extend({name:"body",template:f,stateModelProperty:"viewModel",events:{'click [data-js="save-button"]':"save",'click [data-js="preview-button"]':"preview"},multitracker:{eventingVersion:2,namespace:"open_course_item.peer_review_my_project",baseValues:["open_course_id","module_id","lesson_id","item_id"],definitions:{open_course_id:e.metadata("course.id"),module_id:e.metadata("lesson.module.id"),lesson_id:e.metadata("lesson.id"),item_id:e.metadata("id"),title:function title(){return this.submission.get("title")}},events:{render:[],"click.save":[],"click.preview":["title"]}},initialize:function initialize(e){this.initializeOptions(e),this.initializeViewModels(),this.initializeEvents(),this.submissionTypeConfig=v(this.submissionSchema.typeName),this.lastSaveTime=this.submission.get("createdAt"),this.isSaved=this.submission.get("isSaved"),this.isPremiumGrading=this.itemMetadata.isPremiumGradingLocked(),this.isSessionEndedLocked=this.itemMetadata.isSessionEndedLocked();var i=this.fluxibleContext.getComponentContext().getStore("SessionStore"),t=this.fluxibleContext.getComponentContext().getStore("CourseStore");this.showHonorCode=this.itemMetadata.isGradable()&&w(i.getSessionId(),t.getCourseId())&&!s.hasAcceptedHonorCode(this.itemMetadata.get("id"))},initializeOptions:function initializeOptions(e){_(this).bindAll("onPreviewSaveSuccess","onRequestUpgrade","onSaveSuccess","updateSaveState"),_(this).extend(_(e).pick("alerts","api","errorTree","itemMetadata","reviewSchema","showStaleAssignmentVersionError","privilegedRoleViewReviewSchema","submission","submissionSchema","upgradeToCurrentAssignment"))},initializeViewModels:function initializeViewModels(){this.inputViewModel=new d,this.viewModel=new g({},{alerts:this.alerts,api:this.api,errorTree:this.errorTree,inputViewModel:this.inputViewModel,isSaved:this.isSaved,itemMetadata:this.itemMetadata,submission:this.submission,submissionSchema:this.submissionSchema,upgradeToCurrentAssignment:this.upgradeToCurrentAssignment})},initializeEvents:function initializeEvents(){this.listenTo(this.inputViewModel,"change:inputDisabled",this.updateInputs),this.listenTo(this,"view:appended",this.onAppendedView)},onAppendedView:function onAppendedView(){p.scroll(0)},renderSubviews:function renderSubviews(){this.showHonorCode&&!this.isPremiumGrading&&this.renderReactInto(s,"AssignmentHonorCode",{onHonorCodeAccept:this.onHonorCodeAccept.bind(this),itemId:this.itemMetadata.getId()}),this.renderReactInto(c,"AssignmentUpgradeNotification",{onRequestUpgrade:this.onRequestUpgrade,showStaleAssignmentVersionError:this.showStaleAssignmentVersionError,upgradeToCurrentAssignment:this.upgradeToCurrentAssignment}),this.isPremiumGrading&&this.renderReactInto(a,"PremiumGradingQuizButton",{itemMetadata:this.itemMetadata}),this.region.append(this.submissionTypeConfig.EditView,{to:this.$$("edit"),initialize:{errorTree:this.errorTree,inputViewModel:this.inputViewModel,isPremiumGrading:this.isPremiumGrading,itemMetadata:this.itemMetadata,model:this.submission,reviewSchema:this.reviewSchema,privilegedRoleViewReviewSchema:this.privilegedRoleViewReviewSchema,submissionSchema:this.submissionSchema}}),this.region.append(t,{to:this.$$("saving"),initialize:{text:"saving"},module:t}),this.region.append(n,{to:this.$$("alerts"),initialize:{viewModel:this.alerts,errorPrefix:b(),warningPrefix:S()},module:n}),"closedPeer"!==this.itemMetadata.getTypeName()&&this.region.append(o,{to:this.$$("rubric-questions"),initialize:{itemMetadata:this.itemMetadata,schema:this.reviewSchema},module:o})},onHonorCodeAccept:function onHonorCodeAccept(){this.showHonorCode=!1,this.render()},postRender:function postRender(){this.updateSaveState()},updateInputs:function updateInputs(i,e){this.$("button.bt3-btn").attr("disabled",e)},updateSaveState:function updateSaveState(){this.$$("last-save-time-container").toggle(this.isSaved),this.$$("last-save-date").text(i(this.lastSaveTime).format("LL")),this.$$("last-save-time").text(i(this.lastSaveTime).format("h:mma")),this.$$("not-saved-feedback-container").toggle(!this.isSaved)},save:function save(){this.track("click.save"),this.viewModel.save(!1).then(this.onSaveSuccess).done()},preview:function preview(){this.track("click.preview"),this.viewModel.save(!0).then(this.onPreviewSaveSuccess).done()},onSaveSuccess:function onSaveSuccess(e){e.assignmentVersionChanged?h.refresh():(this.isSaved=!0,this.lastSaveTime=(new Date).getTime(),this.updateSaveState())},onPreviewSaveSuccess:function onPreviewSaveSuccess(){var e=M.join(this.itemMetadata.getLink(),"submit/preview");m.router.navigate(e,{replace:!1,trigger:!0})},onRequestUpgrade:function onRequestUpgrade(){this.track("click.upgrade",{severity:this.upgradeToCurrentAssignment.severity}),this.viewModel.upgrade().then(this.onSaveSuccess).done()}});module.exports=u});
define("bundles/ondemand/actions/CourseActions",["require","exports","module","underscore","js/lib/api","q","pages/open-course/common/promises/courseMaterials"],function(require,exports,module){var _=require("underscore"),e=require("js/lib/api"),r=require("q"),s=require("pages/open-course/common/promises/courseMaterials"),o=e("/api/domains.v1",{type:"rest"});exports.loadCourseMaterials=function(e,r){var o=r.courseSlug;return s(o).then(function(r){var s=r.rawCourseMaterials,o=e.getStore("CourseStore").rawCourseMaterials;e.getStore("CourseStore").loaded&&_.isEqual(o,s)||e.dispatch("LOAD_COURSE_MATERIALS",r)})},exports.loadDomains=function(e){return r(o.get("?fields=id,name")).then(function(r){e.dispatch("LOAD_DOMAINS",r.elements)})},exports.setCourseIdentifiers=function(o,e){var r=e.courseId,s=e.courseSlug;if(!r)throw new Error("Missing courseId");if(!s)throw new Error("Missing courseSlug");o.dispatch("SET_COURSE_IDENTIFIERS",{courseId:r,courseSlug:s})}});
define("nls/catalog",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/catalog/components/TwitterShareButton",["require","exports","module","naptime","react","underscore","bundles/naptimejs/resources/courses.v1","bundles/naptimejs/resources/partners.v1","js/lib/language","i18n!nls/catalog"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,s,c,a=require("naptime"),e=require("react"),_=require("underscore"),t=require("bundles/naptimejs/resources/courses.v1"),u=require("bundles/naptimejs/resources/partners.v1"),d=require("js/lib/language"),r=require("i18n!nls/catalog"),p=" via @coursera".length,l=130,f=(o=n=function(t){function TwitterShareButton(){return _classCallCheck(this,TwitterShareButton),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(TwitterShareButton,t),TwitterShareButton.prototype.getPartnerTwitterNames=function getPartnerTwitterNames(){var e=this.props.partners;return e&&e.length>0?_(e).reduce(function(t,r){var e=r.links;if(e&&e.twitter){var n=""===t?"@":" & @";return t+n+e.twitter}return""},""):""},TwitterShareButton.prototype.getTwitterText=function getTwitterText(){var e=this.props.course,t=e.name,s=e.fullLink,n=this.getPartnerTwitterNames();if(n){var o=r("I'm taking "+t+" from "+n+"!");if(o.length+p+(s.length+1)<=l)return o}return r("I'm taking "+t+"!")},TwitterShareButton.prototype.render=function render(){var t=this.props.course.fullLink;return e.createElement("div",{className:"rc-TwitterShareButton"},e.createElement("a",{className:"twitter-share-button",href:"https://twitter.com/share","data-url":t,"data-via":"coursera","data-lang":d.getLanguageCode(),"data-text":this.getTwitterText()},r("Tweet")))},TwitterShareButton}(e.Component),n.propTypes={course:e.PropTypes.instanceOf(t).isRequired,partners:e.PropTypes.arrayOf(e.PropTypes.instanceOf(u))},o),i=a.createContainer(f,function(e){return{partners:e.course&&e.course.partnerIds&&u.multiGet(e.course.partnerIds,{fields:["links"]})||void 0}}),h=(c=s=function(t){function TwitterShareButtonPartners(){return _classCallCheck(this,TwitterShareButtonPartners),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(TwitterShareButtonPartners,t),TwitterShareButtonPartners.prototype.render=function render(){return e.createElement(i,{course:this.props.course})},TwitterShareButtonPartners}(e.Component),s.propTypes={course:e.PropTypes.instanceOf(t).isRequired},c);module.exports=a.createContainer(h,function(e){return{course:t.get(e.courseId,{fields:["name","partnerIds"],subcomponents:[i]})}})});

define('css!bundles/catalog/components/__styles__/ShareCourseButtons',[],function(){})
define("bundles/catalog/components/ShareCourseButtons",["require","exports","module","jquery","naptime","react-dom","react","bundles/catalog/components/TwitterShareButton","bundles/iconfont/Icon","bundles/naptimejs/resources/courses.v1","bundles/socialPlugins/lib","bundles/page/components/TrackedLink2","js/lib/language","i18n!nls/catalog","css!./__styles__/ShareCourseButtons"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var o=s[t],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===e[o]&&Object.defineProperty(e,o,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,n,$=require("jquery"),a=require("naptime"),c=require("react-dom"),e=require("react"),o=require("bundles/catalog/components/TwitterShareButton"),u=require("bundles/iconfont/Icon"),s=require("bundles/naptimejs/resources/courses.v1"),i=require("bundles/socialPlugins/lib"),l=require("bundles/page/components/TrackedLink2"),p=l.TrackedA,m=require("js/lib/language"),t=require("i18n!nls/catalog");require("css!./__styles__/ShareCourseButtons");var d=(n=r=function(r){function ShareCourseButtons(){return _classCallCheck(this,ShareCourseButtons),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(ShareCourseButtons,r),ShareCourseButtons.prototype.componentDidMount=function componentDidMount(){i.load($(c.findDOMNode(this)))},ShareCourseButtons.prototype.renderFacebookShareButton=function renderFacebookShareButton(){var t=this.props.course.fullLink;return e.createElement("div",{className:"fb-share-button","data-layout":"button_count","data-href":t,"data-js":"facebook-share"})},ShareCourseButtons.prototype.renderGoogleShareButton=function renderGoogleShareButton(){var t=this.props.course.fullLink;return e.createElement("div",{className:"g-plusone","data-size":"medium","data-annotation":"bubble","data-href":t})},ShareCourseButtons.prototype.renderWechatShareButton=function renderWechatShareButton(){var t=this.props.course,o=t.fullLink;return e.createElement("div",{className:"wechat-share-button","data-link":o,"data-imgurl":t.photoUrl,"data-title":t.name,"data-description":t.desc60})},ShareCourseButtons.prototype.renderEmailButton=function renderEmailButton(){var o=this.props.course,r=this.props.course.fullLink,n=t("Check out the #{courseName} course on Coursera",{courseName:o.name}),s=t("I thought you'd be interested in the #{courseName} course on Coursera. Go to #{courseLink}",{courseName:o.name,courseLink:r}),a="mailto:?subject="+n+"&body="+s;return e.createElement(p,{trackingName:"email_share_button",href:a,className:"nostyle"},e.createElement(u,{name:"envelope-o",className:"cif-lg"}),t("Email"))},ShareCourseButtons.prototype.render=function render(){var r=this.props,n=r.course,s=r.doubleRow,t=s?"share-course-button bt3-col-xs-4":"share-course-button bt3-col-xs-6";return e.createElement("div",{className:"rc-ShareCourseButtons bt3-row"},e.createElement("div",{className:t},this.renderFacebookShareButton()),e.createElement("div",{className:t},this.renderGoogleShareButton()),e.createElement("div",{className:t},e.createElement(o,{courseId:n.id})),e.createElement("div",{className:t},this.renderWechatShareButton()),e.createElement("div",{className:t},this.renderEmailButton()))},ShareCourseButtons}(e.Component),r.propTypes={course:e.PropTypes.instanceOf(s).isRequired,doubleRow:e.PropTypes.bool},n);module.exports=a.createContainer(d,function(e){return{course:s.get(e.courseId,{fields:["name","slug","description","photoUrl","desc60"],subcomponents:[o]})}})});
define("bundles/finaid/constants",["require","exports","module","js/app/config","js/lib/imgix","js/lib/path"],function(require,exports,module){var n=require("js/app/config"),e=require("js/lib/imgix"),i=require("js/lib/path"),o="/finaid",s=i.join(o,"course"),t="",a="undefined"!=typeof window&&window.location.pathname.match(/^(\/(?:learn|tools\/yoda|teach|certificate|finaid\/course))(?:\/([^\/]*))?/);a&&a.length>2&&void 0!==a[2]&&(t=a[2]),module.exports={rootPath:o,finaidLandingPagePathWithSlug:function finaidLandingPagePathWithSlug(n){return i.join(s,n)},applyForFinaidPath:function applyForFinaidPath(n){return i.join(s,n,"apply")},finaidApplicationSuccessPath:i.join(s,t,"success"),confirmationIcon:e.processImage(i.join(n.url.assets,"/images/finaid/finaid_icon.png")),landingBackgroundImage:e.processImage(i.join(n.url.assets,"/images/finaid/finaid_background.png")),finaidApplicationIcon:i.join(n.url.assets,"bundles/finaid/assets/finaid-application.png"),finaidDeadlineIcon:i.join(n.url.assets,"bundles/finaid/assets/finaid-deadline.png")}});
define("bundles/certificate-enroll/components/FinaidLink",["require","exports","module","react","bundles/catalogP/models/course","bundles/epic/client","bundles/finaid/constants","bundles/naptimejs/resources/courses.v1","bundles/payments/components/RedirectToCheckout","js/app/loggerSingleton","js/lib/coursera.react-intl","js/lib/coursera.redirect","bundles/page/components/TrackedOnLinkClick","i18n!nls/certificate-enroll","pages/open-course/common/models/course"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),o=require("bundles/catalogP/models/course"),s=require("bundles/epic/client"),i=require("bundles/finaid/constants"),r=require("bundles/naptimejs/resources/courses.v1"),a=require("bundles/payments/components/RedirectToCheckout"),c=require("js/app/loggerSingleton"),l=require("js/lib/coursera.react-intl"),p=l.FormattedHTMLMessage,u=require("js/lib/coursera.redirect"),d=require("bundles/page/components/TrackedOnLinkClick"),f=d.TrackedOnLinkClickSpan,h=require("i18n!nls/certificate-enroll"),g=require("pages/open-course/common/models/course"),m=(n=t=function(t){function FinaidLink(){var r,e,o;_classCallCheck(this,FinaidLink);for(var a=arguments.length,c=Array(a),n=0;a>n;n++)c[n]=arguments[n];return r=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(c))),e.state={redirectToFinaid:!1},e.handleClick=function(t){var n=e.getCourseData();if("A"===t.target.tagName){var r=s.get("Finaid","showMultistepFinaidApplication");r?u.setLocation(i.finaidLandingPagePathWithSlug(n.slug)):e.setState({redirectToFinaid:!0})}},o=r,_possibleConstructorReturn(e,o)}return _inherits(FinaidLink,t),FinaidLink.prototype.getCourseData=function getCourseData(){return this.props.course||{id:this.context.course.get("id"),slug:this.context.course.get("slug")}},FinaidLink.prototype.render=function render(){if(!this.props.course&&!this.context.course)return c.error("Cannot render finaid link without course"),!1;var t=this.getCourseData();return e.createElement("div",{className:"rc-FinaidLink"},e.createElement("p",{className:"caption-text",onClick:this.handleClick},e.createElement(f,{trackingName:"finaid"},this.props.children||e.createElement(p,{message:h('Financial Aid is available for learners who cannot afford the fee.\n                  <a href="#">Learn more and apply.</a>')}))),this.state.redirectToFinaid&&e.createElement(a,{courseId:this.props.isSpark?this.props.selectedSessionId:t.id,showModal:!1,shouldOpenFinaid:!0,isSpark:this.props.isSpark}))},FinaidLink}(e.Component),t.propTypes={children:e.PropTypes.any,isSpark:e.PropTypes.bool,selectedSessionId:e.PropTypes.string,course:e.PropTypes.instanceOf(r)},t.contextTypes={course:e.PropTypes.oneOfType([g,o])},t.defaultProps={isSpark:!1},n);module.exports=m});
define("nls/certificate",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define('css!bundles/certificate/components/__styles__/CertificatePromoBox',[],function(){})
define("bundles/certificate/components/CertificatePromoBox",["require","exports","module","react","bundles/page/components/TrackedLink2","bundles/iconfont/Icon","js/components/Imgix","i18n!nls/certificate","pages/open-course/common/constants","css!./__styles__/CertificatePromoBox"],function(require,exports,module){function _defaults(e,o){for(var c=Object.getOwnPropertyNames(o),t=0;t<c.length;t++){var r=c[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,n,e=require("react"),o=require("bundles/page/components/TrackedLink2"),c=o.TrackedA,a=require("bundles/iconfont/Icon"),s=require("js/components/Imgix"),t=require("i18n!nls/certificate"),i=require("pages/open-course/common/constants");require("css!./__styles__/CertificatePromoBox");var l=(n=r=function(r){function CertificatePromoBox(){return _classCallCheck(this,CertificatePromoBox),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(CertificatePromoBox,r),CertificatePromoBox.prototype.render=function render(){return e.createElement("div",{className:"c-welcome-rounded-box rc-CertificatePromoBox"},e.createElement(c,{trackingName:"certificate_available_learn_more",href:this.props.href,className:"nostyle"},e.createElement("h2",{className:"headline-3-text"},t("Certificate Available For Learners")),e.createElement(s,{alt:"certificate logo",src:i.certLogoWithBlueBackground,width:120}),e.createElement("p",{className:"body-1-text"},t("Complete this course and showcase your success with a Certificate - it's trusted, secure and issued by Coursera.")),e.createElement("p",{className:"body-2-text"},e.createElement("span",{className:"c-cpb-main-link horizontal-box align-items-absolute-center"},t("Learn more about Certificates"),"  ",e.createElement(a,{name:"chevron-right"})))))},CertificatePromoBox}(e.Component),r.propTypes={href:e.PropTypes.string.isRequired},n);module.exports=l});


define('css!bundles/content-feedback/components/rating/__styles__/CourseRatingHeader',[],function(){})
define("bundles/content-feedback/components/rating/CourseRatingHeader",["require","exports","module","react","js/components/Imgix","css!./__styles__/CourseRatingHeader"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,e=require("react"),o=require("js/components/Imgix");require("css!./__styles__/CourseRatingHeader");var n=(r=t=function(t){function CourseRatingHeader(){return _classCallCheck(this,CourseRatingHeader),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(CourseRatingHeader,t),CourseRatingHeader.prototype.render=function render(){var t=void 0,n="",a="",s="";if(this.props.catalogPCourse){var r=this.props.catalogPCourse;if(r.get)n=r.get("photoUrl"),t=r.get("partners"),a=t?t.at(0).get("name"):"",s=r.get("name");else{var i=r;n=i.photoUrl,s=i.name}}else{var c=this.props.openCourse;n=c.get("promoPhoto"),t=c.get("universities"),a=t.models&&t.models[0]&&t.models[0].get("name")||"",s=c.get("name")}return e.createElement("div",{className:"rc-CourseRatingHeader"},e.createElement(o,{width:200,alt:o.DECORATIVE,imgParams:{fit:"fit"},src:n,className:"c-course-rating-header-img"}),e.createElement("div",{className:"c-course-rating-header-content"},e.createElement("div",{className:"body-2-text"},a),e.createElement("h3",null,s)))},CourseRatingHeader}(e.Component),t.propTypes={catalogPCourse:e.PropTypes.object,openCourse:e.PropTypes.object},r);module.exports=n});

define('css!bundles/content-feedback/components/rating/__styles__/CourseRatingIcons',[],function(){})
define("bundles/content-feedback/components/rating/CourseRatingIcons",["require","exports","module","classnames","react","css!./__styles__/CourseRatingIcons"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,r=require("classnames"),e=require("react");require("css!./__styles__/CourseRatingIcons");var o=(n=t=function(t){function CourseRatingIcons(){var r,e,o;_classCallCheck(this,CourseRatingIcons);for(var s=arguments.length,a=Array(s),n=0;s>n;n++)a[n]=arguments[n];return r=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(a))),e.state={highlightValue:-1},e.handleMouseLeave=function(){e.setState({highlightValue:-1})},o=r,_possibleConstructorReturn(e,o)}return _inherits(CourseRatingIcons,t),CourseRatingIcons.prototype.handleMouseOver=function handleMouseOver(e){this.setState({highlightValue:e})},CourseRatingIcons.prototype.handleSelect=function handleSelect(e){this.setState({highlightValue:-1}),this.props.onSelect&&this.props.onSelect(e)},CourseRatingIcons.prototype.renderIcon=function renderIcon(t,o){var a=this,n=t<=this.state.highlightValue,s=this.state.highlightValue>-1,i=t%1!==0,c=r("c-course-rating-icon",{"cif-star":n||o&&!s&&!i,"cif-star-half-empty":!n&&o&&!s&&i,"cif-star-o":!n&&(!o||s),highlight:n});return e.createElement("i",{key:t,className:c,onMouseOver:!this.props.readOnly&&function(){return a.handleMouseOver(t)},onClick:function onClick(){return a.handleSelect(t)}})},CourseRatingIcons.prototype.render=function render(){var t=this,n=r("rc-CourseRatingIcons",this.props.size,{"read-only":this.props.readOnly}),o=CourseRatingIcons.getRatingDistribution(this.props.value);return e.createElement("div",{className:n,onMouseLeave:this.handleMouseLeave},o.map(function(e){var n=e.value,r=e.selected;return t.renderIcon(n,r)}))},CourseRatingIcons}(e.Component),t.propTypes={onSelect:e.PropTypes.func,readOnly:e.PropTypes.bool,value:e.PropTypes.number.isRequired,size:e.PropTypes.oneOf(["small","large"])},t.defaultProps={size:"small",readOnly:!0},t.getRatingDistribution=function(r){var e=.5,t=[],n=Math.round(2*r)/2;for(5!==r&&(n=Math.min(n,4.5));n>=e;){var o=e%1!==0;o?e+.5>n?(t.push({value:e,selected:!0}),e+=1):e+=.5:(t.push({value:e,selected:!0}),e+=.5)}for(e%1!==0&&(e+=.5);5>=e;)t.push({value:e,selected:!1}),e+=1;return t},n);module.exports=o});
define("bundles/content-feedback/models/CourseRatingStats",["require","exports","module","underscore"],function(require,exports,module){function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var _=require("underscore"),t=function(){function CourseRatingStats(n){var t=this;_classCallCheck(this,CourseRatingStats),this.counts=n,this.totalCount=0,this.averageRating=0,_(this.counts).each(function(n,e){t.totalCount=t.totalCount+n,t.averageRating=t.averageRating+e*n}),this.averageRating=parseFloat((this.averageRating/this.totalCount).toFixed(1))}return CourseRatingStats.prototype.getCount=function getCount(t){return this.counts[t.value]||0},CourseRatingStats.prototype.getPercent=function getPercent(t){if(!this.totalCount)return 0;return Math.round(this.getCount(t)/this.totalCount*100)},CourseRatingStats}();module.exports=t});
define("nls/content-feedback",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/content-feedback/components/rating-dashboard/__styles__/AverageCourseRating',[],function(){})
define("bundles/content-feedback/components/rating-dashboard/AverageCourseRating",["require","exports","module","react","bundles/content-feedback/components/rating/CourseRatingIcons","bundles/content-feedback/models/CourseRatingStats","js/lib/coursera.react-intl","i18n!nls/content-feedback","css!./__styles__/AverageCourseRating"],function(require,exports,module){function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),t=0;t<a.length;t++){var n=a[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),o=require("bundles/content-feedback/components/rating/CourseRatingIcons"),a=require("bundles/content-feedback/models/CourseRatingStats"),r=require("js/lib/coursera.react-intl"),s=r.FormattedNumber,c=r.FormattedHTMLMessage,i=require("i18n!nls/content-feedback");require("css!./__styles__/AverageCourseRating");var u=(n=t=function(t){function AverageCourseRating(){return _classCallCheck(this,AverageCourseRating),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(AverageCourseRating,t),AverageCourseRating.prototype.render=function render(){var n=this.props.courseRatingStats,t=n.averageRating,r=n.totalCount;return e.createElement("div",{className:"rc-AverageCourseRating"},e.createElement("div",{className:"c-average-course-rating-icons"},e.createElement(o,{value:t,size:"large"}),this.props.showCount&&e.createElement("h2",{className:"c-course-rating-count"},e.createElement(s,{value:r}))),!!t&&e.createElement("div",{className:"c-average-course-rating-stats"},e.createElement(c,{message:i("<strong>{value}</strong> out of 5"),value:t})))},AverageCourseRating}(e.Component),t.propTypes={courseRatingStats:e.PropTypes.instanceOf(a).isRequired,showCount:e.PropTypes.bool},t.defaultProps={showCount:!0},n);module.exports=u});
define("bundles/content-feedback/api/courseFeedbackCountsAPI",["require","exports","module","js/lib/api"],function(require,exports,module){var e=require("js/lib/api"),s=new e("/api/courseFeedbackCounts.v1",{type:"rest"});module.exports=s});
define("bundles/content-feedback/api/courseFeedbackCommentCountsAPI",["require","exports","module","js/lib/api"],function(require,exports,module){var e=require("js/lib/api"),t=new e("/api/courseFeedbackCommentCounts.v1",{type:"rest"});module.exports=t});
define("bundles/content-feedback/constants/LearnerAudiences",["require","exports","module","i18n!nls/content-feedback"],function(require,exports,module){var e=require("i18n!nls/content-feedback");module.exports={AllLearners:{id:"ALL_LEARNERS",label:e("All learners"),eventKey:"all_learners"},Completers:{id:"COMPLETERS",label:e("Completers"),eventKey:"completers"}}});
define("bundles/content-feedback/utils/CourseRatingAPIUtils",["require","exports","module","q","underscore","bundles/content-feedback/api/myFeedbackAPI","bundles/content-feedback/api/feedbackAPI","bundles/content-feedback/api/courseFeedbackCountsAPI","bundles/content-feedback/api/courseFeedbackCommentCountsAPI","bundles/content-feedback/api/feedbackAdminAPI","bundles/content-feedback/constants/FeedbackTypes","bundles/content-feedback/constants/LearnerAudiences","jsuri"],function(require,exports,module){var e=require("q"),_=require("underscore"),n=require("bundles/content-feedback/api/myFeedbackAPI"),d=require("bundles/content-feedback/api/feedbackAPI"),u=require("bundles/content-feedback/api/courseFeedbackCountsAPI"),c=require("bundles/content-feedback/api/courseFeedbackCommentCountsAPI"),o=require("bundles/content-feedback/api/feedbackAdminAPI"),t=require("bundles/content-feedback/constants/FeedbackTypes"),r=require("bundles/content-feedback/constants/LearnerAudiences"),a=require("jsuri"),s={getRatingStats:function getRatingStats(d){var c=arguments.length<=1||void 0===arguments[1]?r.AllLearners:arguments[1],n=(new a).addQueryParam("q","course").addQueryParam("courseId",d).addQueryParam("feedbackSystem",t.Rating).addQueryParam("ratingValues","1,2,3,4,5").addQueryParam("countBy","ratingValue");return c.id===r.Completers.id&&n.addQueryParam("courseCompleted",!0),e(u.get(n.toString())).then(function(e){return e.elements[0].counts})},getReviewStats:function getReviewStats(n){var r=(new a).addQueryParam("q","course").addQueryParam("courseId",n).addQueryParam("feedbackSystem",t.Rating).addQueryParam("ratingValues","1,2,3,4,5").addQueryParam("categories","generic").addQueryParam("countBy","category");return e(c.get(r.toString())).then(function(e){return e.elements[0].counts})},getReviews:function getReviews(o,s,i,n){var u=10,c=(new a).addQueryParam("q","course").addQueryParam("courseId",o).addQueryParam("feedbackSystem",t.Rating).addQueryParam("ratingValues",-1===n?"1,2,3,4,5":n).addQueryParam("categories","generic").addQueryParam("start",i*u).addQueryParam("limit",u);return s.id===r.Completers.id&&c.addQueryParam("courseCompleted",!0),e(d.get(c.toString())).then(function(e){var a=e.elements,t=e.paging,n=t.total;return{feedbacks:a,totalCount:n}})},getFeedback:function getFeedback(t){var r=(new a).addQueryParam("q","course").addQueryParam("courseId",t);return e(n.get(r.toString())).then(function(e){return e.elements[0]})},multiGetStarFeedback:function multiGetStarFeedback(t){var r=20,d=_(t).chain().groupBy(function(a,e){return Math.floor(e/r)}).toArray().value(),u=_(d).map(function(t){var r=(new a).addQueryParam("q","byCourseAndFeedback").addQueryParam("courseIds",t.join(",")).addQueryParam("feedbackSystem","STAR");return e(n.get(r.toString())).then(function(e){return e.elements})});return e.all(u).then(function(e){return _(e).flatten()})},postFeedback:function postFeedback(r,d){var u=(new a).addQueryParam("action","submit").addQueryParam("courseId",r).addQueryParam("feedbackSystem",t.Rating);return e(n.post(u.toString(),{data:d.toObject()}))},deleteFeedback:function deleteFeedback(t){var n=(new a).addQueryParam("action","hide").addQueryParam("feedbackId",t);return e(o.post(n.toString()))}};module.exports=s});

define('css!bundles/content-feedback/components/__styles__/CourseRatingsPreviewBox',[],function(){})
define("bundles/content-feedback/components/CourseRatingsPreviewBox",["require","exports","module","q","moment","react","bundles/phoenix/components/Modal","lazy!bundles/content-feedback/components/CourseRatingsDashboard","bundles/content-feedback/components/rating/CourseRatingHeader","./rating-dashboard/AverageCourseRating","bundles/content-feedback/models/CourseRatingStats","bundles/content-feedback/utils/CourseRatingAPIUtils","i18n!nls/content-feedback","css!./__styles__/CourseRatingsPreviewBox"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var n=s[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,r,c,s,a,u=require("q"),i=require("moment"),e=require("react"),l=require("bundles/phoenix/components/Modal"),p=require("lazy!bundles/content-feedback/components/CourseRatingsDashboard"),d=require("bundles/content-feedback/components/rating/CourseRatingHeader"),h=require("./rating-dashboard/AverageCourseRating"),f=require("bundles/content-feedback/models/CourseRatingStats"),b=require("bundles/content-feedback/utils/CourseRatingAPIUtils"),t=require("i18n!nls/content-feedback");require("css!./__styles__/CourseRatingsPreviewBox");var g=21,m=function InsufficientData(){return e.createElement("div",{className:"rc-CourseRatingsPreviewBox"},e.createElement("h5",{className:"headline-2-text"},t("Course Ratings")),e.createElement("p",null,t("This course just launched, so we don’t yet have enough data to show ratings.")))},y=(o=n=function(n){function CourseRatingsVariant(){var o,t,r;_classCallCheck(this,CourseRatingsVariant);for(var s=arguments.length,a=Array(s),e=0;s>e;e++)a[e]=arguments[e];return o=t=_possibleConstructorReturn(this,n.call.apply(n,[this].concat(a))),t.state={showModal:!1},r=o,_possibleConstructorReturn(t,r)}return _inherits(CourseRatingsVariant,n),CourseRatingsVariant.prototype.componentDidMount=function componentDidMount(){var e=this;p(function(t){return e.setState({CourseRatingsDashboardContent:t})})},CourseRatingsVariant.prototype.render=function render(){var n=this,o=this.state.CourseRatingsDashboardContent;return e.createElement("div",{className:"rc-CourseRatingsPreviewBox"},e.createElement("h5",{className:"headline-2-text"},t("Course Ratings")),e.createElement(h,{courseRatingStats:this.props.ratingStats,showCount:!0}),e.createElement("button",{onClick:function onClick(){return n.setState({showModal:!0})},className:"reviews-link button-link"},t("Show all reviews")),o&&this.state.showModal&&e.createElement(l,{modalName:"course-ratings-modal",handleClose:function handleClose(){return n.setState({showModal:!1})},allowClose:!0},e.createElement(d,{openCourse:this.props.course}),e.createElement(o,{courseId:this.props.course.id,scrollContainer:".rc-Modal .c-modal-content",showTeachDescription:!1})))},CourseRatingsVariant}(e.Component),n.propTypes={course:e.PropTypes.object.isRequired,ratingStats:e.PropTypes.object.isRequired,ratingsVariant:e.PropTypes.string.isRequired},o),C=(c=r=function(t){function CourseRatingsPreviewBox(){return _classCallCheck(this,CourseRatingsPreviewBox),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(CourseRatingsPreviewBox,t),CourseRatingsPreviewBox.prototype.render=function render(){if(this.props.blacklisted||!this.props.ratingStats)return null;var t=i.duration(i().diff(this.props.course.get("launchedAt"))).asDays();return e.createElement("div",{className:"cozy od-container card-rich-interaction"},g>t?e.createElement(m,null):e.createElement(y,this.props))},CourseRatingsPreviewBox}(e.Component),r.propTypes={course:e.PropTypes.object.isRequired,ratingStats:e.PropTypes.object,blacklisted:e.PropTypes.bool},c),v=(a=s=function(t){function CourseRatingsPreviewBoxContainer(){var o,n,r;_classCallCheck(this,CourseRatingsPreviewBoxContainer);for(var s=arguments.length,a=Array(s),e=0;s>e;e++)a[e]=arguments[e];return o=n=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(a))),n.state={ratingStats:null,blacklisted:!1},r=o,_possibleConstructorReturn(n,r)}return _inherits(CourseRatingsPreviewBoxContainer,t),CourseRatingsPreviewBoxContainer.prototype.componentWillMount=function componentWillMount(){var e=this.props.course&&this.props.course.id;this.promise=u(b.getRatingStats(e))},CourseRatingsPreviewBoxContainer.prototype.componentDidMount=function componentDidMount(){var e=this;this.promise.then(function(t){return e.setState({ratingStats:new f(t)})})["catch"](function(){return e.setState({blacklisted:!0})}).done()},CourseRatingsPreviewBoxContainer.prototype.render=function render(){return this.state&&(this.state.ratingStats||this.state.blacklisted)?e.createElement(C,{ratingStats:this.state.ratingStats,blackListed:this.state.blackListed,course:this.props.course}):null},CourseRatingsPreviewBoxContainer}(e.Component),s.propTypes={course:e.PropTypes.object.isRequired},a);module.exports=v});

define('css!bundles/phoenix-cdp/components/__styles__/TranslationModal',[],function(){})
define("bundles/phoenix-cdp/components/TranslationModal",["require","exports","module","react","js/app/config","js/lib/path","js/components/Imgix","i18n!nls/ondemand","pages/open-course/common/constants","bundles/phoenix/components/Modal","css!./__styles__/TranslationModal"],function(require,exports,module){function _defaults(e,r){for(var a=Object.getOwnPropertyNames(r),t=0;t<a.length;t++){var n=a[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o,r,e=require("react"),a=require("js/app/config"),s=require("js/lib/path"),l=require("js/components/Imgix"),t=require("i18n!nls/ondemand"),n=require("pages/open-course/common/constants"),i=require("bundles/phoenix/components/Modal");require("css!./__styles__/TranslationModal");var c=(r=o=function(o){function TranslationModal(){var r,e,a;_classCallCheck(this,TranslationModal);for(var s=arguments.length,l=Array(s),t=0;s>t;t++)l[t]=arguments[t];return r=e=_possibleConstructorReturn(this,o.call.apply(o,[this].concat(l))),e.onClickTranslateCourse=function(){var t=n.transifexProjectBaseUrl+e.getTransifexSlug(n.courseId);window.open(t)},a=r,_possibleConstructorReturn(e,a)}return _inherits(TranslationModal,o),TranslationModal.prototype.onClickJoinGTC=function onClickJoinGTC(){window.open(n.gtcPortalUrl)},TranslationModal.prototype.getTransifexSlug=function getTransifexSlug(e){var t=/\W+/g;return"coursera-od-"+e.toLowerCase().replace(t,"-")},TranslationModal.prototype.render=function render(){return e.createElement(i,{trackingName:"cdp_translation_modal",handleClose:this.props.onClose,modalName:t("Help Us Translate")},e.createElement("div",{className:"content align-horizontal-center"},e.createElement(l,{src:s.join(a.url.assets,"bundles/phoenix-cdp/images/translate.png"),alt:"",width:202,height:88}),e.createElement("div",{className:"display-5-text"},t("Help Us Translate")),e.createElement("div",{className:"body-1-text"},t("Coursera video subtitles are translated by passionate learners like yourself!"),e.createElement("br",null),t("Join the Global Translator Community (GTC) to help make the world’s best education accessible to anyone, anywhere.")),e.createElement("button",{className:"primary cozy primary-cta",onClick:this.onClickJoinGTC},t("Sign up for the Global Translator Community")),e.createElement("div",{className:"body-1-text"},t("Already a GTC translator?")),e.createElement("button",{className:"primary cozy secondary-cta",onClick:this.onClickTranslateCourse},t("Translate this course"))))},TranslationModal}(e.Component),o.propTypes={onClose:e.PropTypes.func.isRequired},r);module.exports=c});

define('css!bundles/ondemand/components/__styles__/AboutBox',[],function(){})
define("bundles/ondemand/components/AboutBox",["require","exports","module","react","underscore","bundles/iconfont/Icon","js/lib/coursera.react-intl","i18n!nls/ondemand","pages/open-course/common/models/course","bundles/phoenix-cdp/components/TranslationModal","bundles/page/components/TrackedLink2","css!./__styles__/AboutBox"],function(require,exports,module){function _defaults(e,r){for(var a=Object.getOwnPropertyNames(r),t=0;t<a.length;t++){var n=a[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var o,r,e=require("react"),_=require("underscore"),t=require("bundles/iconfont/Icon"),a=require("js/lib/coursera.react-intl"),s=a.FormattedHTMLMessage,n=require("i18n!nls/ondemand"),c=require("pages/open-course/common/models/course"),l=require("bundles/phoenix-cdp/components/TranslationModal"),i=require("bundles/page/components/TrackedLink2"),u=i.TrackedA;require("css!./__styles__/AboutBox");var d=(r=o=function(o){function AboutBox(){var n,e,r;_classCallCheck(this,AboutBox);for(var a=arguments.length,s=Array(a),t=0;a>t;t++)s[t]=arguments[t];return n=e=_possibleConstructorReturn(this,o.call.apply(o,[this].concat(s))),e.state={showTranslationModal:!1},e.openModal=function(t){t.preventDefault(),e.setState({showTranslationModal:!0})},e.closeModal=function(){e.setState({showTranslationModal:!1})},r=n,_possibleConstructorReturn(e,r)}return _inherits(AboutBox,o),AboutBox.prototype.render=function render(){var o=this.context.course.get("estimatedWorkload");return e.createElement("div",{className:"rc-AboutBox c-welcome-rounded-box"},e.createElement("h2",{className:"headline-2-text card-headline"},n("About this Course")),e.createElement("p",null,this.context.course.get("description")),e.createElement("div",null,e.createElement(t,{name:"globe",className:"c-about-box-icon"}),e.createElement(s,{message:n("Subtitles available in <strong>{subtitleLanguages}</strong>"),subtitleLanguages:this.context.course.getSubtitles().join(", ")})),e.createElement("div",null,e.createElement(t,{name:"group",className:"c-about-box-icon"}),e.createElement(u,{trackingName:"cdp_translation_link",href:"#",onClick:this.openModal},n("Volunteer to translate subtitles for this course")),this.state.showTranslationModal&&e.createElement(l,{onClose:this.closeModal})),o&&e.createElement("div",null,e.createElement(t,{name:"clock-o",className:"c-about-box-icon"}),o))},AboutBox}(e.Component),o.contextTypes={course:e.PropTypes.instanceOf(c).isRequired},r);module.exports=d});
define("bundles/ondemand/components/s12n/CourseInfoHeaderS12nLink",["require","exports","module","react","bundles/catalogP/models/s12n","js/lib/coursera.react-intl","i18n!nls/ondemand","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),n=0;n<s.length;n++){var t=s[n],r=Object.getOwnPropertyDescriptor(o,t);r&&r.configurable&&void 0===e[t]&&Object.defineProperty(e,t,r)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var n,t,e=require("react"),r=require("bundles/catalogP/models/s12n"),o=require("js/lib/coursera.react-intl"),s=o.FormattedHTMLMessage,a=require("i18n!nls/ondemand"),i=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),c=(t=n=function(n){function CourseInfoHeaderS12nLink(){return _classCallCheck(this,CourseInfoHeaderS12nLink),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(CourseInfoHeaderS12nLink,n),CourseInfoHeaderS12nLink.prototype.render=function render(){var n=this.props.s12n;if(!n)return null;return e.createElement("h3",{className:"rc-CourseInfoHeaderS12nLink headline-1-text styleguide"},e.createElement(s,{message:a('Part of a {numCourses}-course series, the <a href="{s12nLink}">{s12nName} Specialization</a>'),numCourses:n.getNumCourses(),s12nLink:n.getLink(),s12nName:n.getName()}))},CourseInfoHeaderS12nLink}(e.Component),n.propTypes={s12n:e.PropTypes.instanceOf(r)},t);module.exports=i(c,["S12nStore"],function(e,t){var n=e.S12nStore;return{s12n:n.getS12n()}})});

define('css!bundles/ondemand/components/__styles__/CourseInfoHeader',[],function(){})
define("bundles/ondemand/components/CourseInfoHeader",["require","exports","module","naptime","react","bundles/ondemand/components/s12n/CourseInfoHeaderS12nLink","bundles/ondemand/sessions/models/Schedule","bundles/phoenix/lib/waitForStores","js/lib/imgix","pages/open-course/common/models/course","css!./__styles__/CourseInfoHeader.css"],function(require,exports,module){function _defaults(e,s){for(var n=Object.getOwnPropertyNames(s),o=0;o<n.length;o++){var r=n[o],t=Object.getOwnPropertyDescriptor(s,r);t&&t.configurable&&void 0===e[r]&&Object.defineProperty(e,r,t)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var t,r,u=require("naptime"),e=require("react"),s=require("bundles/ondemand/components/s12n/CourseInfoHeaderS12nLink"),n=require("bundles/ondemand/sessions/models/Schedule"),i=require("bundles/phoenix/lib/waitForStores"),a=require("js/lib/imgix"),c=require("pages/open-course/common/models/course");require("css!./__styles__/CourseInfoHeader.css");var o=(r=t=function(o){function CourseInfoHeader(){return _classCallCheck(this,CourseInfoHeader),_possibleConstructorReturn(this,o.apply(this,arguments))}return _inherits(CourseInfoHeader,o),CourseInfoHeader.prototype.render=function render(){var o=this.props,u=o.course,r=o.promoPhoto,t=o.courseNames,n=o.universities,i=a.processImage(r,{brightness:10,blur:20}),c={backgroundImage:"url("+i+")"};return e.createElement("div",{className:"rc-CourseInfoHeader cdp-header styleguide"},e.createElement("div",{className:"course-text vertical-box align-items-absolute-center"},e.createElement("h1",{className:"course-name display-4-text"},t),e.createElement("h2",{className:"course-partners headline-1-text color-accent-brown"},n),e.createElement(s,null)),e.createElement("div",{className:"course-image",style:c}))},CourseInfoHeader}(e.Component),t.propTypes={course:e.PropTypes.instanceOf(c).isRequired,schedule:e.PropTypes.instanceOf(n),promoPhoto:e.PropTypes.string,universities:e.PropTypes.string,courseNames:e.PropTypes.string},r);module.exports=i(o,{requiredStores:["CourseStore"],lazyStores:["CourseScheduleStore"]},function(o,s){var r=o.CourseStore,t=o.CourseScheduleStore,e=r.getMetadata();if(e)return{course:e,schedule:t.getSchedule(),promoPhoto:e.get("promoPhoto"),universities:e.get("universities")?e.get("universities").getNamesString():"",courseNames:e.get("name")}}),module.exports.BaseComp=o});

define('css!bundles/ondemand/components/__styles__/HowToPass',[],function(){})
define("bundles/ondemand/components/HowToPass",["require","exports","module","underscore","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/ondemand","css!./__styles__/HowToPass.css"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),n=0;n<r.length;n++){var o=r[n],t=Object.getOwnPropertyDescriptor(s,o);t&&t.configurable&&void 0===e[o]&&Object.defineProperty(e,o,t)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var n,o,s=require("underscore"),r=s.compose,e=require("react"),c=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),t=require("i18n!nls/ondemand");require("css!./__styles__/HowToPass.css");var a=(o=n=function(n){function HowToPass(){return _classCallCheck(this,HowToPass),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(HowToPass,n),HowToPass.prototype.render=function render(){if(!this.props.isSessionsEnabled)return null;return e.createElement("div",{className:"rc-HowToPass card-no-action primary od-container comfy"},e.createElement("h2",{className:"body-2-text"},t("How to Pass the Course")),e.createElement("p",null,t("Pass all graded assignments to complete the course.")))},HowToPass}(e.Component),n.propTypes={isSessionsEnabled:e.PropTypes.bool},o);module.exports=r(c(["SessionStore"],function(e,o){var n=e.SessionStore;return{isSessionsEnabled:n.isSessionsEnabled()}}))(a)});

define('css!bundles/ondemand/components/__styles__/InstructorBox',[],function(){})
define("bundles/ondemand/components/InstructorBox",["require","exports","module","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/catalogP/models/instructor","i18n!nls/ondemand","js/components/Imgix","css!./__styles__/InstructorBox.css"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,n,e=require("react"),o=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),s=require("bundles/catalogP/models/instructor"),c=require("i18n!nls/ondemand"),a=require("js/components/Imgix");require("css!./__styles__/InstructorBox.css");var t=(n=r=function(t){function InstructorBox(){var o,n,s;_classCallCheck(this,InstructorBox);for(var c=arguments.length,i=Array(c),r=0;c>r;r++)i[r]=arguments[r];return o=n=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),n._renderInstructor=function(t){return e.createElement("a",{className:"nostyle",href:t.getLink(),key:t.get("id")},e.createElement("div",{className:"horizontal-box instructor"},e.createElement(a,{alt:"",src:t.getPhotoSrc(),height:64,width:64,imgParams:{fit:"crop"},className:"bt3-img-circle instructor-photo"}),e.createElement("div",{className:"styleguide"},e.createElement("p",{className:"instructor-name headline-1-text"},t.getFullName()),e.createElement("div",{className:"color-secondary-text"},t.get("title")),e.createElement("div",{className:"color-secondary-text"},t.get("department")))))},s=o,_possibleConstructorReturn(n,s)}return _inherits(InstructorBox,t),InstructorBox.prototype.render=function render(){var t=this.props.instructors?this.props.instructors.map(this._renderInstructor):null;return e.createElement("div",{className:"rc-InstructorBox comfy card-no-action primary od-container"},e.createElement("h2",{className:"headline-2-text card-headline"},c("Instructors")),t)},InstructorBox}(e.Component),r.propTypes={instructors:e.PropTypes.arrayOf(e.PropTypes.instanceOf(s))},n);module.exports=t,module.exports=o(t,["CourseStore"],function(e,r){var t=e.CourseStore;return{instructors:t.getInstructorsToDisplay()}}),module.exports.BaseComp=t});

define('css!bundles/ondemand/components/__styles__/ReferrerInformation',[],function(){})
define("bundles/ondemand/components/ReferrerInformation",["require","exports","module","react","js/lib/coursera.react-intl","q","bundles/phoenix/lib/apiWrapper","jsuri","pages/open-course/common/constants","bundles/phoenix/components/ProfileImage","bundles/phoenix/template/models/userIdentity","vendor/cnpm/fluxible.v0-4/addons/connectToStores","pages/open-course/common/models/course","css!./__styles__/ReferrerInformation"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),r=0;r<s.length;r++){var o=s[r],t=Object.getOwnPropertyDescriptor(n,o);t&&t.configurable&&void 0===e[o]&&Object.defineProperty(e,o,t)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var o,t,e=require("react"),n=require("js/lib/coursera.react-intl"),s=n.FormattedMessage,d=require("q"),a=require("bundles/phoenix/lib/apiWrapper"),i=require("jsuri"),l=require("pages/open-course/common/constants"),c=require("bundles/phoenix/components/ProfileImage"),u=require("bundles/phoenix/template/models/userIdentity"),p=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),f=require("pages/open-course/common/models/course");require("css!./__styles__/ReferrerInformation");var r=(t=o=function(r){function ReferrerInformation(){var t,o,n;_classCallCheck(this,ReferrerInformation);for(var s=arguments.length,a=Array(s),e=0;s>e;e++)a[e]=arguments[e];return t=o=_possibleConstructorReturn(this,r.call.apply(r,[this].concat(a))),o.state={referrerProfile:null},n=t,_possibleConstructorReturn(o,n)}return _inherits(ReferrerInformation,r),ReferrerInformation.prototype.componentWillMount=function componentWillMount(){var e=this;if(this.props.isSessionsEnabled&&!this.props.isEnrolled&&u.get("authenticated")){var r=a("/api/onDemandClassmateProfiles.v1",{type:"rest"}),o=(new i).addQueryParam("courseId",l.courseId).addQueryParam("q","byExternalIds").addQueryParam("externalUserIds",this.props.referrerId).addQueryParam("fields","socialProfiles.v1(photoUrl)").addQueryParam("includes","userId,_links");return d(r.get(o.toString())).then(function(r){if(r.linked["onDemandSocialProfiles.v1"].length){var o=r.linked["onDemandSocialProfiles.v1"][0];e.setState({referrerProfile:{fullName:o.fullName,photoUrl:o.photoUrl}})}}).done()}},ReferrerInformation.prototype.render=function render(){if(!this.state.referrerProfile)return null;return e.createElement("div",{className:"rc-ReferrerInformation horizontal-box align-items-absolute-center card-no-action"},e.createElement(c,{profileImageUrl:this.state.referrerProfile.photoUrl,fullName:this.state.referrerProfile.fullName,width:44,height:44}),e.createElement("div",{className:"information"},e.createElement(s,{message:"{firstName} has invited you to take {course}. Join today!",firstName:this.state.referrerProfile.fullName.split(" ")[0],course:this.props.course.get("name")})))},ReferrerInformation}(e.Component),o.propTypes={referrerId:e.PropTypes.string.isRequired,course:e.PropTypes.instanceOf(f),isSessionsEnabled:e.PropTypes.bool,isEnrolled:e.PropTypes.bool},t);module.exports=p(r,["CourseStore","SessionStore"],function(e,t){var o=e.CourseStore,r=e.SessionStore;return{course:o.getMetadata(),isSessionsEnabled:r.isSessionsEnabled(),isEnrolled:r.isEnrolled()}}),module.exports.BaseComp=r});
define("bundles/catalog/lib/debugUtils",["require","exports","module","js/lib/coursera.store"],function(require,exports,module){function isDebugEnabled(){return!!e.get("search.debug")}function parseDebugInfo(){var r=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e={};return isDebugEnabled()&&r.forEach(function(t){var r=t.debug,n=void 0===r?"{}":r,s=JSON.parse(n);Object.keys(s).forEach(function(r){e[r]=Object.assign({},e[r],s[r])})}),e}var e=require("js/lib/coursera.store");module.exports={isDebugEnabled:isDebugEnabled,parseDebugInfo:parseDebugInfo}});
define("bundles/page/common/imgixParams",["require","exports","module"],function(require,exports,module){module.exports={fillWithWhiteBackground:{fit:"fill",bg:"FFF"}}});
define("bundles/catalog/components/ExpandableContainer",["require","exports","module","react"],function(require,exports,module){function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),t=0;t<a.length;t++){var n=a[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _objectWithoutProperties(t,r){var n={};for(var e in t){if(r.indexOf(e)>=0)continue;if(!Object.prototype.hasOwnProperty.call(t,e))continue;n[e]=t[e]}return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),r=(n=t=function(t){function ExpandableContainer(n,r){_classCallCheck(this,ExpandableContainer);var e=_possibleConstructorReturn(this,t.call(this,n,r));return e.handleClick=function(t){t.stopPropagation(),t.preventDefault(),e.setState({expanded:!e.state.expanded})},e.state={expanded:n.expandedInitially},e}return _inherits(ExpandableContainer,t),ExpandableContainer.prototype.render=function render(){var t=this.props,n=t.handle,r=t.children,o=_objectWithoutProperties(t,["handle","children"]);return e.createElement("div",o,e.createElement("span",{className:"expandable-handle",onClick:this.handleClick},n),this.state.expanded&&r)},ExpandableContainer}(e.Component),t.propTypes={handle:e.PropTypes.element.isRequired,children:e.PropTypes.element,expandedInitially:e.PropTypes.bool},n);module.exports=r});
define("bundles/catalog-browse/components/OfferingCardDebug",["require","exports","module","underscore","react","bundles/catalog/components/ExpandableContainer"],function(require,exports,module){function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),t=0;t<a.length;t++){var n=a[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _objectWithoutProperties(t,r){var n={};for(var e in t){if(r.indexOf(e)>=0)continue;if(!Object.prototype.hasOwnProperty.call(t,e))continue;n[e]=t[e]}return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,o,_=require("underscore"),e=require("react"),n=require("bundles/catalog/components/ExpandableContainer"),t=function format(e){return e.toFixed(4)},a=(o=r=function(r){function OfferingCardDebug(){var n,t,o;_classCallCheck(this,OfferingCardDebug);for(var a=arguments.length,l=Array(a),e=0;a>e;e++)l[e]=arguments[e];return n=t=_possibleConstructorReturn(this,r.call.apply(r,[this].concat(l))),t.handleClick=function(e){e.preventDefault(),e.stopPropagation()},o=n,_possibleConstructorReturn(t,o)}return _inherits(OfferingCardDebug,r),OfferingCardDebug.prototype.renderDetails=function renderDetails(r){var o=this;return e.createElement("ul",null,r.map(function(r,l){var i=r.description,c=r.value,a=r.details;return e.createElement(n,{key:l,handle:e.createElement("span",null,t(c)," ",e.createElement("code",null,i))},a&&o.renderDetails(a))}))},OfferingCardDebug.prototype.render=function render(){if(_.isEmpty(this.props.boosts)||_.isEmpty(this.props.explain))return null;var r=this.props.explain,i=r.value,p=r.description,f=r.details,a=t(i),l=this.props.boosts,b=l.score,c=_objectWithoutProperties(l,["score"]),o=t(_(c).reduce(function(e,t){return e*t},1)),s=t(i/o),d=_(c).map(function(e,n){return n.replace("$","")+" ("+t(e)+")"}).join(" * "),m=e.createElement("span",{className:"offering-badge"},a),u=e.createElement("div",{className:"offering-debug-details card-rich-interaction",onClick:this.handleClick},e.createElement("div",null,e.createElement("strong",null,"Total Score")," ",s," * ",o," = ",a),e.createElement("div",null,e.createElement("strong",null,"Raw Score")," ",s),e.createElement("div",null,e.createElement("strong",null,"Boost")," ",d," = ",o),e.createElement(n,{handle:e.createElement("strong",null,"Details"),expandedInitially:!0},this.renderDetails(f)),e.createElement(n,{handle:e.createElement("strong",null,"Description")},e.createElement("pre",null,p)));return e.createElement(n,{handle:m},u)},OfferingCardDebug}(e.Component),r.propTypes={boosts:e.PropTypes.object,explain:e.PropTypes.object},r.defaultProps={boosts:{},explain:{}},o);module.exports=a});
define("nls/catalog-browse",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/catalog-browse/common/constants",["require","exports","module","bundles/epic/client","i18n!nls/catalog-browse"],function(require,exports,module){var a=require("bundles/epic/client"),e=require("i18n!nls/catalog-browse");module.exports={facetNameMap:{languages:e("Subtitle Languages"),primaryLanguages:e("Course Languages"),availability:e("Availability")},DEFAULT_NUM_FILTERS:5,MAX_NUM_SAMPLER_RESULTS:5,LEIDEN_UNIVERSITY_ID:"25"}});
define("bundles/catalog-browse/components/OfferingCardPrice",["require","exports","module","naptime","react","underscore","bundles/catalog-browse/common/constants","bundles/naptimejs/resources/productPrices.v3","js/lib/coursera.react-intl","i18n!nls/catalog-browse"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),r=0;r<s.length;r++){var t=s[r],o=Object.getOwnPropertyDescriptor(n,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,t,n=require("naptime"),e=require("react"),_=require("underscore"),s=require("bundles/catalog-browse/common/constants"),c=s.LEIDEN_UNIVERSITY_ID,o=require("bundles/naptimejs/resources/productPrices.v3"),i=require("js/lib/coursera.react-intl"),a=i.FormattedMessage,u=require("i18n!nls/catalog-browse"),p=(t=r=function(r){function OfferingCardPrice(){return _classCallCheck(this,OfferingCardPrice),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(OfferingCardPrice,r),OfferingCardPrice.prototype.render=function render(){var r=this.props,o=r.courseCount,n=r.displayPricePerCourse,f=r.perCoursePrice,l=r.price,s=r.partnerIds,i=1!==o,p=i&&n?f:l,t=p&&p.formattedFinalAmount.formattedString,d=i&&n?"from "+t:t;if(!t)return null;if(!s||_.contains(s,c))return null;return e.createElement("div",{className:"rc-OfferingCardPrice"},e.createElement("span",{className:"text-light body-1-text"},e.createElement(a,{message:u("{courseCount, plural, =1 {1 course} other {# courses}}"),courseCount:o}))," ",e.createElement("span",{className:"color-primary-text body-2-text"},d))},OfferingCardPrice}(e.Component),r.propTypes={courseCount:e.PropTypes.number.isRequired,displayPricePerCourse:e.PropTypes.bool,partnerIds:e.PropTypes.arrayOf(e.PropTypes.string).isRequired,perCoursePrice:e.PropTypes.object,price:e.PropTypes.object},t);module.exports=n.createContainer(p,function(e){var r=e.firstCoursePriceId,t=e.productPriceId;return{price:o.localGet(t,{fields:["id","formattedFinalAmount"]}),perCoursePrice:o.get(r,{fields:["id","formattedFinalAmount"]})}})});
define("bundles/catalog-browse/components/OfferingCardPriceWrapper",["require","exports","module","react","bundles/catalog-browse/components/OfferingCardPrice","bundles/epic/client","bundles/naptimejs/resources/courses.v1","bundles/naptimejs/resources/onDemandSpecializations.v1","bundles/naptimejs/resources/specializations.v1","bundles/payments/common/ProductType","bundles/phoenix/template/models/requestCountryCode","js/lib/prices"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),r=0;r<s.length;r++){var t=s[r],o=Object.getOwnPropertyDescriptor(n,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var t,n,e=require("react"),o=require("bundles/catalog-browse/components/OfferingCardPrice"),s=require("bundles/epic/client"),i=require("bundles/naptimejs/resources/courses.v1"),c=require("bundles/naptimejs/resources/onDemandSpecializations.v1"),u=require("bundles/naptimejs/resources/specializations.v1"),r=require("bundles/payments/common/ProductType"),a=require("bundles/phoenix/template/models/requestCountryCode"),p=require("js/lib/prices"),d=(n=t=function(t){function OfferingCardPriceWrapper(){var o,e,n;_classCallCheck(this,OfferingCardPriceWrapper);for(var s=arguments.length,i=Array(s),r=0;s>r;r++)i[r]=arguments[r];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),e.getProductPriceId=function(r,t){var o=p.getCurrencyFromCountry(e.requestCountryCode);return[r,t,o,e.requestCountryCode].join("~")},n=o,_possibleConstructorReturn(e,n)}return _inherits(OfferingCardPriceWrapper,t),OfferingCardPriceWrapper.prototype.componentWillMount=function componentWillMount(){this.requestCountryCode=this.context.requestCountryCode||this.getRequestCountryCode()||a},OfferingCardPriceWrapper.prototype.getRequestCountryCode=function getRequestCountryCode(){var e=this.context.getStore;if(e){var r=e("ApplicationStore");if(r)return r.requestCountryCode}return null},OfferingCardPriceWrapper.prototype.getShowCatalogPrices=function getShowCatalogPrices(){var e=this.context.epic||"undefined"!=typeof window&&s;return e&&e.preview&&!e.preview("Subscriptions","specializationSubscription")&&e.get("Growth","catalogPricesRollout")&&e.get("Growth","showCatalogPrices")},OfferingCardPriceWrapper.prototype.render=function render(){if(!this.requestCountryCode)return!1;var c=this.props,s=c.course,t=c.onDemandSpecialization,n=c.specialization,u=this.getShowCatalogPrices();if(!u)return null;var i="showPricePerCourse"===u;if(s){var p="v1"===s.id.slice(0,2),d=p?r.SPARK_VERIFIED_CERTIFICATE:r.VERIFIED_CERTIFICATE;return e.createElement(o,{courseCount:1,displayPricePerCourse:i,partnerIds:s.partnerIds,productPriceId:this.getProductPriceId(d,s.id)})}if(t){var l=this.getProductPriceId(r.VERIFIED_CERTIFICATE,t.courseIds[0]),C=this.getProductPriceId(r.SPECIALIZATION,t.id);return e.createElement(o,{courseCount:t.courseCountWithCapstones,displayPricePerCourse:i,firstCoursePriceId:l,partnerIds:t.partnerIds,productPriceId:C})}if(n){var f=this.getProductPriceId(r.SPARK_COURSE_SHELL,n.primaryCourseIds[0]),a=this.getProductPriceId(r.SPARK_SPECIALIZATION,n.id);return e.createElement(o,{courseCount:n.courseCountWithCapstones,displayPricePerCourse:i,firstCoursePriceId:f,partnerIds:n.partnerIds,productPriceId:a})}},OfferingCardPriceWrapper}(e.Component),t.propTypes={course:e.PropTypes.instanceOf(i),onDemandSpecialization:e.PropTypes.instanceOf(c),specialization:e.PropTypes.instanceOf(u)},t.contextTypes={epic:e.PropTypes.object.isRequired,getStore:e.PropTypes.func.isRequired,requestCountryCode:e.PropTypes.string},n);module.exports=d});
define("bundles/discovery/lib/offerings",["require","exports","module","react"],function(require,exports,module){function offeringOf(e){var i=e.courseType||"specialization";return Object.assign(e,{offeringType:i})}function offeringIn(e){var i=e.course||e.onDemandSpecialization||e.specialization;return offeringOf(i)}function offeringDebug(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=r.courses,a=void 0===i?{}:i,n=r.specializations,c=void 0===n?{}:n,o=e.course?a:c,s=o.boosts,u=void 0===s?{}:s,t=o.explain,f=void 0===t?{}:t;return{boosts:u[e.id],explain:f[e.id]}}var i=require("react"),e=i.PropTypes,n=e.shape({id:e.string.isRequired,link:e.string.isRequired,offeringType:e.string});module.exports={offeringIn:offeringIn,offeringOf:offeringOf,offeringShape:n,offeringDebug:offeringDebug}});
define("bundles/discovery/components/OfferingLink2",["require","exports","module","react","bundles/discovery/lib/offerings","bundles/page/components/TrackedLink2"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),r=0;r<i.length;r++){var n=i[r],t=Object.getOwnPropertyDescriptor(o,n);t&&t.configurable&&void 0===e[n]&&Object.defineProperty(e,n,t)}return e}function _objectWithoutProperties(r,t){var n={};for(var e in r){if(t.indexOf(e)>=0)continue;if(!Object.prototype.hasOwnProperty.call(r,e))continue;n[e]=r[e]}return n}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n,r,e=require("react"),o=require("bundles/discovery/lib/offerings"),i=o.offeringShape,s=require("bundles/page/components/TrackedLink2"),a=s.TrackedLink2,c=(r=n=function(r){function OfferingLink2(){return _classCallCheck(this,OfferingLink2),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(OfferingLink2,r),OfferingLink2.prototype.render=function render(){var n=this.props,r=n.offering,o=_objectWithoutProperties(n,["offering"]);return e.createElement(a,t({href:this.props.offering.link,trackingName:this.props.name,withVisibilityTracking:!0,data:{id:r.id,target:r.link,offeringType:r.offeringType}},o))},OfferingLink2}(e.Component),n.propTypes={name:e.PropTypes.string.isRequired,className:e.PropTypes.string,offering:i.isRequired,children:e.PropTypes.node.isRequired,disableLocalRouting:e.PropTypes.bool},r);module.exports=c});
define("nls/partners",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/partners/components/Names",["require","exports","module","naptime","react","underscore","js/app/loggerSingleton","bundles/naptimejs/resources/partners.v1","i18n!nls/partners"],function(require,exports,module){function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),r=0;r<a.length;r++){var n=a[r],t=Object.getOwnPropertyDescriptor(o,n);t&&t.configurable&&void 0===e[n]&&Object.defineProperty(e,n,t)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,n,o=require("naptime"),e=require("react"),_=require("underscore"),a=require("js/app/loggerSingleton"),t=require("bundles/naptimejs/resources/partners.v1"),s=require("i18n!nls/partners"),i=(n=r=function(r){function Names(){return _classCallCheck(this,Names),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(Names,r),Names.prototype.render=function render(){var r=this.props.partners;if(!r)return null;var n=_.chain(r).compact().filter(function(e){return e.name||a.error("Partner with id "+e.id+" does not have a name"),!!e.name}).pluck("name").value();return e.createElement("span",null,n.join(", "))},Names}(e.Component),r.propTypes={partners:e.PropTypes.arrayOf(e.PropTypes.instanceOf(t)).isRequired},n);module.exports=o.createContainer(i,function(r){var e=r.ids,n=void 0===e?[]:e;return{partners:t.multiGet(n,{fields:["name"]})}})});

define('css!bundles/catalog-browse/components/__styles__/OfferingCard',[],function(){})
define("bundles/catalog-browse/components/OfferingCard",["require","exports","module","underscore","naptime","react","bundles/naptimejs/resources/courses.v1","bundles/catalog/lib/debugUtils","bundles/page/common/imgixParams","bundles/catalog-browse/components/OfferingCardDebug","bundles/catalog-browse/components/OfferingCardPrice","bundles/catalog-browse/components/OfferingCardPriceWrapper","bundles/discovery/components/OfferingLink2","bundles/naptimejs/resources/onDemandSpecializations.v1","bundles/partners/components/Names","bundles/naptimejs/resources/specializations.v1","bundles/discovery/lib/offerings","js/components/Imgix","js/lib/coursera.react-intl","i18n!nls/catalog-browse","css!./__styles__/OfferingCard"],function(require,exports,module){function _defaults(e,s){for(var o=Object.getOwnPropertyNames(s),n=0;n<o.length;n++){var r=o[n],t=Object.getOwnPropertyDescriptor(s,r);t&&t.configurable&&void 0===e[r]&&Object.defineProperty(e,r,t)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var n,o,_=require("underscore"),m=require("naptime"),e=require("react"),c=require("bundles/naptimejs/resources/courses.v1"),g=require("bundles/catalog/lib/debugUtils"),y=require("bundles/page/common/imgixParams"),u=require("bundles/catalog-browse/components/OfferingCardDebug"),d=require("bundles/catalog-browse/components/OfferingCardPrice"),p=require("bundles/catalog-browse/components/OfferingCardPriceWrapper"),f=require("bundles/discovery/components/OfferingLink2"),s=require("bundles/naptimejs/resources/onDemandSpecializations.v1"),r=require("bundles/partners/components/Names"),a=require("bundles/naptimejs/resources/specializations.v1"),t=require("bundles/discovery/lib/offerings"),b=t.offeringShape,l=t.offeringIn,h=t.offeringDebug,i=require("js/components/Imgix"),C=require("js/lib/coursera.react-intl"),v=C.FormattedMessage,E=require("i18n!nls/catalog-browse");require("css!./__styles__/OfferingCard");var O=(o=n=function(n){function OfferingCard(){return _classCallCheck(this,OfferingCard),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(OfferingCard,n),OfferingCard.prototype.getChildContext=function getChildContext(){return{offering:l(this.props)}},OfferingCard.prototype.renderSubtitle=function renderSubtitle(){if(this.props.course)return e.createElement("div",{className:"text-light offering-partner-names"},e.createElement(r,{ids:this.props.course.partnerIds}));var n=this.props.onDemandSpecialization||this.props.specialization,t=n.courseCountWithCapstones,s=n.partnerIds;return e.createElement("div",null,e.createElement("span",{className:"specialization-course-count"},e.createElement(v,{message:E("{courseCount}-course Specialization"),courseCount:t})),e.createElement("span",{className:"dot-delimiter"},"·"),e.createElement("span",{className:"text-light offering-partner-names"},e.createElement(r,{ids:s})))},OfferingCard.prototype.render=function render(){var n=l(this.props),r=this.props,t=r.course,s=r.onDemandSpecialization,o=r.specialization;return e.createElement(f,{className:"rc-OfferingCard nostyle",name:"offering_card",offering:n,disableLocalRouting:this.props.disableLocalRouting},e.createElement("div",{className:"offering-content"},e.createElement("div",{className:"horizontal-box"},e.createElement("div",null,e.createElement(i,{className:"offering-image",src:n.iconSrc,imgParams:y.fillWithWhiteBackground,width:100,height:100,alt:i.DECORATIVE})),e.createElement("div",{className:"offering-info flex-1"},e.createElement("div",{className:"horizontal-box"},e.createElement("h2",{className:"color-primary-text headline-1-text flex-1"},n.name),e.createElement(p,{course:t,onDemandSpecialization:s,specialization:o})),this.renderSubtitle()))),e.createElement("div",{className:"offering-debug-info"},g.isDebugEnabled()&&e.createElement(u,h(this.props,this.props.debug)),!n.isPublic&&e.createElement("span",{className:"offering-badge"},"Superuser only")))},OfferingCard}(e.Component),n.propTypes={id:e.PropTypes.string.isRequired,course:e.PropTypes.instanceOf(c),onDemandSpecialization:e.PropTypes.instanceOf(s),specialization:e.PropTypes.instanceOf(a),debug:e.PropTypes.object,disableLocalRouting:e.PropTypes.bool},n.childContextTypes={offering:b.isRequired},o);module.exports=m.createContainer(O,function(e){return{course:c.get(e.courseId,{fields:["name","link","iconSrc","isPublic"],includes:["partnerIds","productPrices"]}),onDemandSpecialization:s.get(e.onDemandSpecializationId,{fields:["name","link","iconSrc","courseCountWithCapstones","isPublic"],includes:["partnerIds","productPrices","primaryCourseIds"]}),specialization:a.get(e.specializationId,{fields:["name","link","iconSrc","courseCountWithCapstones","isPublic"],includes:["partnerIds","productPrices","primaryCourseIds"],subcomponents:[d,r]})}})});
define("pages/hut/course/promises/relatedCourses",["require","exports","module","bundles/catalogP/promises/courses","bundles/catalogP/models/courses"],function(require,exports,module){function relatedCoursesPromiseFactory(u,r){var o={q:"relatedCourses",courseId:u,fields:["photoUrl","name","slug","display"],includes:{partners:{fields:["name","abbrName","homeLink"]}}};return r&&(o.limit=r),e(o).then(function(e){return new s(e.where({display:!0}))})}var e=require("bundles/catalogP/promises/courses"),s=require("bundles/catalogP/models/courses");module.exports=relatedCoursesPromiseFactory});

define('css!bundles/ondemand/components/__styles__/RelatedCourses',[],function(){})
define("bundles/ondemand/components/RelatedCourses",["require","exports","module","react","bundles/catalog-browse/components/OfferingCard","i18n!nls/ondemand","pages/hut/course/promises/relatedCourses","pages/open-course/common/models/course","js/lib/coursera.redirect","css!./__styles__/RelatedCourses"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,e=require("react"),n=require("bundles/catalog-browse/components/OfferingCard"),s=require("i18n!nls/ondemand"),a=require("pages/hut/course/promises/relatedCourses"),o=require("pages/open-course/common/models/course"),u=require("js/lib/coursera.redirect");require("css!./__styles__/RelatedCourses");var c=(r=t=function(t){function RelatedCourses(){var o,r,n;_classCallCheck(this,RelatedCourses);for(var s=arguments.length,a=Array(s),e=0;s>e;e++)a[e]=arguments[e];return o=r=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(a))),r.state={relatedCourses:[]},n=o,_possibleConstructorReturn(r,n)}return _inherits(RelatedCourses,t),RelatedCourses.prototype.getChildContext=function getChildContext(){return{course:this.context.course}},RelatedCourses.prototype.componentWillMount=function componentWillMount(){var e=this;a(this.context.course.id,this.props.numRelatedCourses).then(function(t){return e.setState({relatedCourses:t})})},RelatedCourses.prototype.render=function render(){var t=this.state.relatedCourses;if(0===t.length)return!1;return e.createElement("div",{className:"card-no-action primary od-container comfy"},e.createElement("div",{className:"rc-RelatedCourses"},this.props.showTitle&&e.createElement("div",null,e.createElement("h3",null,s("Related Courses")),e.createElement("br",null)),t.map(function(t){return e.createElement("div",{key:t.get("id")},e.createElement(n,{id:t.get("id"),courseId:t.get("id"),disableLocalRouting:!0}))})))},RelatedCourses}(e.Component),t.propTypes={showTitle:e.PropTypes.bool,numRelatedCourses:e.PropTypes.number},t.contextTypes={course:e.PropTypes.instanceOf(o).isRequired},t.childContextTypes={course:e.PropTypes.instanceOf(o).isRequired},t.defaultProps={showTitle:!0,numRelatedCourses:5},r);module.exports=c});
define("bundles/ondemand/shapes/Period",["require","exports","module","react"],function(require,exports,module){var e=require("react");module.exports=e.PropTypes.shape({moduleIds:e.PropTypes.arrayOf(e.PropTypes.string).isRequired,numberOfWeeks:e.PropTypes.number})});
define("bundles/ondemand/components/SyllabusAssignmentEntry",["require","exports","module","react","pages/open-course/common/models/itemMetadata"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),r=require("pages/open-course/common/models/itemMetadata");module.exports=(n=t=function(t){function SyllabusAssignmentEntry(){return _classCallCheck(this,SyllabusAssignmentEntry),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(SyllabusAssignmentEntry,t),SyllabusAssignmentEntry.prototype.render=function render(){return e.createElement("li",{className:"rc-SyllabusAssignmentEntry"},e.createElement("span",null,e.createElement("span",{className:"body-2-text"},this.props.assignment.getTitlePrefix()),": "+this.props.assignment.getName()))},SyllabusAssignmentEntry}(e.Component),t.propTypes={assignment:e.PropTypes.instanceOf(r).isRequired},n)});
define("bundles/ondemand/components/SyllabusLessonAssignments",["require","exports","module","react","bundles/ondemand/components/SyllabusAssignmentEntry","js/lib/coursera.react-intl","pages/open-course/common/models/lesson","i18n!nls/ondemand"],function(require,exports,module){function _defaults(e,r){for(var o=Object.getOwnPropertyNames(r),n=0;n<o.length;n++){var t=o[n],s=Object.getOwnPropertyDescriptor(r,t);s&&s.configurable&&void 0===e[t]&&Object.defineProperty(e,t,s)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var n,t,e=require("react"),s=require("bundles/ondemand/components/SyllabusAssignmentEntry"),r=require("js/lib/coursera.react-intl"),o=r.FormattedMessage,a=require("pages/open-course/common/models/lesson"),i=require("i18n!nls/ondemand"),c=(t=n=function(n){function SyllabusLessonAssignments(){return _classCallCheck(this,SyllabusLessonAssignments),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(SyllabusLessonAssignments,n),SyllabusLessonAssignments.prototype.renderAssignments=function renderAssignments(){var n=this.props.lesson,t=n.getItemMetadatas().filter(function(e){return e.isGradable()&&e.isCore()});return t.map(function(n,t){return e.createElement(s,{assignment:n,key:t})})},SyllabusLessonAssignments.prototype.render=function render(){var n=this.props.lesson;if(n.isItemGroupLesson()){var t=n.getItemGroups().at(0);return e.createElement("div",{className:"rc-SyllabusLessonAssignments"},e.createElement("li",{className:"label-text color-secondary-text"},e.createElement(o,{message:i("Complete {requiredPassedCount} out of {choicesCount}"),requiredPassedCount:t.getRequiredPassedCount(),choicesCount:t.getChoicesCount()})),e.createElement("li",null,e.createElement("ol",null,this.renderAssignments())))}return e.createElement("div",{className:"rc-SyllabusLessonAssignments"},this.renderAssignments())},SyllabusLessonAssignments}(e.Component),n.propTypes={lesson:e.PropTypes.instanceOf(a).isRequired},t);module.exports=c});
define("bundles/ondemand/components/SyllabusPeriod",["require","exports","module","react","underscore","js/lib/coursera.react-intl","i18n!nls/ondemand","bundles/ondemand/components/SyllabusLessonAssignments","pages/open-course/common/models/module","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),n=0;n<s.length;n++){var t=s[n],o=Object.getOwnPropertyDescriptor(r,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var n,t,e=require("react"),_=require("underscore"),o=require("js/lib/coursera.react-intl"),r=o.FormattedMessage,s=require("i18n!nls/ondemand"),a=require("bundles/ondemand/components/SyllabusLessonAssignments"),c=require("pages/open-course/common/models/module"),l=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),i=(t=n=function(n){function SyllabusPeriod(){return _classCallCheck(this,SyllabusPeriod),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(SyllabusPeriod,n),SyllabusPeriod.prototype.render=function render(){var n=this.props.modules.reduce(function(e,module){return e.concat(module.getCoreLessons())},[]),t=_(this.props.modules).some(function(module){return module.getCoreLessons().length>0});return e.createElement("div",{className:"rc-SyllabusPeriod week-entry styleguide"},e.createElement("div",{className:"week-header border-bottom horizontal-box align-items-top"},e.createElement("span",{className:"week-number caption-text"},e.createElement(r,{message:s("Week {week}"),week:this.props.week})),e.createElement("div",{className:"flex-1"},this.props.modules.map(function(module,n){return e.createElement("p",{key:n,className:"module-name headline-1-text"},module.get("name"))}))),e.createElement("ol",{className:"week-topics nostyle"},n.map(function(n,t){return n.isItemGroupLesson()?!1:e.createElement("li",{key:t},n.get("name"))})),t&&e.createElement("ol",{className:"week-assignments align-items-top nostyle"},n.map(function(n,t){return e.createElement(a,{key:t,lesson:n})})))},SyllabusPeriod}(e.Component),n.propTypes={modules:e.PropTypes.arrayOf(e.PropTypes.instanceOf(c)).isRequired,moduleIds:e.PropTypes.arrayOf(e.PropTypes.string).isRequired,week:e.PropTypes.number.isRequired},t);module.exports=l(i,["CourseStore"],function(n,e){var t=n.CourseStore,r=e.week,o=e.moduleIds;return{modules:_(o.map(function(module){return t.getModule(module)})).compact()}})});
define("bundles/ondemand/components/HonorsSyllabusPeriod",["require","exports","module","react","underscore","js/lib/coursera.react-intl","i18n!nls/ondemand","bundles/ondemand/components/SyllabusAssignmentEntry","pages/open-course/common/models/module","pages/open-course/common/models/tracks","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),n=0;n<s.length;n++){var o=s[n],t=Object.getOwnPropertyDescriptor(r,o);t&&t.configurable&&void 0===e[o]&&Object.defineProperty(e,o,t)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var n,o,e=require("react"),_=require("underscore"),r=require("js/lib/coursera.react-intl"),t=r.FormattedMessage,s=require("i18n!nls/ondemand"),a=require("bundles/ondemand/components/SyllabusAssignmentEntry"),c=require("pages/open-course/common/models/module"),u=require("pages/open-course/common/models/tracks"),i=u.HONORS_TRACK,l=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),p=(o=n=function(n){function HonorsSyllabusPeriod(){return _classCallCheck(this,HonorsSyllabusPeriod),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(HonorsSyllabusPeriod,n),HonorsSyllabusPeriod.prototype.render=function render(){var n=this.props.modules.reduce(function(e,module){return e.concat(module.getGradablesForTrackId(i))},[]);if(!n.length)return null;return e.createElement("div",{className:"rc-HonorsSyllabusPeriod week-entry styleguide"},e.createElement("div",{className:"week-header horizontal-box align-items-top"},e.createElement("span",{className:"week-number caption-text"},e.createElement(t,{message:s("Week {week}"),week:this.props.week})),e.createElement("div",{className:"flex-1"},e.createElement("ol",{className:"week-assignments align-items-top nostyle"},n.map(function(n,o){return e.createElement(a,{assignment:n,key:o})})))))},HonorsSyllabusPeriod}(e.Component),n.propTypes={modules:e.PropTypes.arrayOf(e.PropTypes.instanceOf(c)).isRequired,moduleIds:e.PropTypes.arrayOf(e.PropTypes.string).isRequired,week:e.PropTypes.number.isRequired},o);module.exports=l(p,["CourseStore"],function(n,e){var o=n.CourseStore,r=e.week,t=e.moduleIds;return{modules:_(t.map(function(module){return o.getModule(module)})).compact()}})});
define("bundles/ondemand/components/HonorsInfoModal",["require","exports","module","react","js/lib/coursera.react-intl","i18n!nls/ondemand","bundles/ondemand/components/HonorsModal"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),n=0;n<s.length;n++){var t=s[n],o=Object.getOwnPropertyDescriptor(r,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var o,t,e=require("react"),s=require("js/lib/coursera.react-intl"),r=s.FormattedHTMLMessage,n=require("i18n!nls/ondemand"),a=require("bundles/ondemand/components/HonorsModal");module.exports=(t=o=function(t){function HonorsInfoModal(){var o,e,r;_classCallCheck(this,HonorsInfoModal);for(var s=arguments.length,a=Array(s),n=0;s>n;n++)a[n]=arguments[n];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(a))),e.handleCloseModal=function(){e.props.onClose()},r=o,_possibleConstructorReturn(e,r)}return _inherits(HonorsInfoModal,t),HonorsInfoModal.prototype.render=function render(){var t=e.createElement("div",{className:"rc-HonorsInfoModal body-1-text vertical-box"},e.createElement("p",null,e.createElement(r,{message:n('Complete <span class="body-2-text">all</span> Honors assignments to earn special\n                        recognition on your course certificate! Honors lessons include additional videos and\n                        assignments that go above and beyond the course. They\'re not required, but we encourage\n                        you to check them out.')})),e.createElement("p",null,e.createElement(r,{message:n('Learners who complete <span class="body-2-text">all</span> Honors assignments will see\n                        <span class="body-2-text">"WITH HONORS"</span> on their course certificate.')})),e.createElement("button",{className:"primary cozy align-self-center honors-buttons",onClick:this.handleCloseModal},n("Got it!")));return e.createElement(a,{title:n("Complete the Course with Honors!"),content:t,onClose:this.handleCloseModal})},HonorsInfoModal}(e.Component),o.propTypes={onClose:e.PropTypes.func.isRequired},t)});

define('css!bundles/ondemand/components/__styles__/Syllabus',[],function(){})
define("bundles/ondemand/components/Syllabus",["require","exports","module","react","underscore","bundles/ondemand/shapes/Period","bundles/ondemand/components/SyllabusPeriod","bundles/ondemand/components/HonorsSyllabusPeriod","bundles/ondemand/components/HonorsInfoModal","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/ondemand","css!./__styles__/Syllabus.css"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),o=0;o<s.length;o++){var n=s[o],t=Object.getOwnPropertyDescriptor(r,n);t&&t.configurable&&void 0===e[n]&&Object.defineProperty(e,n,t)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var n,t,e=require("react"),_=require("underscore"),r=require("bundles/ondemand/shapes/Period"),s=require("bundles/ondemand/components/SyllabusPeriod"),a=require("bundles/ondemand/components/HonorsSyllabusPeriod"),l=require("bundles/ondemand/components/HonorsInfoModal"),c=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),o=require("i18n!nls/ondemand");require("css!./__styles__/Syllabus.css");var d=(t=n=function(n){function Syllabus(){var t,e,r;_classCallCheck(this,Syllabus);for(var s=arguments.length,a=Array(s),o=0;s>o;o++)a[o]=arguments[o];return t=e=_possibleConstructorReturn(this,n.call.apply(n,[this].concat(a))),e.state={showHonorsModal:!1},e.onClose=function(){e.setState({showHonorsModal:!1})},e.showHonorsModal=function(){e.setState({showHonorsModal:!0})},r=t,_possibleConstructorReturn(e,r)}return _inherits(Syllabus,n),Syllabus.prototype.render=function render(){return e.createElement("div",{className:"rc-Syllabus od-container comfy card-no-action primary styleguide"},e.createElement("div",{className:"horizontal-box"},e.createElement("h2",{className:"flex-1 headline-2-text card-headline"},o("Syllabus"))),_(this.props.weekMap).map(function(n,t){var o=parseInt(t,10);return e.createElement(s,{key:o,moduleIds:n.moduleIds,week:o})}),this.props.honorsTrackEnabled&&e.createElement("div",{className:"honors-syllabus"},e.createElement("div",{className:"honors-title border-bottom"},e.createElement("h3",{className:"headline-1-text"},o("Honors")),e.createElement("span",{className:"caption-text"},o("These materials are additional and optional.")," ",e.createElement("button",{className:"button-link",onClick:this.showHonorsModal},o("Learn more.")))),_(this.props.weekMap).map(function(n,t){var o=parseInt(t,10);return e.createElement(a,{key:o,moduleIds:n.moduleIds,week:o})}),this.state.showHonorsModal&&e.createElement(l,{onClose:this.onClose})))},Syllabus}(e.Component),n.propTypes={weekMap:e.PropTypes.objectOf(r),honorsTrackEnabled:e.PropTypes.bool.isRequired},t);module.exports=c(d,["CourseStore","CourseScheduleStore"],function(e,t){var o=e.CourseStore,n=e.CourseScheduleStore;return{weekMap:n.getSchedule().weekMap,honorsTrackEnabled:o.getMaterials().honorsTrackEnabled()}})});

define('css!bundles/ondemand/components/enrollBox/__styles__/CoursePassedBox',[],function(){})
define("bundles/ondemand/components/enrollBox/CoursePassedBox",["require","exports","module","react","moment","bundles/phoenix/lib/waitForStores","js/lib/coursera.react-intl","bundles/ondemand/components/HonorsBanner","pages/open-course/common/models/tracks","js/components/Imgix","js/lib/path","i18n!nls/ondemand","pages/open-course/common/constants","css!./__styles__/CoursePassedBox.css"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),o=0;o<r.length;o++){var t=r[o],s=Object.getOwnPropertyDescriptor(n,t);s&&s.configurable&&void 0===e[t]&&Object.defineProperty(e,t,s)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var t,s,e=require("react"),r=require("moment"),a=require("bundles/phoenix/lib/waitForStores"),f=require("js/lib/coursera.react-intl"),c=f.FormattedMessage,i=require("bundles/ondemand/components/HonorsBanner"),l=require("pages/open-course/common/models/tracks"),p=l.HONORS_TRACK,u=require("js/components/Imgix"),m=require("js/lib/path"),n=require("i18n!nls/ondemand"),d=require("pages/open-course/common/constants").assets.rootPath;require("css!./__styles__/CoursePassedBox.css");var o=(s=t=function(o){function CoursePassedBox(){return _classCallCheck(this,CoursePassedBox),_possibleConstructorReturn(this,o.apply(this,arguments))}return _inherits(CoursePassedBox,o),CoursePassedBox.prototype.render=function render(){return e.createElement("div",{className:"rc-CoursePassedBox rc-EnrollBox vertical-box align-items-vertical-center od-container styleguide"},e.createElement(u,{className:"badge",alt:"VC Image",src:m.join(d,"bundles/ondemand/assets/images/infinity_badge.png")}),e.createElement("h5",null,n("You've completed this course")),this.props.courseCompletionTime&&e.createElement("span",{className:"caption-text passed-session-dates"},e.createElement(c,{message:n("Completed on {date}"),date:r(this.props.courseCompletionTime).format("l")})),this.props.hasPassedHonorsTrack&&e.createElement(i,null))},CoursePassedBox}(e.Component),t.propTypes={hasPassedHonorsTrack:e.PropTypes.bool,courseCompletionTime:e.PropTypes.number},s);module.exports=a(o,["CourseStore","CourseViewGradeStore","CertificateStore"],function(e){var o=e.CourseStore,t=e.CourseViewGradeStore,s=e.CertificateStore,n=o.getCourseId();return{hasPassedHonorsTrack:t.hasPassedTrack(p),courseCompletionTime:s.getCourseCompletionTime({courseId:n})}}),module.exports.baseComp=o});
define("bundles/ondemand/components/enrollBox/LoggedOutBox",["require","exports","module","react-router","react","jsuri","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/page/components/TrackedButton","i18n!nls/ondemand"],function(require,exports,module){var n=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},r=require("react-router"),s=r.State,e=require("react"),o=require("jsuri"),a=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),i=require("bundles/page/components/TrackedButton"),t=require("i18n!nls/ondemand"),c=e.createClass({displayName:"LoggedOutBox",propTypes:{ensureAuthenticated:e.PropTypes.func.isRequired},contextTypes:{router:e.PropTypes.object.isRequired},handleLoginClick:function handleLoginClick(){this.props.ensureAuthenticated({redirectUrl:this.getRedirectUrlAfterAuth()})},getRedirectUrlAfterAuth:function getRedirectUrlAfterAuth(){var e=new o(this.context.router.location.pathname);return e.addQueryParam("action","enroll"),e.toString()},render:function render(){return e.createElement("div",{className:"rc-LoggedOutBox rc-EnrollBox cozy od-container theme-dark"},e.createElement("div",{className:"vertical-box styleguide"},e.createElement("h3",{className:"color-primary-text"},t("Log in to enroll in this course")),e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement(i,{trackingName:"logged_out_box_login",onClick:this.handleLoginClick,className:"primary"},t("Log in")))))}});module.exports=a(c,["ApplicationStore"],function(e,t){var r=e.ApplicationStore,o=r.ensureAuthenticated;return n({},t,{ensureAuthenticated:o})})});
define("bundles/ondemand/components/enrollBox/NoSessionBox",["require","exports","module","react","i18n!nls/ondemand"],function(require,exports,module){function _defaults(e,r){for(var a=Object.getOwnPropertyNames(r),t=0;t<a.length;t++){var n=a[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var e=require("react"),t=require("i18n!nls/ondemand"),n=function(n){function NoSessionBox(){return _classCallCheck(this,NoSessionBox),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(NoSessionBox,n),NoSessionBox.prototype.render=function render(){return e.createElement("div",{className:"rc-NoSessionBox rc-EnrollBox cozy od-container card-rich-interaction"},e.createElement("div",{className:"vertical-box align-items-absolute-center styleguide"},e.createElement("h4",{className:"color-primary-text no-sessions-available"},t("There are no sessions available for this course.")),e.createElement("p",null,t("Check back later for updates about upcoming sessions."))))},NoSessionBox}(e.Component);module.exports=n});
define("bundles/ondemand/components/enrollBox/OnDemandBox",["require","exports","module","classnames","react","bundles/ondemand/components/enrollButton/EnrollButton","bundles/ondemand/models/S12n","bundles/ondemand/utils/areDeadlinesBlacklisted","bundles/payments/promises/productPrices","bundles/payments-common/components/ReactPriceDisplay","i18n!nls/ondemand","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){var t=require("classnames"),e=require("react"),a=require("bundles/ondemand/components/enrollButton/EnrollButton"),o=require("bundles/ondemand/models/S12n"),r=require("bundles/ondemand/utils/areDeadlinesBlacklisted"),d=require("bundles/payments/promises/productPrices"),i=d.getPriceForVC,l=require("bundles/payments-common/components/ReactPriceDisplay"),s=require("i18n!nls/ondemand"),c=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),n=e.createClass({displayName:"OnDemandBox",propTypes:{hasS12nLoaded:e.PropTypes.bool.isRequired,s12n:e.PropTypes.instanceOf(o),courseId:e.PropTypes.string,isTakingS12n:e.PropTypes.bool,isEnrolled:e.PropTypes.bool},contextTypes:{router:e.PropTypes.object.isRequired},getInitialState:function getInitialState(){return{price:null}},componentDidMount:function componentDidMount(){this.props.isTakingS12n&&!this.props.s12n.ownsCourse(this.props.courseId)&&this.loadPrice()},componentWillReceiveProps:function componentWillReceiveProps(e){e.isTakingS12n&&!e.s12n.ownsCourse(this.props.courseId)&&this.loadPrice()},loadPrice:function loadPrice(){var e=this;i({courseId:this.props.courseId}).then(function(n){return e.setState({price:n})}).done()},render:function render(){if(!this.props.hasS12nLoaded)return null;var n=t("rc-EnrollBox","rc-OnDemandBox","cozy","od-container",{"theme-dark":!this.props.isEnrolled,"card-rich-interaction":this.props.isEnrolled});return e.createElement("div",null,e.createElement("div",{className:n},e.createElement("div",{className:"vertical-box styleguide"},e.createElement("h3",{className:"color-primary-text"},s(this.props.isEnrolled?"You're enrolled in this course":"Start learning now")),!r(this.props.courseId)&&e.createElement("p",{className:"color-primary-text"},s("This course is self-paced, with suggested deadlines to help you keep on track.")),this.state.price&&e.createElement("h3",{className:"price color-primary-text"},e.createElement(l,{value:this.state.price.getDisplayAmount(),currency:this.state.price.getDisplayCurrencyCode()})),e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement(a,null)))))}});module.exports=c(n,["CourseStore","S12nStore","CourseMembershipStore"],function(e,i){var o=e.CourseStore,s=e.S12nStore,r=e.CourseMembershipStore,n=s.getS12n(),t=o.getCourseId();return{hasS12nLoaded:s.hasLoaded(),courseId:t,s12n:n,isTakingS12n:n&&n.isTakingS12n(),isEnrolled:r.isEnrolled()}}),module.exports.BaseComp=n});

define('css!bundles/ondemand/components/enrollBox/__styles__/PreEnrollBox',[],function(){})
define("bundles/ondemand/components/enrollBox/PreEnrollBox",["require","exports","module","classnames","react","bundles/ondemand/components/enrollButton/EnrollButton","bundles/payments/promises/productPrices","pages/open-course/common/models/course","bundles/payments-common/components/ReactPriceDisplay","i18n!nls/ondemand","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/PreEnrollBox"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),o=0;o<s.length;o++){var n=s[o],t=Object.getOwnPropertyDescriptor(r,n);t&&t.configurable&&void 0===e[n]&&Object.defineProperty(e,n,t)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var t,r,s=require("classnames"),e=require("react"),d=require("bundles/ondemand/components/enrollButton/EnrollButton"),i=require("bundles/payments/promises/productPrices"),a=i.getPriceForVC,c=require("pages/open-course/common/models/course"),l=require("bundles/payments-common/components/ReactPriceDisplay"),p=require("i18n!nls/ondemand"),o=require("pages/open-course/common/constants"),u=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!./__styles__/PreEnrollBox");var n=(r=t=function(n){function PreEnrollBox(o,t){_classCallCheck(this,PreEnrollBox);var e=_possibleConstructorReturn(this,n.call(this,o,t));return e.state={price:null},e}return _inherits(PreEnrollBox,n),PreEnrollBox.prototype.componentDidMount=function componentDidMount(){this.props.isTakingS12n&&!this.props.ownsS12nCourse&&this.loadPrice()},PreEnrollBox.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.isTakingS12n&&!e.ownsS12nCourse&&this.loadPrice()},PreEnrollBox.prototype.loadPrice=function loadPrice(){var e=this;a({courseId:o.courseId}).then(function(o){return e.setState({price:o})}).done()},PreEnrollBox.prototype.render=function render(){if(!this.props.hasS12nLoaded)return null;var o=this.props,t=o.isCapstone,r=o.isEligibleForCapstone,i=o.ownsS12nCourse,a=o.course,n=!this.props.isEnrolled&&(!t||r&&i),c=s("cozy","od-container","styleguide",{"theme-dark":n,"card-rich-interaction":!n});return e.createElement("div",null,e.createElement("div",{className:"rc-EnrollBox rc-PreEnrollBox"},e.createElement("div",{className:c},e.createElement("p",{className:"color-primary-text"},p("Course start date:")),e.createElement("h3",{className:"headline-2-text upcoming-session-dates color-primary-text"},e.createElement("span",{className:"start-date"},this.props.course.get("plannedLaunchDate"))),this.state.price&&!this.props.isEnrolled&&e.createElement("h3",{className:"price color-primary-text"},e.createElement(l,{value:this.state.price.getDisplayAmount(),currency:this.state.price.getDisplayCurrencyCode()})),(n||this.props.isEnrolled)&&e.createElement("div",{className:"align-right button-container"},e.createElement(d,{course:a})))))},PreEnrollBox}(e.Component),t.propTypes={course:e.PropTypes.instanceOf(c).isRequired,hasS12nLoaded:e.PropTypes.bool.isRequired,isCapstone:e.PropTypes.bool,isEligibleForCapstone:e.PropTypes.bool,isTakingS12n:e.PropTypes.bool,ownsS12nCourse:e.PropTypes.bool,isEnrolled:e.PropTypes.bool},r);module.exports=u(n,["S12nStore","CourseStore","CourseMembershipStore"],function(n,i){var t=n.S12nStore,s=n.CourseStore,r=n.CourseMembershipStore,e=t.getS12n();return{course:s.getMetadata(),hasS12nLoaded:t.hasLoaded(),isCapstone:e&&e.isCapstone(o.courseId),isEligibleForCapstone:e&&e.isEligibleForCapstone(),isTakingS12n:e&&e.isTakingS12n(),ownsS12nCourse:e&&e.ownsCourse(o.courseId),isEnrolled:r.isPreEnrolled()||r.isEnrolled()}}),module.exports.BaseComp=n});

define('css!bundles/ondemand/components/enrollBox/__styles__/SessionEnrollBox',[],function(){})
define("bundles/ondemand/components/enrollBox/SessionEnrollBox",["require","exports","module","classnames","react","bundles/ondemand/components/enrollButton/EnrollButton","bundles/ondemand/actions/SessionActions","bundles/payments/promises/productPrices","bundles/phoenix/template/models/userIdentity","js/lib/coursera.react-intl","bundles/payments-common/components/ReactPriceDisplay","i18n!nls/ondemand","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/SessionEnrollBox"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),o=0;o<r.length;o++){var t=r[o],n=Object.getOwnPropertyDescriptor(s,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var t,i,y=require("classnames"),e=require("react"),a=require("bundles/ondemand/components/enrollButton/EnrollButton"),l=require("bundles/ondemand/actions/SessionActions"),S=l.updateEnrollableAndFollowingSessions,c=require("bundles/payments/promises/productPrices"),p=c.getPriceForVC,d=require("bundles/phoenix/template/models/userIdentity"),u=require("js/lib/coursera.react-intl"),n=u.FormattedMessage,m=require("bundles/payments-common/components/ReactPriceDisplay"),o=require("i18n!nls/ondemand"),s=require("pages/open-course/common/constants"),g=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!./__styles__/SessionEnrollBox");var r=(i=t=function(t){function SessionEnrollBox(){var n,o,s;_classCallCheck(this,SessionEnrollBox);for(var r=arguments.length,i=Array(r),e=0;r>e;e++)i[e]=arguments[e];return n=o=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),o.state={price:null},s=n,_possibleConstructorReturn(o,s)}return _inherits(SessionEnrollBox,t),SessionEnrollBox.prototype.componentDidMount=function componentDidMount(){this.props.followingSession||this.context.executeAction(S,{courseId:this.props.courseId,sessionId:this.props.sessionId}),this.props.isTakingS12n&&!this.props.ownsS12nCourse&&this.loadPrice()},SessionEnrollBox.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.isTakingS12n&&!e.ownsS12nCourse&&this.loadPrice()},SessionEnrollBox.prototype.loadPrice=function loadPrice(){var e=this;p({courseId:s.courseId}).then(function(o){return e.setState({price:o})}).done()},SessionEnrollBox.prototype.renderFollowingSession=function renderFollowingSession(){return e.createElement("div",{className:"following-session card-no-action primary"},e.createElement("p",{className:"color-secondary-text"},e.createElement(n,{message:o("Following session begins {startDate}"),startDate:this.props.followingSession.getStartDate()})))},SessionEnrollBox.prototype.render=function render(){if(!this.props.hasS12nLoaded)return null;var t=this.props,i=t.isCapstone,l=t.isEligibleForCapstone,w=t.ownsS12nCourse,c=t.startDate,p=t.endDate,u=t.timeUntilStart,s=this.props,S=s.isPreviewMode,b=s.sessionId,f=s.enrollmentEndDate,E=s.isUpcoming,h=s.followingSession,P=l&&w,r=!i&&!d.get("authenticated")||!this.state.isEnrolled&&(!i||P),g=y("cozy","od-container","styleguide","primary-enroll-box",{"theme-dark":r,"card-rich-interaction":!r});return e.createElement("div",null,e.createElement("div",{className:"rc-EnrollBox rc-SessionEnrollBox"},e.createElement("div",{className:g},e.createElement("p",{className:"color-primary-text"},o(E?"Upcoming session:":"Current session:")),e.createElement("h3",{className:"headline-2-text session-dates color-primary-text"},e.createElement("span",{className:"session-date"},c)," - ",e.createElement("span",{className:"session-date"},p)),this.state.price&&e.createElement("h3",{className:"color-primary-text"},e.createElement(m,{value:this.state.price.getDisplayAmount(),currency:this.state.price.getDisplayCurrencyCode()})),S&&!(i&&!l)&&e.createElement("div",{className:"align-right button-container"},e.createElement("p",{className:"color-secondary-text"},r?e.createElement(n,{message:o("Enrollment ends {enrollmentEndDate}"),enrollmentEndDate:f}):e.createElement(n,{message:o("{timeUntilStart} until session begins"),timeUntilStart:u})),e.createElement(a,{ref:"enrollButton",sessionId:b}))),r&&h&&this.renderFollowingSession()))},SessionEnrollBox}(e.Component),t.propTypes={hasS12nLoaded:e.PropTypes.bool.isRequired,isCapstone:e.PropTypes.bool,isEligibleForCapstone:e.PropTypes.bool,isTakingS12n:e.PropTypes.bool,ownsS12nCourse:e.PropTypes.bool,sessionId:e.PropTypes.string,courseId:e.PropTypes.string,timeUntilStart:e.PropTypes.string,enrollmentEndDate:e.PropTypes.object,isPreviewMode:e.PropTypes.bool,endDate:e.PropTypes.object,startDate:e.PropTypes.object,isUpcoming:e.PropTypes.bool,isEnrolled:e.PropTypes.bool,followingSession:e.PropTypes.object},t.contextTypes={executeAction:e.PropTypes.func.isRequired},i);module.exports=g(r,["CourseStore","S12nStore","SessionStore"],function(t,i){var r=t.CourseStore,n=t.S12nStore,e=t.SessionStore,o=n.getS12n();return{hasS12nLoaded:n.hasLoaded(),isCapstone:o&&o.isCapstone(s.courseId),isEligibleForCapstone:o&&o.isEligibleForCapstone(),isTakingS12n:o&&o.isTakingS12n(),ownsS12nCourse:o&&o.ownsCourse(s.courseId),sessionId:e.getSessionId(),courseId:r.getCourseId(),timeUntilStart:e.getTimeUntilStart(),enrollmentEndDate:e.getEnrollmentEndDate(),isPreviewMode:e.isPreviewMode(),endDate:e.getEndDate(),startDate:e.getStartDate(),isUpcoming:e.isUpcoming(),isEnrolled:e.isEnrolled(),followingSession:e.getFollowingSession()}}),module.exports.BaseComp=r});

define('css!bundles/ondemand/components/sessions/__styles__/SessionSwitchModal',[],function(){})

define('css!bundles/ondemand/components/enrollBox/__styles__/SessionSwitchBox',[],function(){})
define("bundles/ondemand/components/enrollBox/SessionSwitchBox",["require","exports","module","underscore","react","bundles/ondemand/components/sessions/SessionSwitchModal","bundles/ondemand/actions/SessionActions","js/lib/coursera.react-intl","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/ondemand","css!./__styles__/SessionSwitchBox.css"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),s=0;s<r.length;s++){var o=r[s],t=Object.getOwnPropertyDescriptor(n,o);t&&t.configurable&&void 0===e[o]&&Object.defineProperty(e,o,t)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var o,t,n=require("underscore"),r=n.compose,e=require("react"),i=require("bundles/ondemand/components/sessions/SessionSwitchModal"),a=require("bundles/ondemand/actions/SessionActions"),c=a.updateEnrollableAndFollowingSessions,l=require("js/lib/coursera.react-intl"),d=l.FormattedMessage,p=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),s=require("i18n!nls/ondemand");require("css!./__styles__/SessionSwitchBox.css");var u=(t=o=function(o){function SessionSwitchBox(s,t){_classCallCheck(this,SessionSwitchBox);var e=_possibleConstructorReturn(this,o.call(this,s,t));return e.state={showModal:!1},e.handleClose=function(){e.setState({showModal:!1})},e.showModal=function(){e.setState({showModal:!0})},e.state={showModal:!1},e}return _inherits(SessionSwitchBox,o),SessionSwitchBox.prototype.componentDidMount=function componentDidMount(){this.props.followingSession||this.context.executeAction(c,{courseId:this.props.courseId,sessionId:this.props.sessionId})},SessionSwitchBox.prototype.render=function render(){var o=this.props,t=o.enrollableSession,n=o.followingSession,a=o.sessionDates,r=o.isSessionPrivate;if(!t)return e.createElement("div",null);return e.createElement("div",{className:"rc-EnrollBox rc-SessionSwitchBox"},e.createElement("div",{className:"current-session card-rich-interaction od-container cozy"},e.createElement("span",{className:"caption-text color-secondary-text"},s("You're currently enrolled in this session:")),e.createElement("span",{className:"current-session-dates caption-text color-secondary-text"},a)),!r&&e.createElement("div",{className:"upcoming-session od-container cozy styleguide theme-dark"},e.createElement("p",{className:"color-primary-text"},s("Upcoming session:")),e.createElement("h3",{className:"headline-2-text upcoming-session-dates color-primary-text"},e.createElement("span",{className:"session-date"},t.getStartDate())," - ",e.createElement("span",{className:"session-date"},t.getEndDate())),e.createElement("div",{className:"button-container"},e.createElement("button",{className:"primary",onClick:this.showModal},s("Switch sessions")))),!r&&n&&e.createElement("div",{className:"following-session card-rich-interaction"},e.createElement("span",{className:"caption-text color-secondary-text"},e.createElement(d,{message:s("Following session begins {startDate}"),startDate:n.getStartDate()}))),this.state.showModal&&e.createElement(i,{onClose:this.handleClose,courseId:this.props.courseId}))},SessionSwitchBox}(e.Component),o.propTypes={hasEnded:e.PropTypes.bool.isRequired,followingSession:e.PropTypes.object,enrollableSession:e.PropTypes.object,sessionId:e.PropTypes.string,courseId:e.PropTypes.string,sessionDates:e.PropTypes.string,isSessionPrivate:e.PropTypes.bool.isRequired},o.contextTypes={executeAction:e.PropTypes.func.isRequired},t);module.exports=r(p(["CourseStore","SessionStore"],function(s){var o=s.CourseStore,e=s.SessionStore;return{followingSession:e.getFollowingSession(),enrollableSession:e.getEnrollableSession(),courseId:o.getCourseId(),sessionId:e.getSessionId(),sessionDates:e.getSessionDates(),isSessionPrivate:e.isSessionPrivate()}}))(u)});
define("bundles/ondemand/components/enrollBox/SessionBox",["require","exports","module","react","bundles/ondemand/components/enrollBox/SessionEnrollBox","bundles/ondemand/components/enrollBox/SessionSwitchBox","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),o=0;o<s.length;o++){var n=s[o],t=Object.getOwnPropertyDescriptor(r,n);t&&t.configurable&&void 0===e[n]&&Object.defineProperty(e,n,t)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var n,o,e=require("react"),t=require("bundles/ondemand/components/enrollBox/SessionEnrollBox"),r=require("bundles/ondemand/components/enrollBox/SessionSwitchBox"),s=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),i=(o=n=function(o){function SessionBox(){return _classCallCheck(this,SessionBox),_possibleConstructorReturn(this,o.apply(this,arguments))}return _inherits(SessionBox,o),SessionBox.prototype.render=function render(){return this.props.isPreviewMode||!this.props.isLagging&&!this.props.hasSessionEnded?e.createElement(t,null):e.createElement(r,{hasEnded:this.props.hasSessionEnded})},SessionBox}(e.Component),n.propTypes={isLagging:e.PropTypes.bool.isRequired,isPreviewMode:e.PropTypes.bool,hasSessionEnded:e.PropTypes.bool},o);module.exports=s(i,["CourseScheduleStore","SessionStore"],function(e,t){var n=e.CourseScheduleStore,o=e.SessionStore;return{isLagging:n.isLagging(),isPreviewMode:o.isPreviewMode(),hasSessionEnded:o.hasEnded()}})});

define('css!bundles/ondemand/components/enrollBox/__styles__/EnrollBox',[],function(){})
define("bundles/ondemand/components/enrollBox/EnrollBox",["require","exports","module","react","bundles/ondemand/components/enrollBox/CoursePassedBox","bundles/ondemand/components/enrollBox/LoggedOutBox","bundles/ondemand/components/enrollBox/NoSessionBox","bundles/ondemand/components/enrollBox/OnDemandBox","bundles/ondemand/components/enrollBox/PreEnrollBox","bundles/ondemand/components/enrollBox/SessionBox","bundles/phoenix/lib/waitForStores","bundles/phoenix/template/models/userIdentity","css!./__styles__/EnrollBox"],function(require,exports,module){function _defaults(e,r){for(var t=Object.getOwnPropertyNames(r),o=0;o<t.length;o++){var n=t[o],s=Object.getOwnPropertyDescriptor(r,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var o,n,e=require("react"),r=require("bundles/ondemand/components/enrollBox/CoursePassedBox"),s=require("bundles/ondemand/components/enrollBox/LoggedOutBox"),t=require("bundles/ondemand/components/enrollBox/NoSessionBox"),l=require("bundles/ondemand/components/enrollBox/OnDemandBox"),i=require("bundles/ondemand/components/enrollBox/PreEnrollBox"),a=require("bundles/ondemand/components/enrollBox/SessionBox"),d=require("bundles/phoenix/lib/waitForStores"),p=require("bundles/phoenix/template/models/userIdentity");require("css!./__styles__/EnrollBox");var u=(n=o=function(o){function EnrollBox(){return _classCallCheck(this,EnrollBox),_possibleConstructorReturn(this,o.apply(this,arguments))}return _inherits(EnrollBox,o),EnrollBox.prototype.render=function render(){var o=this.props.isSessionAvailable?e.createElement(a,null):e.createElement(t,null);return p.get("authenticated")?this.props.hasPassedCourse?e.createElement(r,null):!this.props.isSessionAvailable&&this.props.isPreEnrollEnabled?e.createElement(i,null):this.props.isSessionsEnabled?o:e.createElement(l,null):this.props.isCapstone||this.props.isSessionAvailable?o:e.createElement(s,null)},EnrollBox}(e.Component),o.propTypes={isCapstone:e.PropTypes.bool.isRequired,isPreEnrollEnabled:e.PropTypes.bool.isRequired,hasPassedCourse:e.PropTypes.bool.isRequired,isSessionAvailable:e.PropTypes.bool,isSessionsEnabled:e.PropTypes.bool},n);module.exports=d(u,{requiredStores:["S12nStore","CourseStore","SessionStore"],lazyStores:["CourseViewGradeStore"]},function(e,i){var r=e.S12nStore,o=e.CourseStore,t=e.CourseViewGradeStore,n=e.SessionStore,s=r.getS12n(),l=o.getCourseId();return{isPreEnrollEnabled:o.isPreEnrollEnabledForUser(),isCapstone:!!s&&s.isCapstone(l),hasPassedCourse:!!t.hasPassedCourse(),isSessionAvailable:n.isSessionAvailable(),isSessionsEnabled:n.isSessionsEnabled()}})});

define('css!bundles/ondemand/components/s12n/__styles__/CapstoneBanner',[],function(){})
define("bundles/ondemand/components/s12n/CapstoneBanners",["require","exports","module","react","bundles/catalogP/models/s12n","bundles/s12n-enroll/components/S12nEnrollModal","i18n!nls/ondemand","pages/open-course/common/constants","css!./__styles__/CapstoneBanner.css"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),n=0;n<s.length;n++){var t=s[n],o=Object.getOwnPropertyDescriptor(r,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var o,r,e=require("react"),s=require("bundles/catalogP/models/s12n"),a=require("bundles/s12n-enroll/components/S12nEnrollModal"),n=require("i18n!nls/ondemand"),l=require("pages/open-course/common/constants"),i=l.courseId;require("css!./__styles__/CapstoneBanner.css");var t=(r=o=function(n){function CapstoneBanner(){return _classCallCheck(this,CapstoneBanner),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(CapstoneBanner,n),CapstoneBanner.prototype.render=function render(){return e.createElement("div",{className:"rc-CapstoneBanner horizontal-box theme-dark align-items-vertical-center"},e.createElement("span",{className:"flex-1 body-1-text"},this.props.bodyText),e.createElement("a",{href:this.props.buttonLink},e.createElement("button",{className:"primary",onClick:this.props.onClick},this.props.buttonText)))},CapstoneBanner}(e.Component),o.propTypes={bodyText:e.PropTypes.string.isRequired,buttonText:e.PropTypes.string.isRequired,buttonLink:e.PropTypes.string,onClick:e.PropTypes.func},o.defaultProps={onClick:function onClick(){}},r);exports.NotInS12nBanner=e.createClass({displayName:"NotInS12nBanner",propTypes:{sdpLink:e.PropTypes.string.isRequired},render:function render(){var o=n("To unlock this Capstone Project, join the Specialization and pass all its courses."),r=n("Learn more");return e.createElement(t,{bodyText:o,buttonText:r,buttonLink:this.props.sdpLink})}}),exports.NotEligibleBanner=e.createClass({displayName:"NotEligibleBanner",render:function render(){var o=n("You'll unlock this Capstone once you successfully pass all courses in the Specialization."),r=n("View progress");return e.createElement(t,{bodyText:o,buttonText:r,buttonLink:"/"})}}),exports.PurchaseCapstoneBanner=e.createClass({displayName:"PurchaseCapstoneBanner",propTypes:{s12n:e.PropTypes.instanceOf(s).isRequired},getInitialState:function getInitialState(){return{showEnrollModal:!1}},handleClick:function handleClick(){this.toggleEnrollModal()},toggleEnrollModal:function toggleEnrollModal(){this.setState({showEnrollModal:!this.state.showEnrollModal})},renderEnrollModal:function renderEnrollModal(){return e.createElement(a,{s12nId:this.props.s12n.get("id"),courseIdOverride:i,ref:"s12nEnrollModal",onClose:this.toggleEnrollModal})},render:function render(){var o=n("Congratulations! You've unlocked this Capstone Project and can enroll after payment."),r=n("Purchase");return e.createElement("div",null,e.createElement(t,{bodyText:o,buttonText:r,onClick:this.handleClick}),this.state.showEnrollModal&&this.renderEnrollModal())}})});
define("bundles/ondemand/components/s12n/CapstoneStatusBanner",["require","exports","module","react","bundles/catalogP/models/s12n","bundles/phoenix/template/models/userIdentity","bundles/ondemand/components/s12n/CapstoneBanners","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),n=0;n<r.length;n++){var o=r[n],t=Object.getOwnPropertyDescriptor(s,o);t&&t.configurable&&void 0===e[o]&&Object.defineProperty(e,o,t)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var t,s,e=require("react"),i=require("bundles/catalogP/models/s12n"),r=require("bundles/phoenix/template/models/userIdentity"),o=require("bundles/ondemand/components/s12n/CapstoneBanners"),p=o.NotInS12nBanner,a=o.NotEligibleBanner,l=o.PurchaseCapstoneBanner,c=require("pages/open-course/common/constants"),n=c.courseId,u=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),d=(s=t=function(n){function CapstoneStatusBanner(){return _classCallCheck(this,CapstoneStatusBanner),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(CapstoneStatusBanner,n),CapstoneStatusBanner.prototype.render=function render(){if(!this.props.isCapstone)return null;if(!r.get("authenticated")||!this.props.isTakingS12n)return e.createElement(p,{sdpLink:this.props.s12nLink});if(this.props.isTakingS12n&&!this.props.isEligibleForCapstone)return e.createElement(a,null);if(this.props.isEligibleForCapstone&&!this.props.ownsCapstone)return e.createElement(l,{s12n:this.props.s12nBackboneModel});return null},CapstoneStatusBanner}(e.Component),t.propTypes={isCapstone:e.PropTypes.bool.isRequired,s12nLink:e.PropTypes.string,isTakingS12n:e.PropTypes.bool,isEligibleForCapstone:e.PropTypes.bool,s12nBackboneModel:e.PropTypes.instanceOf(i),ownsCapstone:e.PropTypes.bool},s);module.exports=u(d,["S12nStore"],function(o,s){var t=o.S12nStore,e=t.getS12n();return e&&e.isCapstone(n)?{isCapstone:e.isCapstone(n),s12nLink:e.getLink(),isTakingS12n:e.isTakingS12n(),isEligibleForCapstone:e.isEligibleForCapstone(),s12nBackboneModel:e.getBackboneModel(),ownsCapstone:e.isCapstone(n)&&e.ownsCourse(n)}:{isCapstone:!1}})});

define('css!bundles/ondemand/components/s12n/__styles__/S12nInfoBox',[],function(){})
define("bundles/ondemand/components/s12n/S12nInfoBox",["require","exports","module","react","bundles/ondemand/models/S12n","js/lib/coursera.react-intl","i18n!nls/ondemand","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/S12nInfoBox"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),n=0;n<s.length;n++){var t=s[n],o=Object.getOwnPropertyDescriptor(r,t);o&&o.configurable&&void 0===e[t]&&Object.defineProperty(e,t,o)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var t,o,e=require("react"),s=require("bundles/ondemand/models/S12n"),a=require("js/lib/coursera.react-intl"),r=a.FormattedMessage,n=require("i18n!nls/ondemand"),c=require("pages/open-course/common/constants"),i=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!./__styles__/S12nInfoBox");var l=(o=t=function(t){function S12nInfoBox(){return _classCallCheck(this,S12nInfoBox),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(S12nInfoBox,t),S12nInfoBox.prototype.render=function render(){var o=this.props,t=o.s12n,s=o.courseName;if(!t)return null;var a=t.getCourseNumber(c.courseId),i=t.getNumCourses();return e.createElement("div",{className:"rc-S12nInfoBox styleguide card-no-action primary comfy od-container"},e.createElement("h2",{className:"title headline-2-text card-headline"},i>a?e.createElement(r,{message:n("{courseName} is course {courseNum} of {numCourses} in the {s12nName} Specialization."),courseName:s,courseNum:a,numCourses:i,s12nName:t.getName()}):e.createElement(r,{message:n("{courseName} is the last course in the {s12nName} Specialization."),courseName:s,s12nName:t.getName()})),e.createElement("span",{className:"s12n-description"},t.getDescription()),e.createElement("div",{className:"metadata-box horizontal-box"},e.createElement("img",{className:"logo",src:t.getLogo()}),e.createElement("div",{className:"link-box flex-1 bgcolor-black-g1 horizontal-box align-items-vertical-center"},e.createElement("div",null,e.createElement("h5",{className:"s12n-name"},t.getName()),e.createElement("a",{className:"view-specialization",href:t.getLink()},n("View Specialization »"))))))},S12nInfoBox}(e.Component),t.propTypes={s12n:e.PropTypes.instanceOf(s),courseName:e.PropTypes.string.isRequired},o);module.exports=i(l,["S12nStore","CourseStore"],function(e,r){var n=e.S12nStore,t=e.CourseStore,o=n.getS12n();return{s12n:o,courseName:t.getMetadata().get("name")}})});

define('css!bundles/ondemand/components/sessions/__styles__/ModeSwitcher',[],function(){})
define("bundles/ondemand/components/sessions/ModeSwitcher",["require","exports","module","react","react-bootstrap","bundles/phoenix/template/models/userIdentity","bundles/outsourcing/utils","js/lib/coursera.redirect","js/lib/path","bundles/ondemand/utils/courseModeOverrideUtils","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/ondemand","css!./__styles__/ModeSwitcher"],function(require,exports,module){function _defaults(e,r){for(var n=Object.getOwnPropertyNames(r),o=0;o<n.length;o++){var t=n[o],s=Object.getOwnPropertyDescriptor(r,t);s&&s.configurable&&void 0===e[t]&&Object.defineProperty(e,t,s)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var l,c,e=require("react"),a=require("react-bootstrap"),b=a.DropdownButton,r=a.MenuItem,i=require("bundles/phoenix/template/models/userIdentity"),f=require("bundles/outsourcing/utils"),u=f.isOutsourcing,p=require("js/lib/coursera.redirect"),h=require("js/lib/path"),n=require("bundles/ondemand/utils/courseModeOverrideUtils"),E=n.getCourseModeOverride,S=n.setCourseModeOverride,o=n.courseModes,m=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),t=require("i18n!nls/ondemand");require("css!./__styles__/ModeSwitcher");var s={PRE_ENROLL:t("Pre-Enroll"),ON_DEMAND:t("On-Demand"),SESSIONS:t("Sessions")},d=(c=l=function(n){function ModeSwitcher(o,t){_classCallCheck(this,ModeSwitcher);var e=_possibleConstructorReturn(this,n.call(this,o,t));return e.handleDropdownChange=function(o){e.setState({selectedMode:o})},e.switchModes=function(){S(e.state.selectedMode),p.setLocation(h.join(window.location.href,"home","welcome"))},e.state={shouldShow:i.get("authenticated")&&(e.props.hasTeachingRole||i.get("is_superuser")||u(i))&&(o.isSessionsCourse||o.isPreEnrollEnabledForCourse),selectedMode:e.determineMode()},e}return _inherits(ModeSwitcher,n),ModeSwitcher.prototype.determineMode=function determineMode(){var e=E();if(e)return e;return this.props.isPreEnrollEnabledForCourse?o.PRE_ENROLL:this.props.isSessionsEnabled?o.SESSIONS:o.ON_DEMAND},ModeSwitcher.prototype.render=function render(){if(!this.state.shouldShow)return null;return e.createElement("div",{className:"rc-ModeSwitcher"},e.createElement("div",{className:"card-rich-interaction od-container cozy styleguide"},e.createElement("h2",{className:"headline-2-text card-headline"},t("Course Mode")),e.createElement("div",{className:"dropdown-section"},e.createElement(b,{title:s[this.state.selectedMode],onSelect:this.handleDropdownChange},this.state.selectedMode!==o.PRE_ENROLL&&this.props.isPreEnrollEnabledForCourse&&e.createElement(r,{eventKey:o.PRE_ENROLL},s[o.PRE_ENROLL]),this.state.selectedMode!==o.ON_DEMAND&&e.createElement(r,{eventKey:o.ON_DEMAND},s[o.ON_DEMAND]),this.state.selectedMode!==o.SESSIONS&&this.props.isSessionsCourse&&e.createElement(r,{eventKey:o.SESSIONS},s[o.SESSIONS]))),e.createElement("button",{className:"primary",onClick:this.switchModes},t("Switch Modes")),e.createElement("div",{className:"explanation"},e.createElement("span",{className:"caption-text color-secondary-text"},t("This feature is only available to admins. Learners will only see one mode.")))))},ModeSwitcher}(e.Component),l.propTypes={isPreEnrollEnabledForCourse:e.PropTypes.bool.isRequired,isSessionsCourse:e.PropTypes.bool.isRequired,hasTeachingRole:e.PropTypes.bool,isSessionsEnabled:e.PropTypes.bool},c);module.exports=m(d,["CourseStore","CourseMembershipStore","SessionStore"],function(e,r){var o=e.CourseStore,t=e.CourseMembershipStore,s=e.SessionStore;return{isPreEnrollEnabledForCourse:o.isPreEnrollEnabledForCourse(),isSessionsCourse:o.hasSessions(),hasTeachingRole:t.hasTeachingRole(),isSessionsEnabled:s.isSessionsEnabled()}}),module.exports.BaseComp=d});
define("bundles/page/lib/metatagsAddressBookSsr",["require","exports","module","js/app/loggerSingleton"],function(require,exports,module){var e=require("js/app/loggerSingleton");module.exports={setMetatags:function setMetatags(s){require(["bundles/page/lib/metatagsAddressBook"],function(e){return e.setMetatags(s)},function(s){e.error("Failed to asynchronously set metadata via metatagsAddressBook. "+s.message)})}}});
define("bundles/phoenix-cdp/components/sections-subcomponents/PhoenixCdpMetatags",["require","exports","module","naptime","react","underscore","bundles/naptimejs/resources/courseDerivatives.v1","bundles/naptimejs/resources/courses.v1","bundles/naptimejs/resources/partners.v1","bundles/page/lib/metatagsAddressBookSsr"],function(require,exports,module){function _defaults(e,n){for(var o=Object.getOwnPropertyNames(n),r=0;r<o.length;r++){var t=o[r],s=Object.getOwnPropertyDescriptor(n,t);s&&s.configurable&&void 0===e[t]&&Object.defineProperty(e,t,s)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var s,n,o,u,i=require("naptime"),e=require("react"),_=require("underscore"),p=require("bundles/naptimejs/resources/courseDerivatives.v1"),t=require("bundles/naptimejs/resources/courses.v1"),a=require("bundles/naptimejs/resources/partners.v1"),c=require("bundles/page/lib/metatagsAddressBookSsr"),d=(n=s=function(r){function PhoenixCdpMetatags(){return _classCallCheck(this,PhoenixCdpMetatags),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(PhoenixCdpMetatags,r),PhoenixCdpMetatags.prototype.setMetatags=function setMetatags(){var r=this.props,e=r.course,t=r.partners;c.setMetatags({pageName:"open-course-welcome",context:{courseName:e.name,partnerNames:_(t).pluck("name").join(", "),courseDescription:e.description},options:{imageHref:e.photoUrl}})},PhoenixCdpMetatags.prototype.render=function render(){var r=this.props,t=r.course,s=r.partners;return"undefined"!=typeof window&&t&&s&&this.setMetatags(),e.createElement("div",{className:"rc-PhoenixCdpMetatags"})},PhoenixCdpMetatags}(e.Component),s.propTypes={course:e.PropTypes.instanceOf(t).isRequired,partners:e.PropTypes.arrayOf(e.PropTypes.instanceOf(a)).isRequired,keywords:e.PropTypes.arrayOf(e.PropTypes.string).isRequired},n),r=i.createContainer(d,function(e){return{partners:e.course&&e.course.partnerIds&&a.multiGet(e.course.partnerIds)||void 0}}),f=(u=o=function(t){function PhoenixCdpMetatagsCourses(){return _classCallCheck(this,PhoenixCdpMetatagsCourses),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(PhoenixCdpMetatagsCourses,t),PhoenixCdpMetatagsCourses.prototype.render=function render(){var t=this.props,s=t.course,n=t.courseDerivativesList;return e.createElement(r,{course:s,keywords:n[0].keywords||[]})},PhoenixCdpMetatagsCourses}(e.Component),o.propTypes={course:e.PropTypes.instanceOf(t).isRequired,courseDerivativesList:e.PropTypes.arrayOf(e.PropTypes.instanceOf(p)).isRequired},u);module.exports=i.createContainer(f,function(e){return{course:t.get(e.courseId,{fields:["name","photoUrl","description","partnerIds"],subcomponents:[r]}),courseDerivativesList:p.multiGet([e.courseId],{fields:["keywords"],subcomponents:[r]})}})});
define("bundles/recently-viewed/lib",["require","exports","module","underscore","bundles/epic/client","js/lib/coursera.store"],function(require,exports,module){var _=require("underscore"),n=require("bundles/epic/client"),e=require("js/lib/coursera.store"),t=12,r={course:"recentlyViewed.course",s12n:"recentlyViewed.s12n"},u=function get(t){if(n&&n.get("Growth","enableSparkDeprecation")&&t===r.course){var i=e.get(t)||[],u=i.filter(function(e){var r=e&&e.id&&0===e.id.indexOf("v1");return!r});i.length>u.length&&e.setIfEnabled(t,u)}return e.get(t)||[]},s=function add(n,r){var i=e.get(n),c=Date.now();r=_(i).findWhere(r)||r;var u=_({count:0}).extend(r,{timestamp:c});u.count++;var s=_(i).chain().reject(function(e){return _.isEqual(e,r)}).unshift(u).slice(0,t).value();return e.setIfEnabled(n,s),s},i=function createAddGetObject(e){return{add:_(s).partial(e),get:_(u).partial(e)}};module.exports={limit:t,course:i(r.course),s12n:i(r.s12n)}});
define("nls/seo",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/seo/components/CourseGoogleSchemaMarkup",["require","exports","module","moment","naptime","react","underscore","bundles/naptimejs/resources/courses.v1","bundles/naptimejs/resources/domains.v1","bundles/naptimejs/resources/instructors.v1","bundles/naptimejs/resources/onDemandCourseMaterialModules.v1","bundles/naptimejs/resources/onDemandCourseMaterials.v2","bundles/naptimejs/resources/onDemandSessions.v1","bundles/naptimejs/resources/onDemandSpecializations.v1","bundles/naptimejs/resources/partners.v1","js/app/config","js/lib/imgix","js/lib/path","i18n!nls/seo"],function(require,exports,module){function _defaults(e,s){for(var o=Object.getOwnPropertyNames(s),r=0;r<o.length;r++){var n=o[r],t=Object.getOwnPropertyDescriptor(s,n);t&&t.configurable&&void 0===e[n]&&Object.defineProperty(e,n,t)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var a,o,t=require("moment"),s=require("naptime"),e=require("react"),_=require("underscore"),i=require("bundles/naptimejs/resources/courses.v1"),m=require("bundles/naptimejs/resources/domains.v1"),d=require("bundles/naptimejs/resources/instructors.v1"),u=require("bundles/naptimejs/resources/onDemandCourseMaterialModules.v1"),g=require("bundles/naptimejs/resources/onDemandCourseMaterials.v2"),c=require("bundles/naptimejs/resources/onDemandSessions.v1"),p=require("bundles/naptimejs/resources/onDemandSpecializations.v1"),l=require("bundles/naptimejs/resources/partners.v1"),r=require("js/app/config"),f=require("js/lib/imgix"),n=require("js/lib/path"),y=require("i18n!nls/seo"),h=(o=a=function(s){function CourseGoogleSchemaMarkup(){return _classCallCheck(this,CourseGoogleSchemaMarkup),_possibleConstructorReturn(this,s.apply(this,arguments))}return _inherits(CourseGoogleSchemaMarkup,s),CourseGoogleSchemaMarkup.prototype.getSchemaOrgBooleanString=function getSchemaOrgBooleanString(e){return"http://schema.org/"+(e?"True":"False")},CourseGoogleSchemaMarkup.prototype.getTimeRequired=function getTimeRequired(e){var r=_(e).pluck("timeCommitment").reduce(function(e,r){return e+r});return t.duration(r)},CourseGoogleSchemaMarkup.prototype.clearEmptyFields=function clearEmptyFields(r){var e=r,n=Object.keys(e);return n.forEach(function(r){e[r]||delete e[r]}),e},CourseGoogleSchemaMarkup.prototype.render=function render(){var b=this,o=this.props,s=o.course,l=o.domain,d=o.partner,m=o.currentOpenSessions,a=o.instructor,u=o.modules,p=o.s12n,g=[l?l.name:y("Learning")],i=m&&m[0],c=s.primaryLanguages,j=c&&c.length>0?c[0]:"en",v=u&&u.length>0&&this.getTimeRequired(u),O="launched"===s.courseStatus&&[{"@type":"CourseInstance",startDate:i&&t(i.startedAt).local().format("YYYY-MM-DD"),endDate:i&&t(i.endedAt).local().format("YYYY-MM-DD"),inLanguage:j,instructor:{"@type":"Person",name:a.firstName+" "+a.lastName,"@id":n.join(r.url.base,a.link)}}],S={"@context":"http://schema.org","@type":"Course","@id":n.join(r.url.base,s.link),name:s.name,subjectOfStudy:g,description:s.desc60,provider:{"@type":"CollegeOrUniversity",name:d.name,url:n.join(r.url.base,d.shortName)},seller:{"@type":"Corporation",name:"Coursera",url:r.url.base},isAccessibleForFree:this.getSchemaOrgBooleanString(!0),hasCourseInstance:O,grantsCredential:this.getSchemaOrgBooleanString(-1!==s.certificates.indexOf("VerifiedCert")),thumbnail:s.photoUrl&&{"@context":"http://schema.org","@type":"ImageObject",contentUrl:f.processImage(s.photoUrl,{fit:"crop",crop:"entropy",width:160,height:160})},timeRequired:v,partOfEducationalTrack:p&&[n.join(r.url.base,p.link)]},h=function createMarkup(){return{__html:'\n        <script type="application/ld+json">\n          '+JSON.stringify(b.clearEmptyFields(S))+"\n        </script>\n      "}};return e.createElement("div",{className:"rc-CourseGoogleSchemaMarkup"},e.createElement("div",{dangerouslySetInnerHTML:h()}))},CourseGoogleSchemaMarkup}(e.Component),a.propTypes={course:e.PropTypes.instanceOf(i).isRequired,currentOpenSessions:e.PropTypes.arrayOf(e.PropTypes.instanceOf(c)),domain:e.PropTypes.instanceOf(m),instructor:e.PropTypes.instanceOf(d),modules:e.PropTypes.arrayOf(e.PropTypes.instanceOf(u)),partner:e.PropTypes.instanceOf(l),s12n:e.PropTypes.instanceOf(p)},o),b=s.createContainer(h,function(a){var e=a.course,g=a.courseMaterial,n=e.domainTypes,t=e.partnerIds,r=e.instructorIds,s=e.s12nIds,o=g.moduleIds,c=n&&n.length>0&&n[0].domainId,i=t&&t.length>0&&parseInt(t[0],10),f=r&&r.length>0&&parseInt(r[0],10);return{domain:c&&m.get(c)||void 0,partner:i&&l.get(i)||void 0,instructor:f&&d.get(f,{fields:["firstName","lastName","profileId"]})||void 0,s12n:s&&s.length>0&&p.get(s[0])||void 0,modules:o&&o.length>0&&u.multiGet(o,{fields:["timeCommitment"]})||void 0}});module.exports=s.createContainer(function(r){return e.createElement(b,r)},function(e){return{course:i.get(e.courseId,{fields:["slug","name","desc60","domainTypes","partnerIds","courseStatus","upcomingSessionStartDate","instructorIds","certificates","photoUrl","s12nIds","primaryLanguages"],includes:["instructorIds"]}),currentOpenSessions:c.finder("currentOpenByCourse",{params:{courseId:e.courseId}}),courseMaterial:g.get(e.courseId,{fields:["moduleIds"],includes:["modules"]})}})});

define('css!bundles/ondemand/components/__styles__/CourseInfoPage',[],function(){})
define("bundles/ondemand/components/CourseInfoPage",["require","exports","module","classnames","react","bundles/catalog/components/ShareCourseButtons","bundles/catalogP/models/s12n","bundles/certificate-enroll/components/FinaidLink","bundles/certificate/components/CertificatePromoBox","bundles/content-feedback/components/CourseRatingsPreviewBox","bundles/mobile/lib/mobileDeepLink","bundles/ondemand/components/AboutBox","bundles/ondemand/components/CourseInfoHeader","bundles/ondemand/components/HowToPass","bundles/ondemand/components/InstructorBox","bundles/ondemand/components/ReferrerInformation","bundles/ondemand/components/RelatedCourses","bundles/ondemand/components/Syllabus","bundles/ondemand/components/enrollBox/EnrollBox","bundles/ondemand/components/s12n/CapstoneStatusBanner","bundles/ondemand/components/s12n/S12nInfoBox","bundles/ondemand/components/sessions/ModeSwitcher","bundles/ondemand/models/S12n","bundles/ondemand/sessions/models/Schedule","bundles/ondemand/utils/premiumGradingExperimentUtils","bundles/payments/models/productPrice","bundles/phoenix-cdp/components/sections-subcomponents/PhoenixCdpMetatags","bundles/phoenix/lib/waitForStores","bundles/recently-viewed/lib","bundles/seo/components/CourseGoogleSchemaMarkup","js/app/retracked","i18n!nls/ondemand","pages/open-course/common/constants","pages/open-course/common/models/course","pages/open-course/common/models/courseMaterials","css!./__styles__/CourseInfoPage","js/lib/affix"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),n=0;n<s.length;n++){var o=s[n],t=Object.getOwnPropertyDescriptor(r,o);t&&t.configurable&&void 0===e[o]&&Object.defineProperty(e,o,t)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},l,r,n,a,t=require("classnames"),e=require("react"),k=require("bundles/catalog/components/ShareCourseButtons"),N=require("bundles/catalogP/models/s12n"),L=require("bundles/certificate-enroll/components/FinaidLink"),d=require("bundles/certificate/components/CertificatePromoBox"),p=require("bundles/content-feedback/components/CourseRatingsPreviewBox"),m=require("bundles/mobile/lib/mobileDeepLink"),b=require("bundles/ondemand/components/AboutBox"),f=require("bundles/ondemand/components/CourseInfoHeader"),h=require("bundles/ondemand/components/HowToPass"),g=require("bundles/ondemand/components/InstructorBox"),y=require("bundles/ondemand/components/ReferrerInformation"),P=require("bundles/ondemand/components/RelatedCourses"),u=require("bundles/ondemand/components/Syllabus"),E=require("bundles/ondemand/components/enrollBox/EnrollBox"),C=require("bundles/ondemand/components/s12n/CapstoneStatusBanner"),S=require("bundles/ondemand/components/s12n/S12nInfoBox"),x=require("bundles/ondemand/components/sessions/ModeSwitcher"),v=require("bundles/ondemand/models/S12n"),w=require("bundles/ondemand/sessions/models/Schedule"),O=require("bundles/ondemand/utils/premiumGradingExperimentUtils"),c=require("bundles/payments/models/productPrice"),I=require("bundles/phoenix-cdp/components/sections-subcomponents/PhoenixCdpMetatags"),R=require("bundles/phoenix/lib/waitForStores"),q=require("bundles/recently-viewed/lib"),B=require("bundles/seo/components/CourseGoogleSchemaMarkup"),j=require("js/app/retracked"),M=require("i18n!nls/ondemand"),i=require("pages/open-course/common/constants"),o=require("pages/open-course/common/models/course"),U=require("pages/open-course/common/models/courseMaterials");require("css!./__styles__/CourseInfoPage"),require("js/lib/affix");var G=i.courseRootPath,V=i.vcLandingPagePath,D=(r=l=function(n){function CdpContent(){return _classCallCheck(this,CdpContent),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(CdpContent,n),CdpContent.prototype.render=function render(){var n=this.props,t=n.course,o=n.isPreEnrollEnabled;return e.createElement("div",{className:"rc-CdpContent"},e.createElement("div",{className:"about-container card-no-action primary comfy"},e.createElement(b,null)),e.createElement(S,null),e.createElement(g,null),!o&&e.createElement(u,null),e.createElement(h,null),e.createElement(P,null))},CdpContent}(e.Component),l.propTypes={isPreEnrollEnabled:e.PropTypes.bool.isRequired,course:e.PropTypes.instanceOf(o).isRequired},r),s=(a=n=function(n){function CourseInfoPage(e){_classCallCheck(this,CourseInfoPage);var o=_possibleConstructorReturn(this,n.call(this,e)),t=e.catalogS12n;return o.state={isPremiumGrading:!!O.showPremiumGrading(t),top:!0,bottom:!1},o}return _inherits(CourseInfoPage,n),CourseInfoPage.prototype.getChildContext=function getChildContext(){return{course:this.props.course}},CourseInfoPage.prototype.componentDidMount=function componentDidMount(){var e=this.props.course;if(q.course.add({id:e.get("id")}),this.context.router.location.query.referrerId){var n=this.getUserId(),o={};o.referrer_id=this.context.router.location.query.referrerId,n&&(o.user_id=n)}m.attemptDeepLink("/learn/"+e.get("slug"))},CourseInfoPage.getUrl=function getUrl(){return G+"/home/info"},CourseInfoPage.prototype.getUserId=function getUserId(){var e=this.context.getStore("ApplicationStore").getUserData();return e.authenticated?e.id:null},CourseInfoPage.prototype.render=function render(){var n=this.state,o=n.top,r=n.bottom,i=this.props.course,s=this.context.router,a=t("main-column-content","flex-1"),c=t("right-rail-content",{top:o,bottom:r});return e.createElement("div",{className:"rc-CourseInfoPage","data-courselenium":"course-info-page"},e.createElement(f,null),e.createElement("div",{className:"content"},e.createElement(C,null),e.createElement("div",{className:"column-container horizontal-box wrap"},e.createElement("div",{className:a},e.createElement(D,this.props)),e.createElement("div",{className:"right-rail"},e.createElement("div",{className:c},this.context.router.location.query.referrerId&&e.createElement(y,{referrerId:this.context.router.location.query.referrerId}),e.createElement(E,null),!this.props.currentlyOwnsCertificate&&this.props.course.isCertificatePurchaseEnabled()&&e.createElement(L,null),e.createElement(x,null),this.props.showVCPromo&&e.createElement("div",{className:"cozy od-container card-rich-interaction"},e.createElement(d,{href:V})),!!this.getUserId()&&e.createElement(p,{course:this.props.course}),e.createElement("div",{className:"comfy od-container card-no-action primary"},e.createElement("h3",{className:"headline-2-text"},M("Share")),e.createElement(k,{courseId:this.props.course.get("id")})))))),e.createElement("div",null,e.createElement(B,{courseId:this.props.course.get("id")}),this.context.router.isActive({name:"CDP",params:s.params})&&e.createElement(I,{courseId:this.props.course.get("id")})))},CourseInfoPage}(e.Component),n.propTypes={isPreEnrollEnabled:e.PropTypes.bool.isRequired,course:e.PropTypes.instanceOf(o).isRequired,courseMaterials:e.PropTypes.instanceOf(U).isRequired,schedule:e.PropTypes.instanceOf(w).isRequired,catalogS12n:e.PropTypes.instanceOf(N),coursePrice:e.PropTypes.instanceOf(c),fullPrice:e.PropTypes.instanceOf(c),showVCPromo:e.PropTypes.bool.isRequired,currentlyOwnsCertificate:e.PropTypes.bool.isRequired,hasPassedCourse:e.PropTypes.bool.isRequired,s12n:e.PropTypes.instanceOf(v)},n.contextTypes={router:e.PropTypes.object.isRequired,getStore:e.PropTypes.func.isRequired},n.childContextTypes={course:e.PropTypes.instanceOf(o).isRequired},a),F=j.createTrackedContainer(function(e){return{namespace:{page:"course_info"},course_id:e.course.id}})(s),A=R(F,{requiredStores:["S12nStore","VerificationStore"],lazyStores:["CourseStore","CourseScheduleStore","CourseViewGradeStore"]},function(e,s){var o=e.S12nStore,t=e.VerificationStore,n=e.CourseStore,a=e.CourseScheduleStore,c=e.CourseViewGradeStore,r=n.getMetadata();return T({},s,{s12n:o.getS12n(),showVCPromo:!o.getS12n()&&r.isCertificatePurchaseEnabled()&&!!t.getVerificationPreferences(),isPreEnrollEnabled:n.isPreEnrollEnabledForUser(),currentlyOwnsCertificate:t.currentlyOwnsCertificate(),hasPassedCourse:c.hasPassedCourse(),course:r,courseMaterials:n.getMaterials(),schedule:a.getSchedule()})});module.exports=A,module.exports.getUrl=s.getUrl});

define('css!bundles/peer/components/__styles__/MessageCard',[],function(){})
define("bundles/peer/components/MessageCard",["require","exports","module","react","css!./__styles__/MessageCard"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,e=require("react");require("css!./__styles__/MessageCard");var n=(r=t=function(t){function MessageCard(){return _classCallCheck(this,MessageCard),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(MessageCard,t),MessageCard.prototype.render=function render(){return e.createElement("div",{className:"rc-MessageCard"},this.props.children)},MessageCard}(e.Component),t.propTypes={children:e.PropTypes.node.isRequired},r);module.exports=n});

define('css!bundles/peer/components/__styles__/ReviewModeMetaInfo',[],function(){})
define("bundles/peer/components/ReviewModeMetaInfo",["require","exports","module","moment","react","bundles/ondemand/utils/deadlineFormatter","bundles/peer/components/MessageCard","bundles/peer/models/PeerState","js/lib/coursera.react-intl","i18n!nls/peer","css!./__styles__/ReviewModeMetaInfo"],function(require,exports,module){function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),t=0;t<a.length;t++){var n=a[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,o,a=require("moment"),e=require("react"),s=require("bundles/ondemand/utils/deadlineFormatter"),i=require("bundles/peer/components/MessageCard"),l=require("bundles/peer/models/PeerState"),u=require("js/lib/coursera.react-intl"),n=u.FormattedMessage,t=require("i18n!nls/peer");require("css!./__styles__/ReviewModeMetaInfo");var c=(o=r=function(r){function ReviewModeMetaInfo(){var n,e,o;_classCallCheck(this,ReviewModeMetaInfo);for(var a=arguments.length,s=Array(a),t=0;a>t;t++)s[t]=arguments[t];return n=e=_possibleConstructorReturn(this,r.call.apply(r,[this].concat(s))),e.updateStateFromItemProgress=function(){var r=e.props,t=r.displayablePhaseSchedule,o=r.itemMetadata,a=r.itemProgress,n=new l(o,a);e.setState({isReviewingComplete:n.isReviewingComplete(),remainingReviewCount:n.remainingReviewCount(),reviewCount:n.reviewCount()}),n.isReviewingComplete()?e.setState({isOverdue:null,reviewDeadline:null}):e.setState({isOverdue:t&&"result"===t.currentPhase,reviewDeadline:t&&t.phaseEnds.review})},o=n,_possibleConstructorReturn(e,o)}return _inherits(ReviewModeMetaInfo,r),ReviewModeMetaInfo.prototype.componentWillMount=function componentWillMount(){this.props.itemProgress.on("change",this.updateStateFromItemProgress),this.updateStateFromItemProgress()},ReviewModeMetaInfo.prototype.componentWillUnmount=function componentWillUnmount(){this.props.itemProgress.off("change",this.updateStateFromItemProgress)},ReviewModeMetaInfo.prototype.renderDeadlinePill=function renderDeadlinePill(){var r=this.state,l=r.isOverdue,o=r.reviewDeadline;if(this.state.isReviewingComplete||!o)return!1;var i=s.getFormattedDeadline(a(o));return l?e.createElement("div",{className:"deadline-pill pill-white"},e.createElement(n,{message:t("Was due {deadline}"),deadline:i})):e.createElement("div",{className:"deadline-pill pill-dark"},e.createElement(n,{message:t("Review by {deadline}"),deadline:i}))},ReviewModeMetaInfo.prototype.renderStatusMessage=function renderStatusMessage(){return this.props.itemMetadata.isMentorGraded()?null:this.state.isReviewingComplete?this.renderStatusMessageForReviewingComplete():this.renderStatusMessageForReviewingNotComplete()},ReviewModeMetaInfo.prototype.renderStatusMessageForReviewingComplete=function renderStatusMessageForReviewingComplete(){var r=this.state.reviewCount;return e.createElement("div",null,e.createElement("table",{className:"review-count-table"},e.createElement("tr",null,e.createElement("th",null,t("Reviews")),e.createElement("td",null,e.createElement(n,{message:t("{reviewCount} complete"),reviewCount:r.toString()})))),e.createElement(i,null,e.createElement("strong",null,t("Well done!")),e.createElement("div",null,e.createElement(n,{message:t("\n                You've sent {reviewCount, plural, one{# classmate} other{# classmates}} valuable feedback that will\n                help them improve. You can review another submission below or you can continue the course.\n              "),reviewCount:r.toString()}))))},ReviewModeMetaInfo.prototype.renderStatusMessageForReviewingNotComplete=function renderStatusMessageForReviewingNotComplete(){var r=this.state.remainingReviewCount;return e.createElement("table",{className:"review-count-table"},e.createElement("th",null,t("Reviews")),e.createElement("td",null,e.createElement(n,{message:t("{remainingReviewCount} left to complete"),remainingReviewCount:r})))},ReviewModeMetaInfo.prototype.render=function render(){return e.createElement("div",{className:"rc-ReviewModeMetaInfo"},this.renderDeadlinePill(),this.renderStatusMessage())},ReviewModeMetaInfo}(e.Component),r.propTypes={displayablePhaseSchedule:e.PropTypes.object,itemMetadata:e.PropTypes.object.isRequired,itemProgress:e.PropTypes.object.isRequired},o);module.exports=c});
define("bundles/peer/components/ItemPageTitle",["require","exports","module","react","i18n!nls/peer"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,e=require("react"),n=require("i18n!nls/peer"),o=(r=t=function(t){function ItemPageTitle(){return _classCallCheck(this,ItemPageTitle),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(ItemPageTitle,t),ItemPageTitle.prototype.render=function render(){return e.createElement("h2",{className:"c-peer-review-title horizontal-box align-items-vertical-center"},this.props.withCheck&&e.createElement("div",{"aria-label":n("This part of the assignment is complete."),className:"cif-check-circle c-peer-review-title-check"}),this.props.children)},ItemPageTitle}(e.Component),t.propTypes={children:e.PropTypes.node.isRequired,withCheck:e.PropTypes.bool.isRequired},r);module.exports=o});
define("bundles/peer/components/ReviewModeTitle",["require","exports","module","react","bundles/peer/components/ItemPageTitle","bundles/peer/models/PeerState","js/lib/coursera.react-intl","i18n!nls/peer"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,e=require("react"),o=require("bundles/peer/components/ItemPageTitle"),n=require("bundles/peer/models/PeerState"),s=require("js/lib/coursera.react-intl").FormattedMessage,i=require("i18n!nls/peer"),a=(r=t=function(t){function ReviewModeTitle(){var o,e,s;_classCallCheck(this,ReviewModeTitle);for(var i=arguments.length,a=Array(i),r=0;i>r;r++)a[r]=arguments[r];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(a))),e.updateStateFromItemProgress=function(){var t=e.props,r=t.itemMetadata,o=t.itemProgress,s=e.props.itemMetadata.isMentorGraded()?!1:new n(r,o).isReviewingComplete();e.setState({isReviewingComplete:s})},s=o,_possibleConstructorReturn(e,s)}return _inherits(ReviewModeTitle,t),ReviewModeTitle.prototype.componentWillMount=function componentWillMount(){this.props.itemProgress.on("change",this.updateStateFromItemProgress),this.updateStateFromItemProgress()},ReviewModeTitle.prototype.componentWillUnmount=function componentWillUnmount(){this.props.itemProgress.off("change",this.updateStateFromItemProgress)},ReviewModeTitle.prototype.render=function render(){var t=i(this.props.itemMetadata.isMentorGraded()?"Mentor Graded Assignment: {itemName}":"Review Classmates: {itemName}");return e.createElement(o,{withCheck:this.state.isReviewingComplete},e.createElement(s,{message:t,itemName:this.props.itemMetadata.getName()}))},ReviewModeTitle}(e.Component),t.propTypes={itemMetadata:e.PropTypes.object.isRequired,itemProgress:e.PropTypes.object.isRequired},r);module.exports=a});

define('css!bundles/peer/components/__styles__/MessageAndButton',[],function(){})
define("bundles/peer/components/MessageAndButton",["require","exports","module","react","css!./__styles__/MessageAndButton"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react");require("css!./__styles__/MessageAndButton");var r=(n=t=function(t){function MessageAndButton(){return _classCallCheck(this,MessageAndButton),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(MessageAndButton,t),MessageAndButton.prototype.render=function render(){return e.createElement("div",{className:"rc-MessageAndButton horizontal-box align-items-vertical-center"},e.createElement("div",{className:"flex-1"},this.props.children),e.createElement("div",{className:"button-container"},this.props.button))},MessageAndButton}(e.Component),t.propTypes={button:e.PropTypes.node.isRequired,children:e.PropTypes.node.isRequired},n);module.exports=r});
define("pages/open-course/peerReview/components/ItemOutcomeOverrideStatusMessage",["require","exports","module","react","bundles/peer/components/MessageCard","js/lib/coursera.react-intl","i18n!nls/peer","bundles/peer/components/PlagiarismMessage"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var r=s[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,n,e=require("react"),o=require("bundles/peer/components/MessageCard"),s=require("js/lib/coursera.react-intl"),c=s.FormattedMessage,t=require("i18n!nls/peer"),a=require("bundles/peer/components/PlagiarismMessage"),i=(n=r=function(r){function ItemOutcomeOverrideStatusMessage(){return _classCallCheck(this,ItemOutcomeOverrideStatusMessage),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(ItemOutcomeOverrideStatusMessage,r),ItemOutcomeOverrideStatusMessage.prototype.render=function render(){var r=this.props.itemOutcomeOverride,s=t(r.isPassed?"passed":"did not pass"),n=r.explanation?r.explanation:"Unknown";return e.createElement("div",{className:"rc-ItemOutcomeOverrideStatusMessage"},e.createElement(o,null,e.createElement("strong",null,t("An administrator has changed your grade for this assignment.")),e.createElement("div",null,e.createElement("p",null,t("Your new grade is:")," ",100*r.grade,"%, ",t("and you")," ",s,"."),!("Plagiarism"===n)&&e.createElement("p",null,t("The administrator's reason for changing your grade is:")," ",n)),"Plagiarism"===n&&e.createElement(a,null)))},ItemOutcomeOverrideStatusMessage}(e.Component),r.propTypes={itemOutcomeOverride:e.PropTypes.object},n);module.exports=i});
define("pages/open-course/peerReview/components/AdministratorDeletedSubmissionStatusMessage",["require","exports","module","react","bundles/peer/components/MessageCard","i18n!nls/peer"],function(require,exports,module){function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var e=require("react"),t=require("bundles/peer/components/MessageCard"),n=require("i18n!nls/peer"),r=function(r){function AdministratorDeletedSubmissionStatusMessage(){return _classCallCheck(this,AdministratorDeletedSubmissionStatusMessage),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(AdministratorDeletedSubmissionStatusMessage,r),AdministratorDeletedSubmissionStatusMessage.prototype.render=function render(){return e.createElement("div",{className:"rc-SubmissionDeletionStatusMessage"},e.createElement(t,null,e.createElement("strong",null,n("An administrator has deleted your submission."))))},AdministratorDeletedSubmissionStatusMessage}(e.Component);module.exports=r});

define('css!bundles/peer/components/__styles__/SubmissionModeMetaInfo',[],function(){})
define("bundles/peer/components/SubmissionModeMetaInfo",["require","exports","module","underscore","classnames","moment","react","bundles/ondemand/utils/deadlineFormatter","bundles/peer/components/MessageAndButton","bundles/peer/components/MessageCard","bundles/peer/components/SubmissionDeleteModal","bundles/peer/models/PeerState","bundles/ondemand/components/enrollBox/SessionSwitchButton","bundles/iconfont/Icon","js/lib/coursera.react-intl","js/lib/path","i18n!nls/peer","pages/open-course/peerReview/components/ItemOutcomeOverrideStatusMessage","pages/open-course/peerReview/components/AdministratorDeletedSubmissionStatusMessage","bundles/ondemand/actions/SessionActions","bundles/ondemand/constants/PeerReview","js/lib/mapExecuteActionToProps","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/SubmissionModeMetaInfo"],function(require,exports,module){function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var s=r[t],n=Object.getOwnPropertyDescriptor(o,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var m,d,h=require("underscore"),v=h.compose,M=require("classnames"),r=require("moment"),e=require("react"),a=require("bundles/ondemand/utils/deadlineFormatter"),n=require("bundles/peer/components/MessageAndButton"),s=require("bundles/peer/components/MessageCard"),p=require("bundles/peer/components/SubmissionDeleteModal"),c=require("bundles/peer/models/PeerState"),u=require("bundles/ondemand/components/enrollBox/SessionSwitchButton"),i=require("bundles/iconfont/Icon"),b=require("js/lib/coursera.react-intl"),o=b.FormattedMessage,g=require("js/lib/path"),t=require("i18n!nls/peer"),y=require("pages/open-course/peerReview/components/ItemOutcomeOverrideStatusMessage"),S=require("pages/open-course/peerReview/components/AdministratorDeletedSubmissionStatusMessage"),f=require("bundles/ondemand/actions/SessionActions"),w=f.updateEnrollableAndFollowingSessions,E=require("bundles/ondemand/constants/PeerReview"),l=E.PEER_REVIEW_SUGGEST_NEXT_SESSION_AFTER_DAYS,P=require("js/lib/mapExecuteActionToProps"),D=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!./__styles__/SubmissionModeMetaInfo");var I=(d=m=function(d){function SubmissionModeMetaInfo(){var s,e,n;_classCallCheck(this,SubmissionModeMetaInfo);for(var o=arguments.length,a=Array(o),t=0;o>t;t++)a[t]=arguments[t];return s=e=_possibleConstructorReturn(this,d.call.apply(d,[this].concat(a))),e.state={showSubmissionDeleteModal:!1},e.handleSubmissionDeleteModalClose=function(){e.setState({showSubmissionDeleteModal:!1})},e.handleRequestSubmissionDelete=function(){e.setState({showSubmissionDeleteModal:!0})},e.updateStateFromItemProgress=function(){var n=e.props,t=n.displayablePhaseSchedule,o=n.latestSubmission,d=n.itemMetadata,m=n.itemProgress,s=new c(d,m),i=o&&o.get("isSubmitted");if(e.setState({isSubmitted:i,submissionDeadline:t&&t.phaseEnds.submit}),t){var a=r.duration(r().diff(r(t.phaseEnds.submit))).asDays();e.setState({isPeerInSessionSwitchStage:a>l,isLateForSubmission:a>0&&l>=a,peerInSessionSwitchStageStartDate:r(t.phaseEnds.submit).add(l,"days")})}else e.setState({isPeerInSessionSwitchStage:!1,isLateForSubmission:!1,peerInSessionSwitchStageStartDate:null});if(i){var u=o&&o.get("isLate");e.setState({evaluation:s.getEvaluation(),evaluationAvailableTime:!u&&t&&t.phaseStarts.result,evaluationShouldBeAvailable:!u&&t&&"result"===t.currentPhase,isEvaluated:s.isEvaluated(),isFailed:s.isFailed(),isOverdue:null,isPassed:s.isPassed(),isReviewingComplete:s.isReviewingComplete()})}else e.setState({evaluation:s.getEvaluation(),evaluationAvailableTime:null,evaluationShouldBeAvailable:null,isEvaluated:s.isEvaluated(),isFailed:null,isOverdue:t&&"submit"!==t.currentPhase,isPassed:s.isPassed(),isPassedInPreviousSession:!0})},n=s,_possibleConstructorReturn(e,n)}return _inherits(SubmissionModeMetaInfo,d),SubmissionModeMetaInfo.prototype.componentWillMount=function componentWillMount(){this.props.itemProgress.on("change",this.updateStateFromItemProgress),this.updateStateFromItemProgress()},SubmissionModeMetaInfo.prototype.componentDidMount=function componentDidMount(){this.props.enrollableSession||this.props.handleUpdateEnrollableAndFollowingSessions(this.props.courseId,this.props.sessionId)},SubmissionModeMetaInfo.prototype.componentWillUnmount=function componentWillUnmount(){this.props.itemProgress.off("change",this.updateStateFromItemProgress)},SubmissionModeMetaInfo.prototype.renderStatusMessage=function renderStatusMessage(){return this.props.itemOutcomeOverrides[this.props.itemMetadata.getId()]||this.props.isDeletedByAdmin?this.renderStatusMessageForAdministrativeAction():this.props.sessionHasEnded?this.renderStatusMessageForSessionEnded():this.state.isEvaluated&&this.state.isPassed?this.renderStatusMessageForPassed():this.state.isSubmitted?this.renderStatusMessageForSubmitted():this.renderStatusMessageForNotSubmitted()},SubmissionModeMetaInfo.prototype.renderStatusMessageForSessionEnded=function renderStatusMessageForSessionEnded(){var r=this.state,n=r.isPassed,l=r.enrollableSession,d=r.evaluation,m=t(n?"You passed!":"The session has ended."),a="";if(n){var c=d.score,p=d.maxScore;a=e.createElement(o,{message:t("\n            Congratulations. You earned {score} / {maxScore} {score, plural, one{point} other{points}}.\n          "),score:c,maxScore:p})}else a=l?t("Switch sessions to submit this assignment and be reviewed by your classmates."):"Please check back for an upcoming session of the course to continue the assignment.";var b=!n&&l;return e.createElement(s,null,e.createElement("div",{className:"horizontal-box"},e.createElement("div",{className:"flex-1 horizontal-box"},!n&&e.createElement(i,{name:"warning",className:"cif-lg"}),e.createElement("div",null,e.createElement("div",{className:"body-2-text"},m),e.createElement("div",{className:"body-1-text"},a))),b&&e.createElement(u,null)))},SubmissionModeMetaInfo.prototype.renderPostDeadlineWarningMessage=function renderPostDeadlineWarningMessage(t,n){var o=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return e.createElement(s,null,e.createElement("div",{className:"horizontal-box"},e.createElement("div",{className:"flex-1 horizontal-box"},e.createElement(i,{name:"warning",className:"cif-lg"}),e.createElement("div",null,e.createElement("div",{className:"body-2-text"},t),e.createElement("div",{className:"body-1-text"},n))),o&&e.createElement(u,null)))},SubmissionModeMetaInfo.prototype.renderMentorGradedPostDeadlineMessage=function renderMentorGradedPostDeadlineMessage(){var e="",s="";if(!this.state.enrollableSession)return e=t("Mentor Graded Assignment - Submit Now"),s=t("It’s important to submit as soon as possible so your course mentor can grade your submission.\n        If you submit too late, there may not be enough time to grade your work before the session ends."),this.renderPostDeadlineWarningMessage(e,s,!1);if(this.props.isSessionPrivate)return e=t("Contact your session instructor or administrator"),s=t("Since it is past the submission deadline and you are currently\n        in a private session, your course mentor may not be able to grade your submission\n        before the session ends. Please contact your session instructor or administrator for assistance."),this.renderPostDeadlineWarningMessage(e,s,!1);return e=t("Switch Sessions"),s=t("Since it is past the submission deadline, your course mentor may not be able to grade your\n      submission before the session ends. Switch sessions to submit before the new deadline and receive a grade.\n      Don't worry, your progress will be saved!"),this.renderPostDeadlineWarningMessage(e,s,!0)},SubmissionModeMetaInfo.prototype.renderPeerGradedPostDeadlineMessage=function renderPeerGradedPostDeadlineMessage(){var s=t("Switch Sessions"),e="";if(this.props.isSessionPrivate)return s=t("Contact your session instructor or administrator"),e=t("Unfortunately, there are not any classmates around to\n        review your work. Since you are in a private session and it is past the submission deadline,\n        please contact your session instructor or administrator for assistance."),this.renderPostDeadlineWarningMessage(s,e,!1);if(!this.props.enrollableSession)return e=t("Unfortunately, there are not any classmates around to\n        review your work. This means you will not receive a grade if you submit.\n        Please check back for an upcoming session of the course to continue\n        with the assignment and get grades on time."),this.renderPostDeadlineWarningMessage(s,e,!1);return e=t("Unfortunately, there are not any classmates around to\n      review your work. This means you will not receive a grade if you submit.\n      Switch sessions to submit before the new deadline and receive reviews from classmates.\n      Don't worry, your progress will be saved!"),this.renderPostDeadlineWarningMessage(s,e,!0)},SubmissionModeMetaInfo.prototype.renderStatusMessageForNotSubmitted=function renderStatusMessageForNotSubmitted(){if(this.state.submissionDeadline){var n="",l="";if(this.state.isPeerInSessionSwitchStage&&this.props.itemMetadata.isMentorGraded())return this.renderMentorGradedPostDeadlineMessage();if(this.state.isPeerInSessionSwitchStage)return this.renderPeerGradedPostDeadlineMessage();if(this.state.isLateForSubmission&&this.props.itemMetadata.isMentorGraded())return n=t("Mentor Graded Assignment - Submit Now"),l=t("It’s important to submit as soon as possible so your course mentor can grade your submission.\n          If you submit too late, there may not be enough time to grade your work before the session ends."),this.renderPostDeadlineWarningMessage(n,l);if(this.state.isLateForSubmission)return n=t("Submit Now"),l=t("It’s important to submit as soon as possible so your peers can review your work.\n          If you submit too late, there will not be enough classmates around to review your work.\n          Submit soon!"),this.renderPostDeadlineWarningMessage(n,l);if(this.props.itemMetadata.isMentorGraded())return e.createElement(s,null,e.createElement("div",{className:"flex-1 horizontal-box"},e.createElement(i,{name:"info",className:"cif-lg"}),e.createElement("div",null,e.createElement("div",{className:"body-2-text"},t("Mentor Graded Assignment")),e.createElement("div",{className:"body-1-text"},e.createElement(o,{message:t("This assignment will be graded by one of your course mentors. Please submit this\n                      assignment before the deadline, {submissionDeadline}, to ensure that your mentors have\n                      enough time to review your assignment. "),submissionDeadline:a.getFormattedDeadline(r(this.state.submissionDeadline))})))));return e.createElement(s,null,e.createElement("div",{className:"body-2-text"},t("Important Information")),e.createElement("div",{className:"body-1-text"},e.createElement(o,{message:t("It is especially important to submit this assignment before the deadline,\n                {submissionDeadline}, because it must be graded by others. If you submit late, there may not be enough\n                classmates around to review your work. This makes it difficult - and in some cases,\n                impossible - to produce a grade. Submit on time to avoid these risks."),submissionDeadline:a.getFormattedDeadline(r(this.state.submissionDeadline))})))}return e.createElement(s,null,e.createElement("div",{className:"body-2-text"},t("Ready for the assignment?")),e.createElement("div",{className:"body-1-text"},t("You will find instructions below to submit.")))},SubmissionModeMetaInfo.prototype.renderDeadlinePill=function renderDeadlinePill(){var s=this.state,l=s.isOverdue,n=s.submissionDeadline;if(this.state.isSubmitted||!n)return!1;var i=a.getFormattedDeadline(r(n));return l?e.createElement("div",{className:"deadline-pill pill-white"},e.createElement(o,{message:t("Was due {deadline}"),deadline:i})):e.createElement("div",{className:"deadline-pill pill-dark"},e.createElement(o,{message:t("Submit by {deadline}"),deadline:i}))},SubmissionModeMetaInfo.prototype.renderMentorWillGradeMessage=function renderMentorWillGradeMessage(){return e.createElement(s,null,e.createElement("div",{className:"flex-1 horizontal-box"},e.createElement(i,{name:"info",className:"cif-lg"}),e.createElement("div",null,e.createElement("strong",null,t("A course mentor will be grading your assignment soon")),e.createElement("div",null,t("We'll email you when your grade is ready. You should expect to\n              receive your grade within 3 days of the submission deadline.")))))},SubmissionModeMetaInfo.prototype.renderReviewMoreClassmatesBeforeSeeingScore=function renderReviewMoreClassmatesBeforeSeeingScore(){return e.createElement(s,null,e.createElement(n,{button:this.renderReviewClassmatesButton(!0)},e.createElement("strong",null,t("Review classmates to see your grade")),e.createElement("div",null,t("\n            Your grade is ready, but you have not reviewed enough classmates yet. Review more classmates to see your\n            grade.\n          "))))},SubmissionModeMetaInfo.prototype.renderStatusMessageForPassed=function renderStatusMessageForPassed(){var l=this.state,u=l.evaluation,a=l.isPassedInPreviousSession,d=u.score,m=u.maxScore,i=this.props.itemMetadata.isMentorGraded(),r=void 0;return i&&a?r=t("You earned {score} / {maxScore} {score, plural, one{point} other{points}} in a previous\n        session of this course, so you do not need to resubmit."):i&&!a?r=t("Congratulations. You earned {score} / {maxScore} {score, plural, one{point} other{points}}.\n        View your feedback and rate it before continuing in the course."):!i&&a?r=t("You earned {score} / {maxScore} {score, plural, one{point} other{points}} in a previous session\n       of this course. If you'd like to review classmates in this session, resubmit your saved draft. Otherwise,\n       continue the course when you are ready."):i||a||(r=t("Congratulations. You earned {score} / {maxScore} {score, plural, one{point} other{points}}.\n      Review the feedback below and continue the course when you are ready. You can also help more classmates by\n      reviewing their submissions.")),e.createElement(s,null,e.createElement(n,{button:this.renderReviewClassmatesButton(!1)},e.createElement("strong",null,t("You passed!")),e.createElement("div",null,e.createElement(o,{message:r,score:d,maxScore:m}))))},SubmissionModeMetaInfo.prototype.renderStatusMessageForFailed=function renderStatusMessageForFailed(){var r=this.state.evaluation,a=r.score,i=r.maxScore,l=r.getMinimumPassingScore();return e.createElement(s,null,e.createElement(n,{button:this.renderEditToResubmitButton()},e.createElement("strong",null,t("Try again")),e.createElement("div",null,e.createElement(o,{message:t("\n                You earned {score} {score, plural, one{point} other{points}}, but you need to earn at least\n                {minimumPassingScore} / {maxScore} {minimumPassingScore, plural, one{point} other{points}} to pass.\n                Review your feedback below, improve your submission, and resubmit when you're ready.\n              "),score:a.toString(),maxScore:i,minimumPassingScore:l}))))},SubmissionModeMetaInfo.prototype.renderStatusMessageForGradingInProgressAfterEvaluationAvailableTime=function renderStatusMessageForGradingInProgressAfterEvaluationAvailableTime(){return e.createElement(s,null,e.createElement(n,{button:this.renderReviewClassmatesButton(!0)},e.createElement("strong",null,t("You submitted!")),e.createElement("div",null,t("\n              Your grade should be available soon. In the meantime, we recommend reviewing a classmates' work.\n            "))))},SubmissionModeMetaInfo.prototype.renderStatusMessageForGradingInProgressWithEvaluationAvailableTime=function renderStatusMessageForGradingInProgressWithEvaluationAvailableTime(){var i=this.state.evaluationAvailableTime,l=a.getFormattedDeadline(r(i));return e.createElement(s,null,e.createElement(n,{button:this.renderReviewClassmatesButton(!0)},e.createElement("strong",null,t("You submitted!")),e.createElement("div",null,e.createElement(o,{message:t("\n                Your work is ready to be reviewed by classmates. Next, you need to review your classmates' work. We'll\n                email you when your grade is ready. Your grade should be ready by\n                {evaluationAvailableTime}.\n              "),evaluationAvailableTime:e.createElement("strong",null,l)}))))},SubmissionModeMetaInfo.prototype.renderStatusMessageForGradingInProgressWithoutEvaluationAvailableTime=function renderStatusMessageForGradingInProgressWithoutEvaluationAvailableTime(){if(this.state.submissionDeadline){if(this.state.isPeerInSessionSwitchStage){var r=t("Switch Sessions"),i=t("Unfortunately, there are not enough classmates around to review your\n          submission because it was submitted late. Switch sessions to save your progress,\n          submit before the new deadline, and receive reviews from classmates.");return this.renderPostDeadlineWarningMessage(r,i,!0)}if(this.state.isLateForSubmission)return e.createElement(s,null,e.createElement(n,{button:this.renderReviewClassmatesButton(!0)},e.createElement("div",{className:"body-2-text"},t("You Submitted")),e.createElement("div",null,this.state.peerInSessionSwitchStageStartDate?e.createElement(o,{message:t("We are attempting to produce a grade on your submission. Since you submitted\n                          after the deadline, there may not be enough classmates around to review your work.\n                          Please return after {switchSessionMessagingStartDate} if you have not received a grade."),switchSessionMessagingStartDate:a.getFormattedDeadline(this.state.peerInSessionSwitchStageStartDate)}):t("We are attempting to produce a grade on your submission. Since you submitted\n                      after the deadline, there may not be enough classmates around to review your work."))))}return e.createElement(s,null,e.createElement(n,{button:this.renderReviewClassmatesButton(!0)},e.createElement("div",{className:"body-2-text"},t("You Submitted")),e.createElement("div",{className:"body-1-text"},t("\n              Your work is ready to be reviewed by classmates. Next, you need to review your classmates' work. We'll\n              email you when your grade is ready.\n            "))))},SubmissionModeMetaInfo.prototype.renderStatusMessageForAdministrativeAction=function renderStatusMessageForAdministrativeAction(){var t=this.props.itemOutcomeOverrides[this.props.itemMetadata.getId()];return e.createElement("div",null,this.props.isDeletedByAdmin&&e.createElement(S,null),!!t&&e.createElement(y,{itemOutcomeOverride:t}))},SubmissionModeMetaInfo.prototype.renderPlainSubmittedMessage=function renderPlainSubmittedMessage(){return this.state.isReviewingComplete?e.createElement(s,null,e.createElement(n,{button:this.renderReviewClassmatesButton(!1)},e.createElement("div",{className:"body-2-text"},t("You Submitted")),e.createElement("div",{className:"body-1-text"},t("\n                Your work is ready to be reviewed by classmates. We'll email you when you receive reviews. In the\n                meantime, you may review more classmates.\n              ")))):e.createElement(s,null,e.createElement(n,{button:this.renderReviewClassmatesButton(!0)},e.createElement("div",{className:"body-2-text"},t("You Submitted")),e.createElement("div",{className:"body-1-text"},t("\n                Your work is ready to be reviewed by classmates. We'll email you when you receive reviews. In the\n                meantime, you need to review your classmates' work.\n              "))))},SubmissionModeMetaInfo.prototype.renderEditToResubmitButton=function renderEditToResubmitButton(){return e.createElement("button",{className:"primary",onClick:this.handleRequestSubmissionDelete},t("Edit to Resubmit"))},SubmissionModeMetaInfo.prototype.renderReviewClassmatesButton=function renderReviewClassmatesButton(s){var n=M({"link-button":!0,primary:s,secondary:!s}),o=g.join(this.props.itemMetadata.getLink(),"give-feedback");if(this.props.itemMetadata.isMentorGraded())return null;return e.createElement("a",{className:n,"data-js":"open-course-link",href:o},t("Review Classmates' Work"))},SubmissionModeMetaInfo.prototype.renderStatusMessageForSubmitted=function renderStatusMessageForSubmitted(){var t=this.state,s=t.evaluationAvailableTime,n=t.evaluationShouldBeAvailable,e=t.isEvaluated,o=t.isFailed,r=this.state.isReviewingComplete,a="peer"===this.props.itemMetadata.getTypeName(),i=this.props.itemMetadata.isMentorGraded();if(a)return this.renderPlainSubmittedMessage();if(!e&&i)return this.renderMentorWillGradeMessage();if(e&&!r)return this.renderReviewMoreClassmatesBeforeSeeingScore();if(e&&o)return this.renderStatusMessageForFailed();if(!e&&n)return this.renderStatusMessageForGradingInProgressAfterEvaluationAvailableTime();if(!e&&s)return this.renderStatusMessageForGradingInProgressWithEvaluationAvailableTime();if(!e&&!s)return this.renderStatusMessageForGradingInProgressWithoutEvaluationAvailableTime()},SubmissionModeMetaInfo.prototype.render=function render(){return e.createElement("div",{className:"rc-SubmissionModeMetaInfo"},this.renderDeadlinePill(),this.renderStatusMessage(),e.createElement(p,{api:this.props.api,itemMetadata:this.props.itemMetadata,onDeleteSuccess:this.props.onDeleteSuccess,onModalClose:this.handleSubmissionDeleteModalClose,showModal:this.state.showSubmissionDeleteModal,submissionId:this.props.latestSubmission.get("id")}))},SubmissionModeMetaInfo}(e.Component),m.propTypes={api:e.PropTypes.object.isRequired,displayablePhaseSchedule:e.PropTypes.object,itemMetadata:e.PropTypes.object.isRequired,itemProgress:e.PropTypes.object.isRequired,latestSubmission:e.PropTypes.object,onDeleteSuccess:e.PropTypes.func.isRequired,itemOutcomeOverrides:e.PropTypes.object,isDeletedByAdmin:e.PropTypes.bool,isSessionPrivate:e.PropTypes.bool,sessionId:e.PropTypes.string,courseId:e.PropTypes.string,enrollableSession:e.PropTypes.object,handleUpdateEnrollableAndFollowingSessions:e.PropTypes.func,sessionHasEnded:e.PropTypes.bool.isRequired},d);module.exports=v(P(function(e,t){return{handleUpdateEnrollableAndFollowingSessions:function handleUpdateEnrollableAndFollowingSessions(t,s){e(w,{courseId:t,sessionId:s})}}}),D(["CourseStore","SessionStore"],function(t){var s=t.CourseStore,e=t.SessionStore;return{enrollableSession:e.getEnrollableSession(),courseId:s.getCourseId(),sessionId:e.getSessionId(),isSessionPrivate:e.isSessionPrivate(),sessionHasEnded:e.hasEnded()}}))(I)});

define('css!bundles/ui/components/__styles__/AlertBanner',[],function(){})
define("bundles/ui/components/AlertBanner",["require","exports","module","react","bundles/iconfont/Icon","js/lib/coursera.store","css!./__styles__/AlertBanner"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var n=s[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),o=require("bundles/iconfont/Icon"),r=require("js/lib/coursera.store");require("css!./__styles__/AlertBanner");var s=(n=t=function(t){function AlertBanner(n){_classCallCheck(this,AlertBanner);var e=_possibleConstructorReturn(this,t.call(this,n));return e.onClose=function(){e.setState({show:!1}),e.props.localStoreName&&r.set(e.props.localStoreName,!0)},e.state={show:n.localStoreName?!r.get(n.localStoreName):!0},e}return _inherits(AlertBanner,t),AlertBanner.prototype.render=function render(){if(this.state.show)return e.createElement("div",{className:"rc-AlertBanner horizontal-box align-items-vertical-center"},this.props.iconName&&e.createElement(o,{name:this.props.iconName}),!this.props.iconName&&e.createElement("div",{className:"info-icon horizontal-box align-items-absolute-center"},e.createElement("span",{className:"caption-text"},"i"))," ",e.createElement("div",{className:"flex-1"},this.props.children),e.createElement("button",{className:"nostyle",onClick:this.onClose},e.createElement(o,{name:"close"})));return null},AlertBanner}(e.Component),t.propTypes={localStoreName:e.PropTypes.string,iconName:e.PropTypes.string},n);module.exports=s});
define("bundles/ondemand/components/howStuffWorks/copy/genericInfoCml",["require","exports","module","i18n!nls/ondemand"],function(require,exports,module){var e=require("i18n!nls/ondemand");module.exports=function(){return"<co-content>\n    <text>\n      <strong>"+e("1. How do I pass the course?")+"</strong>\n    </text>\n    <text>\n      "+e("To pass, you’ll need to verify your identity and earn a passing grade\n      on each of the required assignments—these can be quizzes, peer-graded assignments,\n      or programming assignments. Videos, readings, and practice exercises are there to\n      help you prepare for the graded assignments.")+"\n    </text>\n\n    <text>\n      <strong>"+e("2. How do I verify my identity?")+"</strong>\n    </text>\n    <text>\n      "+e("On each required assignment, you’ll be prompted to verify your identity with\n      a typing sample of photo of yourself from your device’s camera. This is required\n      to pass the course.")+"\n    </text>\n\n    <text>\n      <strong>"+e("3. Are there due dates for assignments?")+"</strong>\n    </text>\n    <text>\n      "+e("Yes, there are suggested due dates to help you manage your schedule and keep\n      coursework from piling up. As long as you complete all of the required assignments\n      before the course ends, you can still get full credit for your work.")+"\n    </text>\n\n    <text>\n      <strong>"+e("4. Is there a penalty for submitting my work late?")+"</strong>\n    </text>\n    <text>\n      "+e("Quizzes and programming assignments can be submitted late without penalty or\n      consequence. However, it is possible that you won't receive a grade if you submit\n      your peer-graded assignment too late because classmates usually review assignment\n       within three days of the assignment deadline.")+"\n    </text>\n\n    <text>\n      <strong>"+e("5. Can I re-attempt an assignment?")+"</strong>\n    </text>\n    <text>\n      "+e("Yes. If you want to improve your grade, you can always try again.\n      If you’re re-attempting a peer-graded assignment, re-submit your work as\n      soon as you can to make sure there’s enough time for your classmates to review\n      your work. In some cases you may need to wait before re-submitting a programming\n      assignment or quiz. We encourage you to review course material during this delay.")+"\n    </text>\n\n    <text>\n      <strong>"+e("6. What is a session?")+"</strong>\n    </text>\n    <text>\n      "+e("Most courses are offered more than once, at different times of the year —\n      each with a specific start and end date. If you don’t finish before the end\n      of the session, you can enroll in the next session. Your progress will be saved\n      and you’ll be able to pick up where you left off when the next session begins.")+"\n    </text>\n  </co-content>"}});
define("bundles/ondemand/components/howStuffWorks/copy/peerReviewAssignmentInfoCml",["require","exports","module","i18n!nls/ondemand"],function(require,exports,module){var e=require("i18n!nls/ondemand");module.exports=function(){return"<co-content>\n  <text>\n    "+e("Peer-graded assignments require you and your classmates to\n      grade each other’s work.")+"\n  </text>\n\n  <text>\n    <strong>"+e("1. How do peer graded assignments work?")+"</strong>\n  </text>\n  <text>\n    "+e("After you submit your work, you’ll be asked to review your classmates’ assignments.\n    To pass, you’ll need to earn a passing grade on your submission and complete the\n    required number of reviews.")+"\n  </text>\n\n  <text>\n    <strong>"+e("2. How are grades calculated?")+"</strong>\n  </text>\n  <text>\n    "+e("You and your classmates will be asked to provide a score for each part of\n    the assignment. Final grades are calculated by combining the median scores you\n    received for each section.")+"\n  </text>\n\n  <text>\n    <strong>"+e("3. What kind of feedback should I give?")+"</strong>\n  </text>\n  <text>\n    "+e("Be respectful, encouraging, and honest. Acknowledge what your classmate\n    did well and offer specific suggestions on how they can improve. Scores should\n    reflect the learner’s understanding of the assignment prompt and points should\n    not be deducted for difficulties with language or differences in opinion.")+"\n  </text>\n\n  <text>\n    <strong>"+e("4. Is there a penalty for submitting my work late?")+"</strong>\n  </text>\n  <text>\n    "+e("No, but it’s important to submit your work as close to the due date as you can.\n    Classmates grade most of the assignments within three days of the due date.\n    If you submit yours too late, there may not be anyone to review your work.")+"\n  </text>\n\n  <text>\n    <strong>"+e("5. If I fail an assignment, can I try again?")+"</strong>\n  </text>\n  <text>\n    "+e("Yes! You’ll can always try again, but you’ll need to resubmit your work as\n    soon as possible to make sure your classmates have enough time to grade your work.")+"\n  </text>\n\n  <text>\n    <strong>"+e("6. Can I edit my assignment?")+"</strong>\n  </text>\n  <text>\n    "+e("Yes, but you’ll need to re-submit your work and any grade you’ve already\n    received will be deleted.")+"\n  </text>\n</co-content>"}});
define("bundles/ondemand/components/howStuffWorks/copy/programmingAssignmentInfoCml",["require","exports","module","i18n!nls/ondemand"],function(require,exports,module){var n=require("i18n!nls/ondemand");module.exports=function(){return"<co-content>\n    <text>\n      <strong>\n        "+n("Programming assignments require you to write and run\n        a computer program to solve a problem.")+"\n      </strong>\n    </text>\n\n    <text>\n      <strong>"+n("1. What are programming assignments?")+"</strong>\n    </text>\n    <text>\n      "+n("Programming assignments include both assignment instructions and assignment parts.\n      Instructions may include a link to a downloadable starter package that includes\n      starter code, detailed guidelines, and other resources. Assignment parts are similar\n      to individual quiz questions. Each part is a single coding task that can be\n      completed one at a time.")+"\n    </text>\n\n    <text>\n      <strong>"+n("2. How are programming assignments graded?")+"</strong>\n    </text>\n    <text>\n      "+n("Programming assignments are graded automatically. If they use a built-in-algorithm\n      you’ll see your grade within seconds. If they use a custom grader,\n      you may need to wait up to an hour.")+"\n    </text>\n\n    <text>\n      <strong>"+n("3. Can I resubmit a programming assignment?")+"</strong>\n    </text>\n    <text>\n      "+n("You can resubmit all programming assignments to improve your grade.\n      Follow the same steps as submitting a new assignment.")+"\n    </text>\n\n    <text>\n      <strong>"+n("4. What do I do if I have trouble submitting my assignment?")+"</strong>\n    </text>\n    <text>\n      "+n("If you have trouble submitting your assignment, we encourage you to\n      visit your course Discussion Forums as many of your peers are likely to have\n      had similar problems and have found a solution. Each programming assignment\n      has its own sub-forum to discuss with peers.")+"\n    </text>\n  </co-content>"}});
define("bundles/ondemand/components/howStuffWorks/copy/informationCopyInCml",["require","exports","module","bundles/ondemand/components/howStuffWorks/copy/genericInfoCml","bundles/ondemand/components/howStuffWorks/copy/peerReviewAssignmentInfoCml","bundles/ondemand/components/howStuffWorks/copy/programmingAssignmentInfoCml"],function(require,exports,module){var n=require("bundles/ondemand/components/howStuffWorks/copy/genericInfoCml"),o=require("bundles/ondemand/components/howStuffWorks/copy/peerReviewAssignmentInfoCml"),e=require("bundles/ondemand/components/howStuffWorks/copy/programmingAssignmentInfoCml");module.exports={general:{definition:{dtdId:"howStuffWorks/1",value:n()},typeName:"cml"},programmingAssignments:{definition:{dtdId:"howStuffWorks/3",value:e()},typeName:"cml"},peerReviewAssignments:{definition:{dtdId:"howStuffWorks/3",value:o()},typeName:"cml"}}});
define("bundles/peer/components/AssignmentInformationModal",["require","exports","module","react","bundles/phoenix/components/Modal","bundles/cml/components/CML","bundles/ondemand/components/howStuffWorks/copy/informationCopyInCml"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),n=0;n<s.length;n++){var o=s[n],t=Object.getOwnPropertyDescriptor(r,o);t&&t.configurable&&void 0===e[o]&&Object.defineProperty(e,o,t)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var n,o,e=require("react"),s=require("bundles/phoenix/components/Modal"),t=require("bundles/cml/components/CML"),r=require("bundles/ondemand/components/howStuffWorks/copy/informationCopyInCml"),i=r.peerReviewAssignments,p=r.programmingAssignments,c=(o=n=function(n){function AssignmentInformationModal(){return _classCallCheck(this,AssignmentInformationModal),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(AssignmentInformationModal,n),AssignmentInformationModal.prototype.render=function render(){return e.createElement(s,{allowClose:!0,handleClose:this.props.handleClose},this.props.isPeerReview?e.createElement(t,{cml:i}):e.createElement(t,{cml:p}))},AssignmentInformationModal}(e.Component),n.propTypes={isPeerReview:e.PropTypes.bool,handleClose:e.PropTypes.func},o);module.exports=c});
define("bundles/peer/components/PeerReviewInformation",["require","exports","module","react","i18n!nls/peer","bundles/phoenix/lib/waitForStores","bundles/ui/components/AlertBanner","bundles/peer/components/AssignmentInformationModal","bundles/ondemand/utils/courseInfo2016/inCourseInfo2016Experiment","bundles/page/components/TrackedButton"],function(require,exports,module){function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var n=s[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,o,e=require("react"),t=require("i18n!nls/peer"),r=require("bundles/phoenix/lib/waitForStores"),s=require("bundles/ui/components/AlertBanner"),i=require("bundles/peer/components/AssignmentInformationModal"),a=require("bundles/ondemand/utils/courseInfo2016/inCourseInfo2016Experiment"),l=require("bundles/page/components/TrackedButton"),u=(o=n=function(n){function PeerReviewInformation(){var o,e,r;_classCallCheck(this,PeerReviewInformation);for(var s=arguments.length,i=Array(s),t=0;s>t;t++)i[t]=arguments[t];return o=e=_possibleConstructorReturn(this,n.call.apply(n,[this].concat(i))),e.state={showModal:!1},e.openModal=function(){e.setState({showModal:!0})},e.closeModal=function(){e.setState({showModal:!1})},r=o,_possibleConstructorReturn(e,r)}return _inherits(PeerReviewInformation,n),PeerReviewInformation.prototype.render=function render(){if(a()&&this.props.isFirstPeerReview)return e.createElement("div",{className:"rc-PeerReviewInformation"},e.createElement(s,{localStoreName:"seen-peer-"+this.props.itemMetadata.get("course").get("slug")},t("It looks like this is your first peer-graded assignment."),"  ",e.createElement(l,{trackingName:"show_peer_information",className:"button-link",onClick:this.openModal},t("Learn more"))),this.state.showModal&&e.createElement(i,{isPeerReview:!0,handleClose:this.closeModal}));return null},PeerReviewInformation}(e.Component),n.propTypes={isFirstPeerReview:e.PropTypes.bool,itemMetadata:e.PropTypes.object},o);module.exports=r(u,["CourseStore"],function(e,t){var n=e.CourseStore;return{isFirstPeerReview:n.isFirstPeerReview(t.itemMetadata.get("id"))}})});
define("bundles/peer/components/SubmissionModeTitle",["require","exports","module","react","bundles/peer/components/ItemPageTitle","bundles/peer/models/PeerState","js/lib/coursera.react-intl","i18n!nls/peer"],function(require,exports,module){function _defaults(e,n){for(var s=Object.getOwnPropertyNames(n),t=0;t<s.length;t++){var r=s[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,r,e=require("react"),o=require("bundles/peer/components/ItemPageTitle"),n=require("bundles/peer/models/PeerState"),s=require("js/lib/coursera.react-intl").FormattedMessage,i=require("i18n!nls/peer"),a=(r=t=function(t){function SubmissionModeTitle(){var o,e,s;_classCallCheck(this,SubmissionModeTitle);for(var i=arguments.length,a=Array(i),r=0;i>r;r++)a[r]=arguments[r];return o=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(a))),e.updateStateFromItemProgress=function(){var t=e.props,r=t.itemMetadata,o=t.itemProgress,s=new n(r,o);e.setState({isPassed:s.isPassed()})},s=o,_possibleConstructorReturn(e,s)}return _inherits(SubmissionModeTitle,t),SubmissionModeTitle.prototype.componentWillMount=function componentWillMount(){this.props.itemProgress.on("change",this.updateStateFromItemProgress),this.updateStateFromItemProgress()},SubmissionModeTitle.prototype.componentWillUnmount=function componentWillUnmount(){this.props.itemProgress.off("change",this.updateStateFromItemProgress)},SubmissionModeTitle.prototype.render=function render(){return e.createElement(o,{withCheck:this.state.isPassed},e.createElement(s,{message:i("{itemTitlePrefix}: {itemName}"),itemTitlePrefix:this.props.itemMetadata.getTitlePrefix(),itemName:this.props.itemMetadata.getName()}))},SubmissionModeTitle}(e.Component),t.propTypes={itemMetadata:e.PropTypes.object.isRequired,itemProgress:e.PropTypes.object.isRequired},r);module.exports=a});
define("bundles/phoenix/components/tabbedItemLayout/nls/tabbedItemView",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var t=function(e,t,a){var i=function template(n){var i=[],r={},a,s=n||{};return function(s,t,l,n,r){i.push('<!-- TODO(josh): Remove `peer`.--><div class="c-peer-review c-body-container bt3-container-fluid styleguide"><div class="c-peer-review-body"><div class="c-peer-review-header"><div class="horizontal-box"><div data-js="title-container" class="flex-1"><!-- Warning: This title is just the default title for subclasses that do not overwrite it. Subclasses may--><!-- overwrite this title by overwriting the html in the \'title-container\' element.--><h2 class="c-peer-review-title headline-4-text">'),s.getTitlePrefix()&&i.push(""+(null==(a=t("#{itemMetadata.getTitlePrefix()}:&nbsp;",{"itemMetadata.getTitlePrefix()":t(s.getTitlePrefix())}))?"":a)),i.push(""+e.escape(null==(a=t(s.getName()))?"":a)+'</h2></div><div data-rc="CourseCompleteModal" class="flex c-view-course-grade"></div></div><div class="c-peer-review-state bt3-row"><div data-js="meta-info" class="bt3-col-md-12"></div></div><div class="c-peer-review-state bt3-row"><div data-js="basic-info" class="bt3-col-md-12"></div></div></div><!-- Hook where programming assignments can put their deadlines table. (This is programming-specific to discourage--><!-- other types from putting deadline information here because programming assignments display deadlines in a--><!-- slightly nonstandard way.)--><div data-js="programming-deadline-area"></div>'),l?i.push('<div data-rc="LockingCover"></div>'):(n.length+r.length>1&&(i.push('<nav class="c-peer-review-nav bt3-row"><div class="bt3-col-md-12"><div class="c-peer-review-navlist-container bt3-clearfix"><ol class="c-peer-review-navlist inline bt3-pull-left">'),function(){var r=n;if("number"==typeof r.length)for(var l=0,d=r.length;d>l;l++){var s=r[l];i.push("<li"+e.attr("data-subview",s.subview,!0,!1)+' class="c-peer-review-navlist-item"><a'+e.attr("href",s.path,!0,!1)+e.attr("data-event",s.event,!0,!1)+' data-js="link" class="nostyle">'+e.escape(null==(a=t(s.title))?"":a)+"</a></li>")}else{var d=0;for(var l in r){d++;var s=r[l];i.push("<li"+e.attr("data-subview",s.subview,!0,!1)+' class="c-peer-review-navlist-item"><a'+e.attr("href",s.path,!0,!1)+e.attr("data-event",s.event,!0,!1)+' data-js="link" class="nostyle">'+e.escape(null==(a=t(t(s.title)))?"":a)+"</a></li>")}}}.call(this),function(){var n=r;if("number"==typeof n.length)for(var l=0,d=n.length;d>l;l++){var s=n[l];i.push("<li"+e.attr("data-subview",s.subview,!0,!1)+' class="c-peer-review-navlist-item c-peer-review-navlist-item-right"><a'+e.attr("href",s.path,!0,!1)+e.attr("data-event",s.event,!0,!1)+' data-js="link" class="nostyle">'+e.escape(null==(a=t(s.title))?"":a)+"</a></li>")}else{var d=0;for(var l in n){d++;var s=n[l];i.push("<li"+e.attr("data-subview",s.subview,!0,!1)+' class="c-peer-review-navlist-item c-peer-review-navlist-item-right"><a'+e.attr("href",s.path,!0,!1)+e.attr("data-event",s.event,!0,!1)+' data-js="link" class="nostyle">'+e.escape(null==(a=t(t(s.title)))?"":a)+"</a></li>")}}}.call(this),i.push("</ol></div></div></nav>")),i.push('<div class="c-peer-review-content bt3-row"><div data-js="body-container" class="bt3-col-md-12"></div><div data-js="item-feedback-footer" class="bt3-col-md-12"></div></div>')),i.push("</div></div>")}.call(this,"itemMetadata"in s?s.itemMetadata:"undefined"!=typeof itemMetadata?itemMetadata:void 0,"_t"in s?s._t:"undefined"!=typeof t?t:void 0,"isItemLocked"in s?s.isItemLocked:"undefined"!=typeof isItemLocked?isItemLocked:void 0,"leftNavLinks"in s?s.leftNavLinks:"undefined"!=typeof leftNavLinks?leftNavLinks:void 0,"rightNavLinks"in s?s.rightNavLinks:"undefined"!=typeof rightNavLinks?rightNavLinks:void 0),i.join("")};return function(e){return e&&"_t"in e&&(t=e._t.merge(t)),i(e)}};"function"==typeof define&&define.amd?define('bundles/phoenix/components/tabbedItemLayout/tabbedItemView.html',["js/vendor/jade","i18n!bundles/phoenix/components/tabbedItemLayout/nls/tabbedItemView"],function(e,i){var a;return t(e,i,a)}):e.jade.templates["bundles.phoenix.components.tabbedItemLayout.tabbedItemView"]=t(e.jade.helpers)}(window);

define('css!pages/open-course/peerReview/styl/index',[],function(){})
define("bundles/phoenix/components/tabbedItemLayout/tabbedItemView",["require","exports","module","jquery","origami","underscore","bundles/phoenix/components/tabbedItemLayout/tabbedItemView.html","bundles/phoenix/lib/view","js/lib/path","css!pages/open-course/peerReview/styl/index"],function(require,exports,module){var $=require("jquery"),i=require("origami"),_=require("underscore"),t=require("bundles/phoenix/components/tabbedItemLayout/tabbedItemView.html"),s=require("bundles/phoenix/lib/view"),n=require("js/lib/path");require("css!pages/open-course/peerReview/styl/index");var e=function getMetadata(e){return function(){return this.itemMetadata.get(e)}},a=s.extend({name:"itemView",bodyClasses:"c-item-peer",template:t,multitracker:{baseValues:["open_course_id","module_id","lesson_id","item_id"],definitions:{open_course_id:e("course.id"),module_id:e("lesson.module.id"),lesson_id:e("lesson.id"),item_id:e("id")},events:{}},events:{'click [data-js="link"]':"onLinkClick"},leftNavLinkConfigs:function leftNavLinkConfigs(){return[]},rightNavLinkConfigs:function rightNavLinkConfigs(){return[]},initialize:function initialize(e){_(this).bindAll("updateLinks"),_(this).extend(_(e).pick("itemMetadata","subview")),this.leftNavLinks=this.leftNavLinkConfigs().map(this.updateLinks),this.rightNavLinks=this.rightNavLinkConfigs().map(this.updateLinks),this.listenTo(this,"view:appended",this.onAppended),this.listenTo(this,"view:merged",this.onMerged),this.isItemLocked=e.itemMetadata.isLockedFully(),this.on("view:closed",this.onClose,this)},onLinkClick:function onLinkClick(e){e.preventDefault();var t=$(e.target),s=t.data("event");s&&this.track(s),i.router.navigateTo(t.attr("href"),!0)},updateLinks:function updateLinks(e){return _(e).extend({path:n.join(this.itemMetadata.getLink(),e.url),subview:e.subview||e.url})},onAppended:function onAppended(){$("body").addClass(this.bodyClasses)},onMerged:function onMerged(e){this.subview=e.subview,this.updateNavigation()},onClose:function onClose(){$("body").removeClass(this.bodyClasses)},postRender:function postRender(){this.updateNavigation()},updateNavigation:function updateNavigation(){var e=this.subview?this.subview.split("/")[0]:"";this.$("[data-subview]").removeClass("active"),this.$('[data-subview="'+e+'"]').addClass("active")}});module.exports=a});

define("pages/open-course/peerReview/views/nls/layout",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define('css!bundles/peer/components/__styles__/RubricPreviewLink',[],function(){})
define("bundles/peer/components/RubricPreviewLink",["require","exports","module","react","bundles/page/components/TrackedLink2","bundles/peer/components/PeerReviewAdminPermissionChecker","bundles/peer-admin/constants/constants","js/lib/path","css!./__styles__/RubricPreviewLink"],function(require,exports,module){function _defaults(e,i){for(var o=Object.getOwnPropertyNames(i),n=0;n<o.length;n++){var r=o[n],t=Object.getOwnPropertyDescriptor(i,r);t&&t.configurable&&void 0===e[r]&&Object.defineProperty(e,r,t)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var n,r,e=require("react"),t=require("bundles/page/components/TrackedLink2"),i=t.TrackedReactLink,o=require("bundles/peer/components/PeerReviewAdminPermissionChecker"),s=require("bundles/peer-admin/constants/constants"),c=s.PeerAdminCapabilities,a=require("js/lib/path");require("css!./__styles__/RubricPreviewLink");var p=(r=n=function(n){function RubricPreviewLink(){return _classCallCheck(this,RubricPreviewLink),_possibleConstructorReturn(this,n.apply(this,arguments))}return _inherits(RubricPreviewLink,n),RubricPreviewLink.prototype.render=function render(){var n=this.props.itemLink,r=a.join(n,"rubric-preview");return e.createElement("div",{className:"rc-RubricPreviewLink"},e.createElement(o,{requestedCapability:c.previewRubric},e.createElement(i,{href:r,trackingName:"preview_rubric"},"(Admin-Only Link) Preview Rubric")))},RubricPreviewLink}(e.Component),n.propTypes={itemLink:e.PropTypes.string.isRequired},r);module.exports=p});
define("pages/open-course/peerReview/views/nls/assignment",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var i=function(i,e,t){var n=function template(r){var n=[],a={},t,s=r||{};return function(e){n.push('<div data-rc="RubricPreviewLink"></div><div class="c-peer-review-assignment c-peer-card card-rich-interaction"><h2 class="headline-2-text">'+i.escape(null==(t=e("Instructions"))?"":t)+'</h2><div class="c-peer-review-assignment-intro bt3-row"><div class="bt3-col-md-12"><div data-js="introduction"></div></div></div><div data-js="instruction-sections" class="c-peer-review-assignment-sections"></div></div>')}.call(this,"_t"in s?s._t:"undefined"!=typeof e?e:void 0),n.join("")};return function(i){return i&&"_t"in i&&(e=i._t.merge(e)),n(i)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/assignment.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/nls/assignment"],function(e,n){var t;return i(e,n,t)}):e.jade.templates["pages.open-course.peerReview.views.assignment"]=i(e.jade.helpers)}(window);
define("pages/open-course/peerReview/viewModels/assignment.sectionModel",["require","exports","module","backbone"],function(require,exports,module){var Backbone=require("backbone"),e=Backbone.Model.extend({defaults:{expanded:!1},toggleExpanded:function toggleExpanded(){this.set("expanded",!this.get("expanded"))}});module.exports=e});
define("pages/open-course/peerReview/views/nls/assignment.section",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var n=function(n,e,s){var t=function template(o){var i=[],c={},t,s=o||{};return function(e,s){i.push('<div class="c-peer-review-assignment-section bt3-row"><div class="bt3-col-md-12"><div data-js="title-container" class="c-peer-review-assignment-section-title-container"><span class="body-2-text">'+n.escape(null==(t=e(s.title))?"":t)+'</span><span data-js="section-toggle" class="c-peer-review-assignment-section-title-toggle body-2-text"><span data-js="section-content-show-more">'+(null==(t=e("more&nbsp;"))?"":t)+'<em class="c-peer-review-assignment-section-title-toggle-arrow cif-chevron-down"></em></span><span data-js="section-content-show-less">'+(null==(t=e("less&nbsp;"))?"":t)+'<em class="c-peer-review-assignment-section-title-toggle-arrow cif-chevron-up"></em></span></span></div><div class="open"><div data-js="section-content-container" class="c-peer-review-assignment-section-content"><div data-js="section-content"></div></div></div></div></div>')}.call(this,"_t"in s?s._t:"undefined"!=typeof e?e:void 0,"section"in s?s.section:"undefined"!=typeof section?section:void 0),i.join("")};return function(n){return n&&"_t"in n&&(e=n._t.merge(e)),t(n)}};"function"==typeof define&&define.amd?define('pages/open-course/peerReview/views/assignment.section.html',["js/vendor/jade","i18n!pages/open-course/peerReview/views/nls/assignment.section"],function(e,t){var s;return n(e,t,s)}):e.jade.templates["pages.open-course.peerReview.views.assignment.section"]=n(e.jade.helpers)}(window);
define("pages/open-course/peerReview/views/assignment.section",["require","exports","module","backbone","underscore","bundles/collapse/collapse","bundles/phoenix/lib/view","bundles/phoenix/lib/renderContent","pages/open-course/peerReview/viewModels/assignment.sectionModel","pages/open-course/peerReview/views/assignment.section.html"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),t=require("bundles/collapse/collapse"),n=require("bundles/phoenix/lib/view"),i=require("bundles/phoenix/lib/renderContent"),s=require("pages/open-course/peerReview/viewModels/assignment.sectionModel"),o=require("pages/open-course/peerReview/views/assignment.section.html"),e=function getMetadata(e){return function(){return this.itemMetadata.get(e)}},a=n.extend({name:"body",template:o,constants:{"class.active":"active"},events:{'click [data-js="title-container"]':"toggleContainer"},multitracker:{eventingVersion:2,namespace:"open_course_item.peer_review_instructions",baseValues:["open_course_id","module_id","lesson_id","item_id"],definitions:{open_course_id:e("course.id"),module_id:e("lesson.module.id"),lesson_id:e("lesson.id"),item_id:e("id")},events:{"click.details":[]}},initialize:function initialize(e){_(this).extend(_(e).pick("itemMetadata","section","renderOpen")),this.sectionModel=new s},render:function render(){return this.$el.html(this.template({section:this.section})),i(this.section.content,this.$$("section-content")),this.sectionModel.set("expanded",this.renderOpen===!0),this.renderCollapse({animate:!1,triggerEventing:!1}),this.listenTo(this.sectionModel,"change:expanded",this.renderCollapseWithAnimate),this},toggleContainer:function toggleContainer(){this.sectionModel.toggleExpanded()},renderCollapse:function renderCollapse(e){e=e||{};var i=this.$$("title-container"),s=this.$$("section-content-container"),o=this.$$("section-content-show-more"),a=this.$$("section-content-show-less"),n=void 0;this.sectionModel.get("expanded")?(n="expand",t(s.parent()).show(e),o.hide(),a.show(),i.addClass(this.constants["class.active"])):(n="collapse",t(s.parent()).hide(e),o.show(),a.hide(),i.removeClass(this.constants["class.active"])),e.triggerEventing!==!1&&this.track("click.details",{details:this.section.title.toLowerCase(),to_status:n})},renderCollapseWithAnimate:function renderCollapseWithAnimate(){this.renderCollapse({animate:!0})}});module.exports=a});
define("pages/open-course/peerReview/views/assignment",["require","exports","module","underscore","bundles/phoenix/lib/view","bundles/page/lib/metatagsAddressBook","bundles/phoenix/lib/renderContent","bundles/peer/components/RubricPreviewLink","pages/open-course/peerReview/views/assignment.html","pages/open-course/peerReview/views/assignment.section"],function(require,exports,module){var _=require("underscore"),t=require("bundles/phoenix/lib/view"),n=require("bundles/page/lib/metatagsAddressBook"),s=require("bundles/phoenix/lib/renderContent"),o=require("bundles/peer/components/RubricPreviewLink"),r=require("pages/open-course/peerReview/views/assignment.html"),i=require("pages/open-course/peerReview/views/assignment.section"),e=function getMetadata(e){return function(){return this.itemMetadata.get(e)}},d=t.extend({name:"body",template:r,multitracker:{namespace:"open_course_item.peer_review_instructions",baseValues:["open_course_id","module_id","lesson_id","item_id"],definitions:{open_course_id:e("course.id"),module_id:e("lesson.module.id"),lesson_id:e("lesson.id"),item_id:e("id")},events:{render:[]}},initialize:function initialize(e){_(this).extend(_(e).pick("itemMetadata","assignment")),n.setMetatags({pageName:"title-and-description",context:{title:this.itemMetadata.getName(),description:this.itemMetadata.get("lesson.module.description")}})},postRender:function postRender(){var e=this.assignment.get("instructions");s(e.introduction,this.$$("introduction")),e.sections.length>0?e.sections.forEach(this.renderSection,this):this.$$("instruction-sections").addClass("bt3-hide"),this.renderReactInto(o,"RubricPreviewLink",{itemLink:this.itemMetadata.getLink()}),this.track("render")},renderSection:function renderSection(e,t){this.region.append(i,{initialize:{itemMetadata:this.itemMetadata,section:e,renderOpen:!0},to:this.$$("instruction-sections"),module:i})}});module.exports=d});
define("pages/open-course/peerReview/views/layout",["require","exports","module","origami","underscore","bundles/content-feedback/constants/ItemTypes","bundles/ondemand/components/LockingCover","bundles/ondemand/components/endOfCourse/components/CourseCompleteModal","bundles/peer/components/ReviewModeMetaInfo","bundles/peer/components/ReviewModeTitle","bundles/peer/components/SubmissionModeMetaInfo","bundles/peer/components/PeerReviewInformation","bundles/peer/components/SubmissionModeTitle","bundles/phoenix/components/tabbedItemLayout/tabbedItemView","bundles/programming/components/Footer","bundles/ondemand/utils/socialExperimentUtils","js/lib/path","i18n!pages/open-course/peerReview/views/nls/layout","pages/open-course/peerReview/views/assignment","css!pages/open-course/peerReview/styl/index"],function(require,exports,module){var b=require("origami"),_=require("underscore"),l=require("bundles/content-feedback/constants/ItemTypes"),h=require("bundles/ondemand/components/LockingCover"),v=require("bundles/ondemand/components/endOfCourse/components/CourseCompleteModal"),w=require("bundles/peer/components/ReviewModeMetaInfo"),o=require("bundles/peer/components/ReviewModeTitle"),a=require("bundles/peer/components/SubmissionModeMetaInfo"),r=require("bundles/peer/components/PeerReviewInformation"),d=require("bundles/peer/components/SubmissionModeTitle"),i=require("bundles/phoenix/components/tabbedItemLayout/tabbedItemView"),u=require("bundles/programming/components/Footer"),c=require("bundles/ondemand/utils/socialExperimentUtils"),m=c.isForumsBlacklisted,p=require("js/lib/path"),e=require("i18n!pages/open-course/peerReview/views/nls/layout");require("pages/open-course/peerReview/views/assignment"),require("css!pages/open-course/peerReview/styl/index");var t=function getMetadata(e){return function(){return this.itemMetadata.get(e)}},s=[{url:"",subview:"assignment",title:e("Instructions"),event:"click.instructions",splitViewMode:"submission"},{url:"submit",title:e("My submission"),event:"click.my_project",splitViewMode:"submission"},{url:"give-feedback",title:e("Review classmates"),event:"click.review_peers",splitViewMode:"review"}],n=function getUnfilteredRightNavLinkConfigs(t){return m(t)?[]:[{url:"discussions",title:e("Discussions"),event:"click.question_and_answer",splitViewMode:"submission"}]},M=i.extend({multitracker:{eventingVersion:2,namespace:"open_course_item.peer_review_header",baseValues:["open_course_id","module_id","lesson_id","item_id"],definitions:{open_course_id:t("course.id"),module_id:t("lesson.module.id"),lesson_id:t("lesson.id"),item_id:t("id")},events:{"click.instructions":[],"click.my_project":[],"click.review_peers":[],"click.question_and_answer":[]}},initialize:function initialize(e){_(this).extend(_(e).pick("api","page","course","courseProgress","itemMetadata","itemOutcomeOverrides","assignment","latestSubmission","latestSubmissionEvaluation","reviews","reviewStats","itemProgress","subview","layoutClasses","submissionDeleteRequests","displayablePhaseSchedule","isDeletedByAdmin")),this.courseId=this.course.get("id"),_(this).bindAll("onDeleteSuccess","showLink"),i.prototype.initialize.call(this,e)},onDeleteSuccess:function onDeleteSuccess(){var e=p.join(this.itemMetadata.getLink(),"submitAlias");b.router.navigate(e,{replace:!0,trigger:!0})},getActiveLink:function getActiveLink(){var e=this;return _([]).chain().union(s).union(n(this.courseId)).find(function(t){return(t.subview||t.url)===e.subview}).value()},showLink:function showLink(e){return this.itemMetadata.isMentorGraded()?"review"!==e.splitViewMode&&e.splitViewMode===this.getActiveLink().splitViewMode:this.itemMetadata.isLockedFully()&&"submit"===e.url?!1:"phasedPeer"===this.itemMetadata.getTypeName()?e.splitViewMode===this.getActiveLink().splitViewMode:!0},leftNavLinkConfigs:function leftNavLinkConfigs(){return s.filter(this.showLink)},rightNavLinkConfigs:function rightNavLinkConfigs(){return n(this.courseId).filter(this.showLink)},renderSubviews:function renderSubviews(){if(this.itemMetadata.isLockedFully())this.renderReactInto(h,"LockingCover",{itemMetadata:this.itemMetadata});else{var i=this.$$("meta-info"),t=this.$$("title-container"),n=this.$$("basic-info");t.empty();var e=_(this).pick("itemMetadata","itemProgress","itemOutcomeOverrides","isDeletedByAdmin");e.namespaceForTracker=this.multitracker.namespace;var s=this.getActiveLink().splitViewMode;"submission"===s?(this.renderReactIntoElement(a,i[0],_({}).extend(e,_(this).pick("displayablePhaseSchedule","latestSubmission"),{api:this.api,onDeleteSuccess:this.onDeleteSuccess})),this.renderReactIntoElement(d,t[0],e)):"review"===s&&(this.renderReactIntoElement(w,i[0],_({}).extend(e,_(this).pick("displayablePhaseSchedule"))),this.renderReactIntoElement(o,t[0],e)),this.renderReactIntoElement(r,n[0],{itemMetadata:this.itemMetadata})}!this.itemMetadata.isLockedFully()&&this.latestSubmission.get("isSubmitted")&&this.renderReactIntoElement(u,this.$$("item-feedback-footer")[0],{itemMetadata:this.itemMetadata,feedbackItemType:l.Peer}),this.renderReactInto(v,"CourseCompleteModal")}});module.exports=M});





define("pages/open-course/peerReview/entry",["require","exports","module","origami","q","underscore","bundles/discussions/viewModels/viewContext","bundles/phoenix/lib/exceptions","bundles/phoenix/utils/openers","js/lib/path","js/lib/memoize","memoize!pages/open-course/common/promises/itemMetadata","pages/open-course/common/singletons/course","pages/open-course/common/promises/courseViewGrade","pages/open-course/common/singletons/courseMaterials","pages/open-course/common/promises/courseProgress","pages/open-course/common/utils/ensureEnrolled","pages/open-course/common/utils/lockExperiment","pages/open-course/item/entry","pages/open-course/peerReview/assignment/promises/assignment","pages/open-course/peerReview/components/alerts/viewModels/alerts","pages/open-course/peerReview/data/api","pages/open-course/peerReview/models/errorTree","pages/open-course/peerReview/promises/displayablePhaseSchedule","pages/open-course/peerReview/promises/reviewQueue","pages/open-course/peerReview/promises/reviewStats","pages/open-course/peerReview/reviewTypes/base/promises/reviews","pages/open-course/peerReview/submissionTypes/base/promises/latestSubmissionAndRelated","pages/open-course/common/utils/discussionsUrlBuilder","pages/open-course/peerReview/views/giveFeedback","pages/open-course/peerReview/views/giveFeedbackNoList","pages/open-course/peerReview/views/review","pages/open-course/peerReview/views/submit","bundles/ondemand/actions/CourseActions","bundles/ondemand/actions/CourseMembershipActions","bundles/ondemand/actions/SessionActions","pages/open-course/peerReview/views/layout","lazy!pages/open-course/peerReview/views/preview","lazy!pages/open-course/peerReview/views/closedFeedback","lazy!pages/open-course/peerReview/views/assignment","lazy!bundles/discussions/components/discussionsBody/DiscussionsBody","lazy!pages/open-course/peerReview/views/rubricPreview"],function(require,exports,module){function opener(i,u,r,l,w,h,p){var x=n(o,r),s=i.getActionContext(),b=s.getStore("ApplicationStore"),m=s.getStore("CourseStore"),f=b.getUserData().id,S=m.getCourseId(),a=m.getCourseSlug(),d=e.all([x,c(f+"~"+S),v(a),y,p,h,s.executeAction(E),s.executeAction(B,{courseSlug:a}),s.executeAction(F,{courseSlug:a})]).spread(function(e,n,o,a,c,s){return R.setup(s.course.get("id"),a,n,o),{"pages/open-course/peerReview/views/layout":{id:"peerReviewLayout."+e.get("id")+"."+(new Date).getTime(),to:'[data-js="item-container"]',initialize:_({}).extend(s,{api:t,subview:l,course:s.course,courseProgress:o,itemMetadata:e,itemProgress:o.getItemProgress(r),itemOutcomeOverrides:n.getItemOutcomeOverrides(),nextItemMetadataOrItemGroup:a.getNeighbors(e).nextItemMetadataOrItemGroup,bodyClasses:"c-item-peer",isDeletedByAdmin:s.isDeletedByAdmin,fluxibleContext:i,router:u}),regions:{body:e.isLockedFully()?null:c},module:require("pages/open-course/peerReview/views/layout")}}});return g.openItemView(i,u,d,r,w)}function reviewViewOptions(e,a,o,t,n,r,l,u,c,p){var d=s+"review",i=e.getComponentContext().getStore("SessionStore");return _.object([d],[{id:r+"-"+Date.now(),to:'[data-js="body-container"]',initialize:{api:l,assignment:o,eventPrefix:n,itemMetadata:t,showBreadcrumbs:c,submissionId:u,itemOutcomeOverrides:p,sessionId:i.getSessionId(),fluxibleContext:e,router:a},module:m}])}function redirectToAssignmentIfUserRejectedEnroll(e){return function(s){if(s instanceof a.UserRejectedEnrollPromptException){var o=i(e);return o.get("assignment").then(function(e){throw new l.Redirect(r.join(e.get("metadata").getLink(),"assignment"))})}throw s}}function submitViewOptions(i,u,o,g,n,r,a,e,c,m,p,d,t){var l=s+"submit";return _.object([l],[{id:"submit",to:'[data-js="body-container"]',initialize:{alerts:c,api:n,errorTree:m,itemMetadata:o,reviewSchema:e,submission:r,submissionSchema:a,showStaleAssignmentVersionError:p,privilegedRoleViewReviewSchema:d,upgradeToCurrentAssignment:t,fluxibleContext:i,router:u},module:T}])}function previewViewOptions(i,a,o,d,n,r,e,u,c,m,t){var p=s+"preview";return _.object([p],[{id:"preview",to:'[data-js="body-container"]',initialize:{alerts:m,api:n,assignment:r,errorTree:t,itemMetadata:o,reviewSchema:c,submission:e,submissionSchema:u,fluxibleContext:i,router:a},module:require("lazy!pages/open-course/peerReview/views/preview")}])}function reviewOpener(o,n,a,g,u,c){var p=r.join("review",u,c.suffix),d=i(a),l=e.all([d]).spread(function(e){var d=!0,l="open_course_item.peer_review_review_peers_detail",i=e.assignment,a=i.get("metadata"),g=o.getComponentContext().getStore("SessionStore");if(!i.can("reviewPeers"))return void j.router.navigateTo(r.join(a.getLink(),"give-feedback"),{replace:!0,trigger:!0});return _.object([s+"review"],[{id:p+"-"+Date.now(),to:'[data-js="body-container"]',initialize:{api:t,assignment:e.assignment,eventPrefix:l,itemMetadata:a,showBreadcrumbs:d,submissionId:u,sessionId:g.getSessionId(),adminMode:c.adminMode,itemOutcomeOverrides:e.itemOutcomeOverrides,fluxibleContext:o,router:n},module:m}])});return opener(o,n,a,"give-feedback",p,d,l)}function userReviewOpener(e,s,i,o,t){return reviewOpener(e,s,i,o,t,{adminMode:!1,suffix:""})}function userReviewNextOpener(e,s,i,o){return reviewOpener(e,s,i,o,void 0,{adminMode:!1,suffix:""})}function adminReviewOpener(e,s,i,o,t){return reviewOpener(e,s,i,o,t,{adminMode:!0,suffix:"admin"})}function submitOpener(s,u,o,w){var n=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],r="submit",p=i(o),m=s.getActionContext(),g=m.getStore("ApplicationStore").getUserData().id,l=m.getStore("CourseStore").getCourseId(),v=m.getStore("VerificationStore").getVerificationDisplay(),b=e.all([p,c(g+"~"+l)]).spread(function(e,c){var i=e.assignment,o=e.latestSubmission;if(o.get("isSubmitted")){var m=o.get("id"),p=!1,l="open_course_item.peer_review_my_project_review";return reviewViewOptions(s,u,i,i.get("metadata"),l,r,t,m,p,c.getItemOutcomeOverrides())}var a=n.submitError?e.errorTree:new x,g=new d({errorTree:a,severity:n.submitError?"error":"warning"});return submitViewOptions(s,u,i.get("metadata"),r,t,o,e.latestSubmissionSubmissionSchema,e.latestSubmissionReviewSchema,g,a,!!n.showStaleAssignmentVersionError,i.canBecause("viewReviewSchema","privilegedRole"),e.latestSubmissionUpgradeToCurrentAssignment)});return opener(s,u,o,"submit",r,p,b).then(function(){return a(g,l,v)}).fail(redirectToAssignmentIfUserRejectedEnroll(o))}function previewOpener(s,o,n){var a="submit/preview",u=i(n),c=e.all([u]).spread(function(e){var i=e.assignment,n=e.latestSubmission;if(!n.get("isSaved"))throw new l.Redirect(r.join(i.get("metadata").getLink(),"submit"));var u=new d({errorTree:e.errorTree,severity:"warning"});return previewViewOptions(s,o,i.get("metadata"),a,t,i,n,e.latestSubmissionSubmissionSchema,e.latestSubmissionReviewSchema,u,e.errorTree)});return opener(s,o,n,"submit",a,u,c)}function giveFeedbackOpener(r,p,t){var l="give-feedback",c=n(o,t),m=i(t),u=r.getActionContext(),y=u.getStore("ApplicationStore").getUserData().id,g=u.getStore("VerificationStore").getVerificationDisplay(),d=u.getStore("CourseStore"),w=d.getCourseId(),f=d.getCourseSlug(),S=c.then(function(e){return L({metadata:e})})["catch"](function(e){if(403===e.status)return null;throw e}),b=e.all([v(f),c,m,S]).spread(function(u,n,t,a){var e=t.assignment,c=t.latestSubmission,i=void 0,o=void 0;return e.can("reviewPeers")&&e.can("listSubmissions")?(i=s+"giveFeedback",o=z):e.can("reviewPeers")&&!e.can("listSubmissions")?(i=s+"giveFeedbackNoList",o=I):(i=s+"closedFeedback",o=require("lazy!pages/open-course/peerReview/views/closedFeedback")),_.object([i],[{id:"give-feedback",to:'[data-js="body-container"]',initialize:{assignment:e,displayablePhaseSchedule:t.displayablePhaseSchedule,itemMetadata:n,itemProgress:u.getItemProgress(n.get("id")),submission:c,nextUpSubmissions:a&&a.slice(0,1),numColumns:3,fluxibleContext:r,router:p},module:o}])});return opener(r,p,t,"give-feedback",l,m,b).then(function(){return a(y,w,g)}).fail(redirectToAssignmentIfUserRejectedEnroll(t))}function assignmentOpener(o,t,n){var a="assignment",u=s+"assignment",r=i(n),c=e.all([r]).spread(function(e){return _.object([u],[{id:"give-feedback",to:'[data-js="body-container"]',initialize:{itemMetadata:e.assignment.get("metadata"),assignment:e.assignment,fluxibleContext:o,router:t},module:require("lazy!pages/open-course/peerReview/views/assignment")}])});return opener(o,t,n,"assignment",a,r,c)}function discussionsOpener(n,r,a,d,s,e,o){var c=P.buildUrl(s,e,o),t=i(a),m="bundles/discussions/components/discussionsBody/DiscussionsBody",p=t.then(function(t){var i=new b({itemMetadata:t.assignment.get("metadata")});return _.object([m],[{id:"questions",to:'[data-js="body-container"]',props:{viewContext:i,backLink:i.get("discussionsLink"),questionId:"object"!==("undefined"==typeof s?"undefined":u(s))?s:null,answerId:"object"!==("undefined"==typeof e?"undefined":u(e))?e:null,commentId:"object"!==("undefined"==typeof o?"undefined":u(o))?o:null},context:{fluxibleContext:n,router:r},module:require("lazy!bundles/discussions/components/discussionsBody/DiscussionsBody")}])});return opener(n,r,a,"discussions",c,t,p)}function rubricPreviewOpener(r,a,t,d){var u="rubric-preview",c=n(o,t),m=i(t),p=e.all([c,m]).spread(function(e,i){var o=s+"rubricPreview";return _.object([o],[{id:"rubricPreview."+e.get("id")+"."+(new Date).getTime(),to:'[data-js="item-container"]',initialize:{itemMetadata:e,reviewSchema:i.assignment.get("reviewSchema"),submissionSchema:i.assignment.get("submissionSchema"),fluxibleContext:r,router:a},module:require("lazy!pages/open-course/peerReview/views/rubricPreview")}])});return g.openItemView(r,a,p,t,u)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},j=require("origami"),e=require("q"),_=require("underscore"),b=require("bundles/discussions/viewModels/viewContext"),l=require("bundles/phoenix/lib/exceptions"),w=require("bundles/phoenix/utils/openers"),r=require("js/lib/path"),f=require("js/lib/memoize"),n=require("memoize!pages/open-course/common/promises/itemMetadata"),S=require("pages/open-course/common/singletons/course"),c=require("pages/open-course/common/promises/courseViewGrade"),y=require("pages/open-course/common/singletons/courseMaterials"),v=require("pages/open-course/common/promises/courseProgress"),a=require("pages/open-course/common/utils/ensureEnrolled"),R=require("pages/open-course/common/utils/lockExperiment"),g=require("pages/open-course/item/entry"),h=require("pages/open-course/peerReview/assignment/promises/assignment"),d=require("pages/open-course/peerReview/components/alerts/viewModels/alerts"),t=require("pages/open-course/peerReview/data/api"),x=require("pages/open-course/peerReview/models/errorTree"),C=require("pages/open-course/peerReview/promises/displayablePhaseSchedule"),L=require("pages/open-course/peerReview/promises/reviewQueue"),M=require("pages/open-course/peerReview/promises/reviewStats"),A=require("pages/open-course/peerReview/reviewTypes/base/promises/reviews"),k=require("pages/open-course/peerReview/submissionTypes/base/promises/latestSubmissionAndRelated"),P=require("pages/open-course/common/utils/discussionsUrlBuilder"),z=require("pages/open-course/peerReview/views/giveFeedback"),I=require("pages/open-course/peerReview/views/giveFeedbackNoList"),m=require("pages/open-course/peerReview/views/review"),T=require("pages/open-course/peerReview/views/submit"),D=require("bundles/ondemand/actions/CourseActions"),B=D.loadCourseMaterials,O=require("bundles/ondemand/actions/CourseMembershipActions"),E=O.loadMembership,V=require("bundles/ondemand/actions/SessionActions"),F=V.getCurrentSession,o=["closedPeer","gradedPeer","peer","phasedPeer"],s="pages/open-course/peerReview/views/",i=f(function(s){var i=n(o,s);return i.then(function(s){return e.all([h({metadata:s}),C({metadata:s}),k(s),M({metadata:s}),S]).spread(function(t,n,i,r,a){var o=void 0;return o=i.submission.get("isSubmitted")?A(s,i.submission.get("id")):e(null),o.then(function(e){return{assignment:t,displayablePhaseSchedule:n,errorTree:i.errorTree,latestSubmission:i.submission,latestSubmissionEvaluation:i.evaluation,latestSubmissionSubmissionSchema:i.submissionSchema,latestSubmissionReviewSchema:i.reviewSchema,latestSubmissionUpgradeToCurrentAssignment:i.upgradeToCurrentAssignment,reviews:e,reviewStats:r,isDeletedByAdmin:i.isDeletedByAdmin,course:a}})})})}),p={redirect:function redirect(i,o,e,s){return p.submit(e,s)},submit:submitOpener,"submit/preview":previewOpener,userReviewNext:userReviewNextOpener,userReview:userReviewOpener,adminReview:adminReviewOpener,"give-feedback":giveFeedbackOpener,assignment:assignmentOpener,discussions:discussionsOpener,"rubric-preview":rubricPreviewOpener};module.exports=w.validateOpeners(o,p,"submit","submit/preview","userReview","adminReview","give-feedback","assignment","discussions","rubric-preview")});

(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})
('.wechat-image{cursor:pointer}.wechat-qrcode-container{background:#fff;border:1px solid #ccc;position:absolute;z-index:100;width:260px;height:130px;font-size:13px;right:10px;top:-120px;margin-top:20px;-webkit-box-shadow:0 3px 7px rgba(0,0,0,0.3);box-shadow:0 3px 7px rgba(0,0,0,0.3)}#wechat-qrcode{display:inline-block;margin:20px 10px;float:left}.wechat-qrcode-message{display:inline-block;width:120px;height:90px;margin:20px 10px;line-height:20px;text-align:left}.wechat-qrcode-close{position:absolute;top:0;right:8px;cursor:pointer}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.c-item-page-header-container{background-color:#fff;border-bottom:1px solid #f5f5f5;margin:0 auto;position:relative;width:100%;}.c-item-page-header-container .rc-JoinCourseBanner{background-color:#000}.c-item-page-header{max-width:990px;margin-left:auto;margin-right:auto;margin-bottom:0;border:0;-webkit-border-radius:0;border-radius:0;}.c-item-page-header .c-item-page-brand{color:rgba(0,0,0,0.55);padding-left:0;padding-right:0;}.c-item-page-header .c-item-page-brand.bt3-navbar-brand{margin-left:0}.c-item-page-header .c-item-page-brand .c-item-page-course-brand{color:rgba(0,0,0,0.55);margin-left:16px;font-size:16px}.c-item-page-header .c-item-page-brand .c-item-page-back-arrow{color:rgba(0,0,0,0.255);font-size:16px}.c-item-page-header .c-item-page-nav-mobile .c-item-page-nav-link{padding-top:15px;padding-bottom:15px;margin-top:0;margin-bottom:0}.c-item-page-header .c-item-page-nav-link{color:rgba(0,0,0,0.55);}.c-item-page-header .c-item-page-nav-link:focus,.c-item-page-header .c-item-page-nav-link:hover{text-decoration:none}.c-item-page-header .c-item-page-nav-username{margin-right:16px;font-size:16px}.c-item-page-header .c-item-page-nav-user-head{color:rgba(0,0,0,0.255);font-size:16px}.c-item-page-header .c-item-page-dashboard-link{cursor:pointer}.c-item-page-header .c-item-page-auth-link{font-size:16px}@media (max-width:767px){.c-item-page-header-container{border-bottom-color:#ccc}}.c-item-nav-container{z-index:10;left:0;right:0}@media (min-width:768px){html{height:100%}.c-layout-fullscreen.c-phoenix-item{height:100%;}.c-layout-fullscreen.c-phoenix-item .c-phoenix-template-fullscreen-container,.c-layout-fullscreen.c-phoenix-item .c-phoenix-template-fullscreen,.c-layout-fullscreen.c-phoenix-item .c-phoenix-template-fullscreen-body,.c-layout-fullscreen.c-phoenix-item .c-phoenix-template-body-container,.c-layout-fullscreen.c-phoenix-item .c-item-container{height:100%}.c-layout-fullscreen.c-phoenix-item .c-item-container.horizontal-box{position:absolute;width:100%;min-height:100%;height:auto}}body.c-phoenix-item{background-color:#f5f5f5;}body.c-phoenix-item.c-item-peer,body.c-phoenix-item.c-item-assessment{background-color:#f9f9f9;}body.c-phoenix-item.c-item-peer .c-item-page-header-container,body.c-phoenix-item.c-item-assessment .c-item-page-header-container{border-bottom-color:#e5e5e5}body.c-phoenix-item.c-item-peer .c-item-nav-container,body.c-phoenix-item.c-item-assessment .c-item-nav-container{border-top-color:#e5e5e5}body.c-phoenix-item.c-item-programming{background-color:#f9f9f9;}body.c-phoenix-item.c-item-programming .c-body-container{background-color:transparent}.c-item-container{position:relative;}.c-item-container .c-main-content-container{width:100%;}.c-item-container .c-main-content-container .c-video{margin-left:auto;margin-right:auto}.c-modal-container .c-main-content-container{padding-top:40px;padding-bottom:40px}@media (min-width:768px){.c-item-container{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;}.c-item-container .c-main-content-container{padding:12px;width:100%}.c-item-assessment-attempt .c-main-content-container{padding-top:40px}.c-item-lecture .c-main-content-container{margin:0 auto}}@media (max-width:991px){.c-item-lecture .c-main-content-container{padding-top:66px}}@media (max-width:991px){.c-item-container{padding-left:0;padding-right:0}}#c-item-navlist{display:none;width:20em;}#c-item-navlist .c-item-navlist-arrow{left:15%}.c-quiz-banner-container .banner-vc{position:fixed;top:0;left:0;right:0}.banner-vc{background:#f6faff;color:#2a73cc;text-align:center;padding:0;width:100%;z-index:10000;}.banner-vc .vc-banner-text{padding-left:10px;display:inline-block}.banner-vc .cert-icon{height:55px;width:auto;display:inline-block}.banner-vc .get-cert-button{background:#2ab573;color:#fff;width:135px;height:30px;display:inline-block;font-size:10pt;margin-left:20px;display:inline-block}.banner-vc .banner-close-icon{position:relative;cursor:pointer;display:inline-block;top:2px;left:20px}.rc-SessionStartedModal .rc-Modal .c-modal-content{max-width:550px}.collapse{display:none;}.collapse.open{display:block}.collapsing{position:relative;height:0;overflow:hidden}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ProfileImage .c-profile-image{-webkit-border-radius:100%;border-radius:100%;}.rc-ProfileImage .c-profile-image img{-webkit-border-radius:100%;border-radius:100%}.rc-ProfileImage .c-profile-initials{background-color:#3277b2;color:#fff;text-transform:uppercase;}.rc-ProfileImage .c-profile-initials div{width:100%;height:100%;}.rc-ProfileImage .c-profile-initials div p{margin-bottom:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.c-s12n-banner-container{padding:16px 0 14px 0}.c-s12n-banner{max-width:990px;margin-left:auto;margin-right:auto;padding:0 15px;}.c-s12n-banner .c-s12n-banner-wrapper{width:100%;display:table;}.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-content{color:#fff;text-align:center;}.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-content p{font-size:16px;margin-bottom:0}@media (min-width:768px){.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-content{display:table-cell;vertical-align:middle;width:80%;padding-right:4px;text-align:left}}.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-content a{color:#fff;font-size:16px;}.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-content a.c-s12n-banner-details{text-decoration:underline}.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-content a:hover{color:$defaultWhite}@media (max-width:767px){.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-button-area{margin-top:16px;text-align:center}}@media (min-width:768px){.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-button-area{display:table-cell;vertical-align:middle;text-align:right;width:20%}}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ItemBreadcrumbs{margin-left:auto;margin-right:auto;max-width:960px;color:rgba(255,255,255,0.7);-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}.rc-ItemBreadcrumbs a{color:#f6faff}.rc-ItemBreadcrumbs .item-breadcrumb-chevron{font-size:12px;padding-left:8px;padding-right:8px}.c-item-lecture .c-public-lecture-body .rc-ItemBreadcrumbs{padding-top:0;}.c-item-lecture .c-public-lecture-body .rc-ItemBreadcrumbs .item-breadcrumb-text{color:rgba(255,255,255,0.7)}.c-item-lecture .rc-ItemBreadcrumbs{max-width:none}.c-item-peer .rc-ItemBreadcrumbs,.c-item-assessment .rc-ItemBreadcrumbs,.rc-LightItemLayout .rc-ItemBreadcrumbs,.c-phoenix-item .rc-ItemBreadcrumbs{max-width:960px;padding-right:15px;padding-left:15px;color:rgba(0,0,0,0.8);}.c-item-peer .rc-ItemBreadcrumbs a,.c-item-assessment .rc-ItemBreadcrumbs a,.rc-LightItemLayout .rc-ItemBreadcrumbs a,.c-phoenix-item .rc-ItemBreadcrumbs a{color:#2a73cc}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.c-phoenix-template-truncate{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.c-phoenix-template-button{outline:none;margin:15px 0;color:#fff;background-color:#428bca;cursor:pointer;border-top-right-radius:3px;border-top-left-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;}.c-phoenix-template-button:hover{background-color:#3d7cb3;color:#fff}.c-phoenix-template-button[disabled]{background-color:#cccccb}.c-phoenix-template-button:focus{color:#fff}.c-phoenix-hide{display:none}.c-hidden-accessibility{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px)}.c-col-no-left-padding{padding-left:0}.c-col-no-right-padding{padding-right:0}.c-no-margin{margin:0}.c-phoenix-template-header{margin-bottom:0 !important;max-width:960px;}.c-phoenix-template-header.c-focus-on-signup .c-phoenix-template-header-nav li:not(.c-focus-on-signup-show){display:none}.c-phoenix-template-header.c-focus-on-search .c-phoenix-template-header-nav li:not(.c-focus-on-search-show){display:none}.c-phoenix-template-header:not(.c-focus-on-search) .c-phoenix-template-header-nav li.c-focus-on-search-default-hide{display:none}.c-phoenix-template-header .c-phoenix-template-header-nav > li > a{cursor:pointer;color:#717171;text-decoration:none;}.c-phoenix-template-header .c-phoenix-template-header-nav > li > a:hover,.c-phoenix-template-header .c-phoenix-template-header-nav > li > a:focus{color:#4d8ce9;background-color:transparent}.c-phoenix-template-header .c-banner-search{padding-top:9px;}@media (max-width:991px){.c-phoenix-template-header .c-banner-search{display:none}}.c-phoenix-template-header .c-banner-search .c-banner-search-input-container .c-banner-search-input{-webkit-box-shadow:none;box-shadow:none;border:1px solid #ccc;font-size:14px;height:35px;max-width:340px}.c-phoenix-template-header .c-banner-search .c-banner-search-input-container .c-banner-search-button{top:1px;height:33px;border-left:1px solid #ccc;}.c-phoenix-template-header .c-banner-search .c-banner-search-input-container .c-banner-search-button:hover{background-color:rgba(100,100,100,0.1)}@media (max-width:767px){.c-phoenix-template-header .c-phoenix-template-header-menu.popup-open{outline:0 !important;position:static !important;float:none !important;width:auto !important;background-color:transparent !important;border:0 !important;-webkit-box-shadow:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}}@media (min-width:768px){.c-phoenix-template-header .c-phoenix-template-header-collapse-container{display:block}}.c-phoenix-template-header .c-phoenix-template-header-navbar{margin-left:0;margin-right:0;}.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle{border-color:#ddd;margin-right:0;}.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle:hover,.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle:focus{background-color:#ddd}.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle .c-phoenix-template-header-navbar-icon-bar{background-color:#888}.c-logout-button-link{display:block;padding:3px 20px;clear:both;font-weight:normal;line-height:1.428571429;color:#333;white-space:nowrap;width:100%;margin:0;left:0;text-align:left;cursor:pointer;border:0;text-decoration:none;letter-spacing:1px;background-color:transparent}.c-logout-button-link:hover,.c-logout-button-link:focus{color:#303030;text-decoration:none;outline:0;background-color:#f5f5f5}.bt3-dropdown-menu form{margin:0}body,.c-phoenix-template-page{background-color:#f5f5f5}div[data-readme]{display:none}.readme{background:#daebf8;color:#428bca;padding:10px 40px 9px 20px;position:relative;display:none;min-height:50px;}.readme a,.readme a:visited:not(.btn){color:#428ccd;font-weight:bold;text-decoration:none}.readme a:hover,.readme a:focus{text-decoration:underline}.readme .c-container{max-width:960px;margin:0 auto}.readme .c-message{float:left;margin:4px 25px 0 25px}.readme .c-action-items{margin-left:12px}.readme button{background-color:#51bc53}.readme .c-action-item{font-size:12px}.readme-close-icon{position:absolute;top:50%;right:20px;cursor:pointer;color:#428bca;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}@media (max-width:991px){.c-message{float:none}}.rc-GradingCriteriaPreviewModal{float:right;}.rc-GradingCriteriaPreviewModal h1{margin-bottom:30px}.rc-GradingCriteriaPreviewModal .criterion,.rc-GradingCriteriaPreviewModal .criteria-warning{margin-bottom:20px}.scribe-image-upload-command-loader{background:#fff;position:absolute;padding:5px 15px;border:1px solid #aaa}.scribe-image-upload-command-in-progress{opacity:.1;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=10)\";filter:alpha(opacity=10)}.coursera-wysihtml5-toolbar{border:solid 1px #ccc;border-bottom:none;background:#fff;font-size:13px;}.coursera-wysihtml5-toolbar .coursera-wysihtml5-toolbar-item{padding:5px;border:none;background:#fff;border-right:solid 1px #ccc;display:inline-block;cursor:pointer}.coursera-wysihtml5-toolbar .coursera-wysihtml5-toolbar-item.on{background:#efefef}.coursera-wysihtml5-toolbar .coursera-wysihtml5-toolbar-item:hover{background:#efefef}.coursera-wysihtml5-toolbar .coursera-wysihtml5-toolbar-item-right{border-right:none;border-left:solid 1px #ccc;float:right}.coursera-wysihtml5-toolbar .wysihtml5-command-active,.coursera-wysihtml5-toolbar .wysihtml5-command-active:hover{background:#ccc}.coursera-wysihtml5-toolbar .wysihtml5-command-disabled{background:#fff;color:#cfcfcf;cursor:default}.coursera-wysihtml5-toolbar.wysihtml5-commands-disabled{outline:none;}.coursera-wysihtml5-toolbar.wysihtml5-commands-disabled .coursera-wysihtml5-commands .coursera-wysihtml5-toolbar-item{background:#fff;color:#cfcfcf;cursor:default}.coursera-wysihtml5-toolbar.wysihtml5-commands-disabled .coursera-wysihtml5-commands .coursera-wysihtml5-toolbar-item.on{background:#efefef}.coursera-wysihtml5-overlay{background:#fff;opacity:.75;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)\";filter:alpha(opacity=75)}.coursera-wysihtml5-modal-latex-textarea{width:100%;border:none;padding:10px;-webkit-box-shadow:none;box-shadow:none;outline:0;margin:0;border-left:1px solid #ccc;-webkit-border-radius:0;border-radius:0}.coursera-wysihtml5-latex-preview{padding:10px}.coursera-wysihtml5-latex-preview-area{border-top:1px solid #ccc;background-color:#f7f7f7;width:100%;overflow:auto}.coursera-wysihtml5-footer{overflow:auto;margin-top:10px}.coursera-wysihtml5-rich-editor{margin-bottom:0}.coursera-wysihtml5-markdown-editor{min-height:100px;margin-bottom:0}.coursera-wysihtml5-footer-markdown,.coursera-wysihtml5-footer-rich,.coursera-wysihtml5-footer-html{overflow:auto}.coursera-wysihtml5-toolbar-modes{float:left;}.coursera-wysihtml5-toolbar-modes .wysihtml5-command-active{cursor:default}.coursera-wysihtml5-toolbar-modes .wysihtml5-command-active.coursera-wysihtml5-toolbar-item:hover{background:#ccc}.coursera-wysihtml5-toolbar-mode-popup{border-left:solid rgba(0,0,0,0.1) 1px;border-right:solid rgba(0,0,0,0.1) 1px;border-top:solid rgba(0,0,0,0.1) 1px;border-bottom:solid rgba(0,0,0,0.35) 2px;background:#fff;text-align:left;cursor:pointer;}.coursera-wysihtml5-toolbar-mode-popup a{cursor:pointer;font-size:14px;padding:6px 12px;display:block;color:#000;}.coursera-wysihtml5-toolbar-mode-popup a:hover,.coursera-wysihtml5-toolbar-mode-popup a:focus{color:#000;background-color:#ccc}.uploader-controls .uploader-preview{font-size:12px;margin-right:10px;margin-bottom:6px;}.uploader-controls .uploader-preview img{max-width:95%;max-height:250px;border:1px solid #ccc}.uploader-controls .uploader-error{color:#bb3636;font-size:12px}.uploader-controls .uploader-side{position:relative;margin-bottom:5px;}.uploader-controls .uploader-side .uploader-progress{display:inline-block;vertical-align:middle;width:100px;margin-left:7px;margin-top:7px;margin-bottom:5px}.uploader-controls .uploader-side .uploader-help{margin-top:5px;color:#999;font-size:12px}.uploader-controls .uploader-side .uploader-file-input{position:absolute;top:0;left:0;z-index:10;height:100%;width:100%;overflow:hidden;cursor:pointer;}.uploader-controls .uploader-side .uploader-file-input input[type=\"file\"]{position:absolute;top:0;right:0;z-index:10;width:100%;height:100%;font-size:50px;cursor:pointer;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.uploader-controls .uploader-side .uploader-input{padding-top:10px;clear:left}.wysihtml5-sandbox-focus{border-color:rgba(82,168,236,0.8) !important;outline:0 !important;outline:thin dotted 9 !important;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(82,168,236,0.6) !important;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(82,168,236,0.6) !important}.rc-SubmissionFlaggerModal{font-size:13px;}.rc-SubmissionFlaggerModal .field-container{margin-top:15px}.rc-SubmissionFlaggerModal .field{-webkit-border-radius:4px;border-radius:4px;border:1px solid #d3d3d3;width:100%}.rc-SubmissionFlaggerModal label{font-weight:normal}.rc-SubmissionFlaggerModal select{height:30px}.rc-SubmissionFlaggerModal textarea{height:140px}.rc-SubmissionFlaggerModal .actions{margin-top:5px}.coursera-overlay{background:#fff;opacity:.75;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)\";filter:alpha(opacity=75)}.coursera-overlay-dark{background:#000;opacity:.75;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)\";filter:alpha(opacity=75)}.c-specializations-signature-modal{width:684px;-webkit-border-radius:6px 0;border-radius:6px 0;}.c-specializations-signature-modal .modal-header{position:relative;height:70px;background-image:url(\"https://d3njjcbhbojbot.cloudfront.net/web/pages/home/account/debut_light.png\");background-repeat:repeat;border-bottom:1px solid #ccc;padding:0;-webkit-border-radius:6px 6px 0 0;border-radius:6px 6px 0 0;}.c-specializations-signature-modal .modal-header .coursera-signature-modal-ribbon{width:42px;position:absolute;left:20px;top:-2px}.c-specializations-signature-modal .modal-header .c-specializations-signature-modal-title{font-size:32px;margin-top:0;margin-left:80px;padding-top:20px}.c-specializations-signature-modal .modal-header .modal-close-img-cross:hover{cursor:pointer}.c-specializations-signature-modal .modal-body{max-height:500px;overflow-y:hidden;}.c-specializations-signature-modal .modal-body .modal-body-top-paragraph{margin-left:60px}.c-specializations-modal-payment-options{background:#fff;}.c-specializations-modal-payment-options .modal-header .modal-close-img-cross{width:17px;position:absolute;right:10px;top:13px}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option{display:inline-block;vertical-align:top;height:320px;width:295px;margin:25px 15px 5px 5px;padding:15px;border:2px solid #d0d0d0;text-decoration:none;color:#1e1e1e;}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go h3.title,.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-in-bulk h3.title{text-align:center}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go h4.cost,.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-in-bulk h4.cost{text-align:center;font-size:17px;color:#777}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go{margin:20px 0 20px 20px;}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go .c-course-selector,.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go .c-topic-selector{margin-bottom:12px;}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go .c-course-selector .c-selector-label,.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go .c-topic-selector .c-selector-label{margin-bottom:5px}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go .c-course-selector .select-container,.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go .c-topic-selector .select-container{width:100%;text-align:center;}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go .c-course-selector .select-container select,.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go .c-topic-selector .select-container select{width:90%}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go .c-specializations-modal-btn-container{width:100%;text-align:center;}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-as-you-go .c-specializations-modal-btn-container button{padding:8px 18px;font-size:15px;color:#fff}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-in-bulk{position:relative;margin-right:0;margin:20px 20px 0 20px;}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-in-bulk .coursera-signature-modal-ribbon{position:absolute;height:55px;left:6px;top:-5px}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-in-bulk h4.cost{font-size:17px;margin-bottom:20px;color:#777}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-in-bulk .check-container{margin:5px 0;}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-in-bulk .check-container .icon-ok{color:#008000}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-in-bulk .footnote{color:#777;margin-top:20px}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-in-bulk .payment-button-container{width:100%;margin-top:15px;text-align:center;}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option.pay-in-bulk .payment-button-container .signature-track-button{padding:8px 18px;font-size:15px}.c-specializations-modal-payment-options .c-specializations-modal-body-payment-option .c-specializations-no-sessions-msg{color:#444;font-size:13px;line-height:19px;margin:15px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-NumericInput{border:1px solid #e0e0e0;-moz-appearance:textfield}.rc-NumericInput::-webkit-inner-spin-button,.rc-NumericInput::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-QuizAuthoring .bt3-btn,.rc-CourseAuthoring .bt3-btn,.rc-LectureAuthoring .bt3-btn,.rc-ReadingsAuthoring .bt3-btn,.rc-ProgrammingAuthoringTool .bt3-btn,.rc-LtiAuthoringTool .bt3-btn,.rc-AnnouncementTool .bt3-btn,.rc-PeerReviewAuthoring .bt3-btn,.rc-DiscussionPromptAuthoring .bt3-btn,.rc-PeerReviewAdminSubmissionTable .bt3-btn,.rc-AdminViewGradeOverride .bt3-btn,.rc-AdminDeletionConfirmModal .bt3-btn,.rc-ModuleLearningObjectivesApp .bt3-btn{font-family:\"HelveticaNeue-Regular\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-size:14px;-webkit-box-shadow:none;box-shadow:none;-webkit-border-radius:1px;border-radius:1px;padding:6px 18px;color:#757575;background-color:#fafafa;border:solid 1px #bdbdbd;}.rc-QuizAuthoring .bt3-btn:focus,.rc-CourseAuthoring .bt3-btn:focus,.rc-LectureAuthoring .bt3-btn:focus,.rc-ReadingsAuthoring .bt3-btn:focus,.rc-ProgrammingAuthoringTool .bt3-btn:focus,.rc-LtiAuthoringTool .bt3-btn:focus,.rc-AnnouncementTool .bt3-btn:focus,.rc-PeerReviewAuthoring .bt3-btn:focus,.rc-DiscussionPromptAuthoring .bt3-btn:focus,.rc-PeerReviewAdminSubmissionTable .bt3-btn:focus,.rc-AdminViewGradeOverride .bt3-btn:focus,.rc-AdminDeletionConfirmModal .bt3-btn:focus,.rc-ModuleLearningObjectivesApp .bt3-btn:focus{outline:none}.rc-QuizAuthoring .bt3-btn:hover:not(.disabled),.rc-CourseAuthoring .bt3-btn:hover:not(.disabled),.rc-LectureAuthoring .bt3-btn:hover:not(.disabled),.rc-ReadingsAuthoring .bt3-btn:hover:not(.disabled),.rc-ProgrammingAuthoringTool .bt3-btn:hover:not(.disabled),.rc-LtiAuthoringTool .bt3-btn:hover:not(.disabled),.rc-AnnouncementTool .bt3-btn:hover:not(.disabled),.rc-PeerReviewAuthoring .bt3-btn:hover:not(.disabled),.rc-DiscussionPromptAuthoring .bt3-btn:hover:not(.disabled),.rc-PeerReviewAdminSubmissionTable .bt3-btn:hover:not(.disabled),.rc-AdminViewGradeOverride .bt3-btn:hover:not(.disabled),.rc-AdminDeletionConfirmModal .bt3-btn:hover:not(.disabled),.rc-ModuleLearningObjectivesApp .bt3-btn:hover:not(.disabled){background-color:#f5f5f5;-webkit-box-shadow:1px 1px 0 #e0e0e0;box-shadow:1px 1px 0 #e0e0e0}.rc-QuizAuthoring .bt3-btn.disabled,.rc-CourseAuthoring .bt3-btn.disabled,.rc-LectureAuthoring .bt3-btn.disabled,.rc-ReadingsAuthoring .bt3-btn.disabled,.rc-ProgrammingAuthoringTool .bt3-btn.disabled,.rc-LtiAuthoringTool .bt3-btn.disabled,.rc-AnnouncementTool .bt3-btn.disabled,.rc-PeerReviewAuthoring .bt3-btn.disabled,.rc-DiscussionPromptAuthoring .bt3-btn.disabled,.rc-PeerReviewAdminSubmissionTable .bt3-btn.disabled,.rc-AdminViewGradeOverride .bt3-btn.disabled,.rc-AdminDeletionConfirmModal .bt3-btn.disabled,.rc-ModuleLearningObjectivesApp .bt3-btn.disabled,.rc-QuizAuthoring .bt3-btn:disabled,.rc-CourseAuthoring .bt3-btn:disabled,.rc-LectureAuthoring .bt3-btn:disabled,.rc-ReadingsAuthoring .bt3-btn:disabled,.rc-ProgrammingAuthoringTool .bt3-btn:disabled,.rc-LtiAuthoringTool .bt3-btn:disabled,.rc-AnnouncementTool .bt3-btn:disabled,.rc-PeerReviewAuthoring .bt3-btn:disabled,.rc-DiscussionPromptAuthoring .bt3-btn:disabled,.rc-PeerReviewAdminSubmissionTable .bt3-btn:disabled,.rc-AdminViewGradeOverride .bt3-btn:disabled,.rc-AdminDeletionConfirmModal .bt3-btn:disabled,.rc-ModuleLearningObjectivesApp .bt3-btn:disabled{opacity:.5;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";filter:alpha(opacity=50)}.rc-QuizAuthoring .bt3-btn .bt3-caret,.rc-CourseAuthoring .bt3-btn .bt3-caret,.rc-LectureAuthoring .bt3-btn .bt3-caret,.rc-ReadingsAuthoring .bt3-btn .bt3-caret,.rc-ProgrammingAuthoringTool .bt3-btn .bt3-caret,.rc-LtiAuthoringTool .bt3-btn .bt3-caret,.rc-AnnouncementTool .bt3-btn .bt3-caret,.rc-PeerReviewAuthoring .bt3-btn .bt3-caret,.rc-DiscussionPromptAuthoring .bt3-btn .bt3-caret,.rc-PeerReviewAdminSubmissionTable .bt3-btn .bt3-caret,.rc-AdminViewGradeOverride .bt3-btn .bt3-caret,.rc-AdminDeletionConfirmModal .bt3-btn .bt3-caret,.rc-ModuleLearningObjectivesApp .bt3-btn .bt3-caret{margin-left:4px;margin-bottom:3px}.rc-QuizAuthoring .bt3-btn.bt3-btn-info,.rc-CourseAuthoring .bt3-btn.bt3-btn-info,.rc-LectureAuthoring .bt3-btn.bt3-btn-info,.rc-ReadingsAuthoring .bt3-btn.bt3-btn-info,.rc-ProgrammingAuthoringTool .bt3-btn.bt3-btn-info,.rc-LtiAuthoringTool .bt3-btn.bt3-btn-info,.rc-AnnouncementTool .bt3-btn.bt3-btn-info,.rc-PeerReviewAuthoring .bt3-btn.bt3-btn-info,.rc-DiscussionPromptAuthoring .bt3-btn.bt3-btn-info,.rc-PeerReviewAdminSubmissionTable .bt3-btn.bt3-btn-info,.rc-AdminViewGradeOverride .bt3-btn.bt3-btn-info,.rc-AdminDeletionConfirmModal .bt3-btn.bt3-btn-info,.rc-ModuleLearningObjectivesApp .bt3-btn.bt3-btn-info{color:#3887dd;background-color:#fff;border-color:#3887dd;}.rc-QuizAuthoring .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-CourseAuthoring .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-LectureAuthoring .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-ReadingsAuthoring .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-ProgrammingAuthoringTool .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-LtiAuthoringTool .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-AnnouncementTool .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-PeerReviewAuthoring .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-DiscussionPromptAuthoring .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-PeerReviewAdminSubmissionTable .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-AdminViewGradeOverride .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-AdminDeletionConfirmModal .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-ModuleLearningObjectivesApp .bt3-btn.bt3-btn-info:hover:not(.disabled){color:#fff;background-color:#3887dd}.rc-QuizAuthoring .bt3-btn.bt3-btn-primary,.rc-CourseAuthoring .bt3-btn.bt3-btn-primary,.rc-LectureAuthoring .bt3-btn.bt3-btn-primary,.rc-ReadingsAuthoring .bt3-btn.bt3-btn-primary,.rc-ProgrammingAuthoringTool .bt3-btn.bt3-btn-primary,.rc-LtiAuthoringTool .bt3-btn.bt3-btn-primary,.rc-AnnouncementTool .bt3-btn.bt3-btn-primary,.rc-PeerReviewAuthoring .bt3-btn.bt3-btn-primary,.rc-DiscussionPromptAuthoring .bt3-btn.bt3-btn-primary,.rc-PeerReviewAdminSubmissionTable .bt3-btn.bt3-btn-primary,.rc-AdminViewGradeOverride .bt3-btn.bt3-btn-primary,.rc-AdminDeletionConfirmModal .bt3-btn.bt3-btn-primary,.rc-ModuleLearningObjectivesApp .bt3-btn.bt3-btn-primary{color:#fff;background-color:#3887dd;border-color:#3887dd;}.rc-QuizAuthoring .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-CourseAuthoring .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-LectureAuthoring .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-ReadingsAuthoring .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-ProgrammingAuthoringTool .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-LtiAuthoringTool .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-AnnouncementTool .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-PeerReviewAuthoring .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-DiscussionPromptAuthoring .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-PeerReviewAdminSubmissionTable .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-AdminViewGradeOverride .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-AdminDeletionConfirmModal .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-ModuleLearningObjectivesApp .bt3-btn.bt3-btn-primary:hover:not(.disabled){background-color:#1977cc;-webkit-box-shadow:1px 1px 0 #e0e0e0;box-shadow:1px 1px 0 #e0e0e0}.rc-QuizAuthoring .bt3-btn.bt3-btn-primary.disabled,.rc-CourseAuthoring .bt3-btn.bt3-btn-primary.disabled,.rc-LectureAuthoring .bt3-btn.bt3-btn-primary.disabled,.rc-ReadingsAuthoring .bt3-btn.bt3-btn-primary.disabled,.rc-ProgrammingAuthoringTool .bt3-btn.bt3-btn-primary.disabled,.rc-LtiAuthoringTool .bt3-btn.bt3-btn-primary.disabled,.rc-AnnouncementTool .bt3-btn.bt3-btn-primary.disabled,.rc-PeerReviewAuthoring .bt3-btn.bt3-btn-primary.disabled,.rc-DiscussionPromptAuthoring .bt3-btn.bt3-btn-primary.disabled,.rc-PeerReviewAdminSubmissionTable .bt3-btn.bt3-btn-primary.disabled,.rc-AdminViewGradeOverride .bt3-btn.bt3-btn-primary.disabled,.rc-AdminDeletionConfirmModal .bt3-btn.bt3-btn-primary.disabled,.rc-ModuleLearningObjectivesApp .bt3-btn.bt3-btn-primary.disabled{color:#fff;background-color:#bdbdbd;border-color:#9e9e9e}.rc-QuizAuthoring .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-CourseAuthoring .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-LectureAuthoring .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-ReadingsAuthoring .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-ProgrammingAuthoringTool .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-LtiAuthoringTool .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-AnnouncementTool .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-PeerReviewAuthoring .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-DiscussionPromptAuthoring .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-PeerReviewAdminSubmissionTable .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-AdminViewGradeOverride .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-AdminDeletionConfirmModal .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-ModuleLearningObjectivesApp .bt3-btn.bt3-btn-primary:active:not(.disabled){-webkit-box-shadow:none;box-shadow:none;background-color:#1568bf}.rc-QuizAuthoring .bt3-dropdown-menu,.rc-CourseAuthoring .bt3-dropdown-menu,.rc-LectureAuthoring .bt3-dropdown-menu,.rc-ReadingsAuthoring .bt3-dropdown-menu,.rc-ProgrammingAuthoringTool .bt3-dropdown-menu,.rc-LtiAuthoringTool .bt3-dropdown-menu,.rc-AnnouncementTool .bt3-dropdown-menu,.rc-PeerReviewAuthoring .bt3-dropdown-menu,.rc-DiscussionPromptAuthoring .bt3-dropdown-menu,.rc-PeerReviewAdminSubmissionTable .bt3-dropdown-menu,.rc-AdminViewGradeOverride .bt3-dropdown-menu,.rc-AdminDeletionConfirmModal .bt3-dropdown-menu,.rc-ModuleLearningObjectivesApp .bt3-dropdown-menu{-webkit-border-radius:1px;border-radius:1px;}.rc-QuizAuthoring .bt3-dropdown-menu .dropdown-header-title,.rc-CourseAuthoring .bt3-dropdown-menu .dropdown-header-title,.rc-LectureAuthoring .bt3-dropdown-menu .dropdown-header-title,.rc-ReadingsAuthoring .bt3-dropdown-menu .dropdown-header-title,.rc-ProgrammingAuthoringTool .bt3-dropdown-menu .dropdown-header-title,.rc-LtiAuthoringTool .bt3-dropdown-menu .dropdown-header-title,.rc-AnnouncementTool .bt3-dropdown-menu .dropdown-header-title,.rc-PeerReviewAuthoring .bt3-dropdown-menu .dropdown-header-title,.rc-DiscussionPromptAuthoring .bt3-dropdown-menu .dropdown-header-title,.rc-PeerReviewAdminSubmissionTable .bt3-dropdown-menu .dropdown-header-title,.rc-AdminViewGradeOverride .bt3-dropdown-menu .dropdown-header-title,.rc-AdminDeletionConfirmModal .bt3-dropdown-menu .dropdown-header-title,.rc-ModuleLearningObjectivesApp .bt3-dropdown-menu .dropdown-header-title{color:#757575;font-family:\"HelveticaNeue-Medium\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-size:12px;padding:6px 0}.rc-QuizAuthoring .bt3-dropdown-menu li a,.rc-CourseAuthoring .bt3-dropdown-menu li a,.rc-LectureAuthoring .bt3-dropdown-menu li a,.rc-ReadingsAuthoring .bt3-dropdown-menu li a,.rc-ProgrammingAuthoringTool .bt3-dropdown-menu li a,.rc-LtiAuthoringTool .bt3-dropdown-menu li a,.rc-AnnouncementTool .bt3-dropdown-menu li a,.rc-PeerReviewAuthoring .bt3-dropdown-menu li a,.rc-DiscussionPromptAuthoring .bt3-dropdown-menu li a,.rc-PeerReviewAdminSubmissionTable .bt3-dropdown-menu li a,.rc-AdminViewGradeOverride .bt3-dropdown-menu li a,.rc-AdminDeletionConfirmModal .bt3-dropdown-menu li a,.rc-ModuleLearningObjectivesApp .bt3-dropdown-menu li a{padding:8px 20px}.rc-QuizAuthoring .bt3-dropdown-menu li i,.rc-CourseAuthoring .bt3-dropdown-menu li i,.rc-LectureAuthoring .bt3-dropdown-menu li i,.rc-ReadingsAuthoring .bt3-dropdown-menu li i,.rc-ProgrammingAuthoringTool .bt3-dropdown-menu li i,.rc-LtiAuthoringTool .bt3-dropdown-menu li i,.rc-AnnouncementTool .bt3-dropdown-menu li i,.rc-PeerReviewAuthoring .bt3-dropdown-menu li i,.rc-DiscussionPromptAuthoring .bt3-dropdown-menu li i,.rc-PeerReviewAdminSubmissionTable .bt3-dropdown-menu li i,.rc-AdminViewGradeOverride .bt3-dropdown-menu li i,.rc-AdminDeletionConfirmModal .bt3-dropdown-menu li i,.rc-ModuleLearningObjectivesApp .bt3-dropdown-menu li i{margin-right:8px;vertical-align:middle}.rc-QuizAuthoring .option-checkbox,.rc-CourseAuthoring .option-checkbox,.rc-Question .option-checkbox,.rc-LectureAuthoring .option-checkbox,.rc-PeerReviewAuthoring .option-checkbox,.rc-DiscussionPromptAuthoring .option-checkbox,.rc-LtiAuthoring .option-checkbox,.rc-ItemLockingEditor .option-checkbox,.rc-PeerReviewAdminSubmissionTable .option-checkbox,.rc-AdminViewGradeOverride .option-checkbox,.rc-CourseReferencesEditor .option-checkbox,.rc-QuizAuthoring .option-radio,.rc-CourseAuthoring .option-radio,.rc-Question .option-radio,.rc-LectureAuthoring .option-radio,.rc-PeerReviewAuthoring .option-radio,.rc-DiscussionPromptAuthoring .option-radio,.rc-LtiAuthoring .option-radio,.rc-ItemLockingEditor .option-radio,.rc-PeerReviewAdminSubmissionTable .option-radio,.rc-AdminViewGradeOverride .option-radio,.rc-CourseReferencesEditor .option-radio{display:none}.rc-QuizAuthoring .option-checkbox + label,.rc-CourseAuthoring .option-checkbox + label,.rc-Question .option-checkbox + label,.rc-LectureAuthoring .option-checkbox + label,.rc-PeerReviewAuthoring .option-checkbox + label,.rc-DiscussionPromptAuthoring .option-checkbox + label,.rc-LtiAuthoring .option-checkbox + label,.rc-ItemLockingEditor .option-checkbox + label,.rc-PeerReviewAdminSubmissionTable .option-checkbox + label,.rc-AdminViewGradeOverride .option-checkbox + label,.rc-CourseReferencesEditor .option-checkbox + label,.rc-QuizAuthoring .option-radio + label,.rc-CourseAuthoring .option-radio + label,.rc-Question .option-radio + label,.rc-LectureAuthoring .option-radio + label,.rc-PeerReviewAuthoring .option-radio + label,.rc-DiscussionPromptAuthoring .option-radio + label,.rc-LtiAuthoring .option-radio + label,.rc-ItemLockingEditor .option-radio + label,.rc-PeerReviewAdminSubmissionTable .option-radio + label,.rc-AdminViewGradeOverride .option-radio + label,.rc-CourseReferencesEditor .option-radio + label{height:20px;width:20px;margin-right:20px;vertical-align:top;display:inline-block;padding:0 0 0 0;background:transparent url(\"https://d3njjcbhbojbot.cloudfront.net/web/images/teach-course/up_icons_sprite_v1.svg\") no-repeat 0 -38px;cursor:pointer}.rc-QuizAuthoring .option-checkbox + label,.rc-CourseAuthoring .option-checkbox + label,.rc-Question .option-checkbox + label,.rc-LectureAuthoring .option-checkbox + label,.rc-PeerReviewAuthoring .option-checkbox + label,.rc-DiscussionPromptAuthoring .option-checkbox + label,.rc-LtiAuthoring .option-checkbox + label,.rc-ItemLockingEditor .option-checkbox + label,.rc-PeerReviewAdminSubmissionTable .option-checkbox + label,.rc-AdminViewGradeOverride .option-checkbox + label,.rc-CourseReferencesEditor .option-checkbox + label{background-position:0 -111px}.rc-QuizAuthoring .option-checkbox:checked + label,.rc-CourseAuthoring .option-checkbox:checked + label,.rc-Question .option-checkbox:checked + label,.rc-LectureAuthoring .option-checkbox:checked + label,.rc-PeerReviewAuthoring .option-checkbox:checked + label,.rc-DiscussionPromptAuthoring .option-checkbox:checked + label,.rc-LtiAuthoring .option-checkbox:checked + label,.rc-ItemLockingEditor .option-checkbox:checked + label,.rc-PeerReviewAdminSubmissionTable .option-checkbox:checked + label,.rc-AdminViewGradeOverride .option-checkbox:checked + label,.rc-CourseReferencesEditor .option-checkbox:checked + label{background-position:0 -75px}.rc-QuizAuthoring .option-radio:checked + label,.rc-CourseAuthoring .option-radio:checked + label,.rc-Question .option-radio:checked + label,.rc-LectureAuthoring .option-radio:checked + label,.rc-PeerReviewAuthoring .option-radio:checked + label,.rc-DiscussionPromptAuthoring .option-radio:checked + label,.rc-LtiAuthoring .option-radio:checked + label,.rc-ItemLockingEditor .option-radio:checked + label,.rc-PeerReviewAdminSubmissionTable .option-radio:checked + label,.rc-AdminViewGradeOverride .option-radio:checked + label,.rc-CourseReferencesEditor .option-radio:checked + label{background-position:0 0}.rc-QuizAuthoring .teach-checkbox,.rc-CourseAuthoring .teach-checkbox,.rc-Question .teach-checkbox,.rc-LectureAuthoring .teach-checkbox,.rc-PeerReviewAuthoring .teach-checkbox,.rc-DiscussionPromptAuthoring .teach-checkbox,.rc-LtiAuthoring .teach-checkbox,.rc-ItemLockingEditor .teach-checkbox,.rc-PeerReviewAdminSubmissionTable .teach-checkbox,.rc-AdminViewGradeOverride .teach-checkbox,.rc-CourseReferencesEditor .teach-checkbox{display:none}.rc-QuizAuthoring .teach-checkbox + label,.rc-CourseAuthoring .teach-checkbox + label,.rc-Question .teach-checkbox + label,.rc-LectureAuthoring .teach-checkbox + label,.rc-PeerReviewAuthoring .teach-checkbox + label,.rc-DiscussionPromptAuthoring .teach-checkbox + label,.rc-LtiAuthoring .teach-checkbox + label,.rc-ItemLockingEditor .teach-checkbox + label,.rc-PeerReviewAdminSubmissionTable .teach-checkbox + label,.rc-AdminViewGradeOverride .teach-checkbox + label,.rc-CourseReferencesEditor .teach-checkbox + label{height:20px;vertical-align:top;display:inline-block;padding:0 0 0 0;background:transparent url(\"https://d3njjcbhbojbot.cloudfront.net/web/images/teach-course/checkbox.svg\") no-repeat 0 2px;padding-left:25px;cursor:pointer}.rc-QuizAuthoring .teach-checkbox + label:hover,.rc-CourseAuthoring .teach-checkbox + label:hover,.rc-Question .teach-checkbox + label:hover,.rc-LectureAuthoring .teach-checkbox + label:hover,.rc-PeerReviewAuthoring .teach-checkbox + label:hover,.rc-DiscussionPromptAuthoring .teach-checkbox + label:hover,.rc-LtiAuthoring .teach-checkbox + label:hover,.rc-ItemLockingEditor .teach-checkbox + label:hover,.rc-PeerReviewAdminSubmissionTable .teach-checkbox + label:hover,.rc-AdminViewGradeOverride .teach-checkbox + label:hover,.rc-CourseReferencesEditor .teach-checkbox + label:hover{background-image:url(\"https://d3njjcbhbojbot.cloudfront.net/web/images/teach-course/checkbox-hover.svg\")}.rc-QuizAuthoring .teach-checkbox:checked + label,.rc-CourseAuthoring .teach-checkbox:checked + label,.rc-Question .teach-checkbox:checked + label,.rc-LectureAuthoring .teach-checkbox:checked + label,.rc-PeerReviewAuthoring .teach-checkbox:checked + label,.rc-DiscussionPromptAuthoring .teach-checkbox:checked + label,.rc-LtiAuthoring .teach-checkbox:checked + label,.rc-ItemLockingEditor .teach-checkbox:checked + label,.rc-PeerReviewAdminSubmissionTable .teach-checkbox:checked + label,.rc-AdminViewGradeOverride .teach-checkbox:checked + label,.rc-CourseReferencesEditor .teach-checkbox:checked + label{background-image:url(\"https://d3njjcbhbojbot.cloudfront.net/web/images/teach-course/checkbox-checked.svg\")}.rc-QuizAuthoring input:focus,.rc-CourseAuthoring input:focus,.rc-Question input:focus,.rc-LectureAuthoring input:focus,.rc-PeerReviewAuthoring input:focus,.rc-DiscussionPromptAuthoring input:focus,.rc-LtiAuthoring input:focus,.rc-ItemLockingEditor input:focus,.rc-PeerReviewAdminSubmissionTable input:focus,.rc-AdminViewGradeOverride input:focus,.rc-CourseReferencesEditor input:focus,.rc-QuizAuthoring input[type=number]:focus,.rc-CourseAuthoring input[type=number]:focus,.rc-Question input[type=number]:focus,.rc-LectureAuthoring input[type=number]:focus,.rc-PeerReviewAuthoring input[type=number]:focus,.rc-DiscussionPromptAuthoring input[type=number]:focus,.rc-LtiAuthoring input[type=number]:focus,.rc-ItemLockingEditor input[type=number]:focus,.rc-PeerReviewAdminSubmissionTable input[type=number]:focus,.rc-AdminViewGradeOverride input[type=number]:focus,.rc-CourseReferencesEditor input[type=number]:focus,.rc-QuizAuthoring textarea:focus,.rc-CourseAuthoring textarea:focus,.rc-Question textarea:focus,.rc-LectureAuthoring textarea:focus,.rc-PeerReviewAuthoring textarea:focus,.rc-DiscussionPromptAuthoring textarea:focus,.rc-LtiAuthoring textarea:focus,.rc-ItemLockingEditor textarea:focus,.rc-PeerReviewAdminSubmissionTable textarea:focus,.rc-AdminViewGradeOverride textarea:focus,.rc-CourseReferencesEditor textarea:focus{outline:none;border:1px solid #3887dd;-webkit-box-shadow:0 0 10px #e0e0e0;box-shadow:0 0 10px #e0e0e0}.rc-QuizAuthoring select,.rc-CourseAuthoring select,.rc-Question select,.rc-LectureAuthoring select,.rc-PeerReviewAuthoring select,.rc-DiscussionPromptAuthoring select,.rc-LtiAuthoring select,.rc-ItemLockingEditor select,.rc-PeerReviewAdminSubmissionTable select,.rc-AdminViewGradeOverride select,.rc-CourseReferencesEditor select{font-family:\"HelveticaNeue-Regular\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-size:14px;min-width:100px;height:34px}.rc-AdminViewGradeOverride{color:#424242;font-family:\"HelveticaNeue-Regular\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif !important;}.rc-AdminViewGradeOverride h3{font-weight:normal;font-family:\"HelveticaNeue-Regular\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif !important}.rc-AdminViewGradeOverride .input-row{margin-top:25px;margin-bottom:25px}.rc-AdminViewGradeOverride .radioPadding{padding-left:5px;padding-right:15px}.rc-AdminViewGradeOverride .input-label{width:100px}.rc-AdminViewGradeOverride label.label-radio{margin-right:5px}.rc-AdminViewGradeOverride .alertMessageMargin{margin-left:15px}.rc-AdminViewGradeOverride .explanation{width:410px;height:80px}.rc-AdminViewGradeOverride .button-margin{margin-right:10px}.rc-AdminViewGradeOverride .details{font-weight:normal;}.rc-AdminViewGradeOverride .details p{font-size:12px;line-height:16px;font-family:\"HelveticaNeue-Regular\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif !important;color:#9e9e9e}.rc-AdminViewGradeOverride .details .learners-note{margin-top:5px;font-size:12px}.rc-AdminViewGradeOverride .rc-NumericInput{text-align:center}.rc-AdminViewGradeOverride .button-save.bt3-btn.bt3-btn-primary,.rc-AdminViewGradeOverride .button-save.bt3-btn.bt3-btn-primary:hover:not(.disabled){background-color:#fda200;border-color:#fda200}.rc-AdminViewGradeOverride textarea{font-family:\"HelveticaNeue-Regular\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif !important}.rc-AdminViewGradeOverride-button-revert-tooltip{z-index:11000;}.rc-AdminViewGradeOverride-button-revert-tooltip .bt3-tooltip-inner{padding-left:4px;padding-right:4px}.rc-AdminViewGradeOverrideModal .c-modal-content{width:600px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-QuizAuthoring .bt3-btn,.rc-CourseAuthoring .bt3-btn,.rc-LectureAuthoring .bt3-btn,.rc-ReadingsAuthoring .bt3-btn,.rc-ProgrammingAuthoringTool .bt3-btn,.rc-LtiAuthoringTool .bt3-btn,.rc-AnnouncementTool .bt3-btn,.rc-PeerReviewAuthoring .bt3-btn,.rc-DiscussionPromptAuthoring .bt3-btn,.rc-PeerReviewAdminSubmissionTable .bt3-btn,.rc-AdminViewGradeOverride .bt3-btn,.rc-AdminDeletionConfirmModal .bt3-btn,.rc-ModuleLearningObjectivesApp .bt3-btn{font-family:\"HelveticaNeue-Regular\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-size:14px;-webkit-box-shadow:none;box-shadow:none;-webkit-border-radius:1px;border-radius:1px;padding:6px 18px;color:#757575;background-color:#fafafa;border:solid 1px #bdbdbd;}.rc-QuizAuthoring .bt3-btn:focus,.rc-CourseAuthoring .bt3-btn:focus,.rc-LectureAuthoring .bt3-btn:focus,.rc-ReadingsAuthoring .bt3-btn:focus,.rc-ProgrammingAuthoringTool .bt3-btn:focus,.rc-LtiAuthoringTool .bt3-btn:focus,.rc-AnnouncementTool .bt3-btn:focus,.rc-PeerReviewAuthoring .bt3-btn:focus,.rc-DiscussionPromptAuthoring .bt3-btn:focus,.rc-PeerReviewAdminSubmissionTable .bt3-btn:focus,.rc-AdminViewGradeOverride .bt3-btn:focus,.rc-AdminDeletionConfirmModal .bt3-btn:focus,.rc-ModuleLearningObjectivesApp .bt3-btn:focus{outline:none}.rc-QuizAuthoring .bt3-btn:hover:not(.disabled),.rc-CourseAuthoring .bt3-btn:hover:not(.disabled),.rc-LectureAuthoring .bt3-btn:hover:not(.disabled),.rc-ReadingsAuthoring .bt3-btn:hover:not(.disabled),.rc-ProgrammingAuthoringTool .bt3-btn:hover:not(.disabled),.rc-LtiAuthoringTool .bt3-btn:hover:not(.disabled),.rc-AnnouncementTool .bt3-btn:hover:not(.disabled),.rc-PeerReviewAuthoring .bt3-btn:hover:not(.disabled),.rc-DiscussionPromptAuthoring .bt3-btn:hover:not(.disabled),.rc-PeerReviewAdminSubmissionTable .bt3-btn:hover:not(.disabled),.rc-AdminViewGradeOverride .bt3-btn:hover:not(.disabled),.rc-AdminDeletionConfirmModal .bt3-btn:hover:not(.disabled),.rc-ModuleLearningObjectivesApp .bt3-btn:hover:not(.disabled){background-color:#f5f5f5;-webkit-box-shadow:1px 1px 0 #e0e0e0;box-shadow:1px 1px 0 #e0e0e0}.rc-QuizAuthoring .bt3-btn.disabled,.rc-CourseAuthoring .bt3-btn.disabled,.rc-LectureAuthoring .bt3-btn.disabled,.rc-ReadingsAuthoring .bt3-btn.disabled,.rc-ProgrammingAuthoringTool .bt3-btn.disabled,.rc-LtiAuthoringTool .bt3-btn.disabled,.rc-AnnouncementTool .bt3-btn.disabled,.rc-PeerReviewAuthoring .bt3-btn.disabled,.rc-DiscussionPromptAuthoring .bt3-btn.disabled,.rc-PeerReviewAdminSubmissionTable .bt3-btn.disabled,.rc-AdminViewGradeOverride .bt3-btn.disabled,.rc-AdminDeletionConfirmModal .bt3-btn.disabled,.rc-ModuleLearningObjectivesApp .bt3-btn.disabled,.rc-QuizAuthoring .bt3-btn:disabled,.rc-CourseAuthoring .bt3-btn:disabled,.rc-LectureAuthoring .bt3-btn:disabled,.rc-ReadingsAuthoring .bt3-btn:disabled,.rc-ProgrammingAuthoringTool .bt3-btn:disabled,.rc-LtiAuthoringTool .bt3-btn:disabled,.rc-AnnouncementTool .bt3-btn:disabled,.rc-PeerReviewAuthoring .bt3-btn:disabled,.rc-DiscussionPromptAuthoring .bt3-btn:disabled,.rc-PeerReviewAdminSubmissionTable .bt3-btn:disabled,.rc-AdminViewGradeOverride .bt3-btn:disabled,.rc-AdminDeletionConfirmModal .bt3-btn:disabled,.rc-ModuleLearningObjectivesApp .bt3-btn:disabled{opacity:.5;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";filter:alpha(opacity=50)}.rc-QuizAuthoring .bt3-btn .bt3-caret,.rc-CourseAuthoring .bt3-btn .bt3-caret,.rc-LectureAuthoring .bt3-btn .bt3-caret,.rc-ReadingsAuthoring .bt3-btn .bt3-caret,.rc-ProgrammingAuthoringTool .bt3-btn .bt3-caret,.rc-LtiAuthoringTool .bt3-btn .bt3-caret,.rc-AnnouncementTool .bt3-btn .bt3-caret,.rc-PeerReviewAuthoring .bt3-btn .bt3-caret,.rc-DiscussionPromptAuthoring .bt3-btn .bt3-caret,.rc-PeerReviewAdminSubmissionTable .bt3-btn .bt3-caret,.rc-AdminViewGradeOverride .bt3-btn .bt3-caret,.rc-AdminDeletionConfirmModal .bt3-btn .bt3-caret,.rc-ModuleLearningObjectivesApp .bt3-btn .bt3-caret{margin-left:4px;margin-bottom:3px}.rc-QuizAuthoring .bt3-btn.bt3-btn-info,.rc-CourseAuthoring .bt3-btn.bt3-btn-info,.rc-LectureAuthoring .bt3-btn.bt3-btn-info,.rc-ReadingsAuthoring .bt3-btn.bt3-btn-info,.rc-ProgrammingAuthoringTool .bt3-btn.bt3-btn-info,.rc-LtiAuthoringTool .bt3-btn.bt3-btn-info,.rc-AnnouncementTool .bt3-btn.bt3-btn-info,.rc-PeerReviewAuthoring .bt3-btn.bt3-btn-info,.rc-DiscussionPromptAuthoring .bt3-btn.bt3-btn-info,.rc-PeerReviewAdminSubmissionTable .bt3-btn.bt3-btn-info,.rc-AdminViewGradeOverride .bt3-btn.bt3-btn-info,.rc-AdminDeletionConfirmModal .bt3-btn.bt3-btn-info,.rc-ModuleLearningObjectivesApp .bt3-btn.bt3-btn-info{color:#3887dd;background-color:#fff;border-color:#3887dd;}.rc-QuizAuthoring .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-CourseAuthoring .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-LectureAuthoring .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-ReadingsAuthoring .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-ProgrammingAuthoringTool .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-LtiAuthoringTool .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-AnnouncementTool .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-PeerReviewAuthoring .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-DiscussionPromptAuthoring .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-PeerReviewAdminSubmissionTable .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-AdminViewGradeOverride .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-AdminDeletionConfirmModal .bt3-btn.bt3-btn-info:hover:not(.disabled),.rc-ModuleLearningObjectivesApp .bt3-btn.bt3-btn-info:hover:not(.disabled){color:#fff;background-color:#3887dd}.rc-QuizAuthoring .bt3-btn.bt3-btn-primary,.rc-CourseAuthoring .bt3-btn.bt3-btn-primary,.rc-LectureAuthoring .bt3-btn.bt3-btn-primary,.rc-ReadingsAuthoring .bt3-btn.bt3-btn-primary,.rc-ProgrammingAuthoringTool .bt3-btn.bt3-btn-primary,.rc-LtiAuthoringTool .bt3-btn.bt3-btn-primary,.rc-AnnouncementTool .bt3-btn.bt3-btn-primary,.rc-PeerReviewAuthoring .bt3-btn.bt3-btn-primary,.rc-DiscussionPromptAuthoring .bt3-btn.bt3-btn-primary,.rc-PeerReviewAdminSubmissionTable .bt3-btn.bt3-btn-primary,.rc-AdminViewGradeOverride .bt3-btn.bt3-btn-primary,.rc-AdminDeletionConfirmModal .bt3-btn.bt3-btn-primary,.rc-ModuleLearningObjectivesApp .bt3-btn.bt3-btn-primary{color:#fff;background-color:#3887dd;border-color:#3887dd;}.rc-QuizAuthoring .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-CourseAuthoring .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-LectureAuthoring .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-ReadingsAuthoring .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-ProgrammingAuthoringTool .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-LtiAuthoringTool .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-AnnouncementTool .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-PeerReviewAuthoring .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-DiscussionPromptAuthoring .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-PeerReviewAdminSubmissionTable .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-AdminViewGradeOverride .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-AdminDeletionConfirmModal .bt3-btn.bt3-btn-primary:hover:not(.disabled),.rc-ModuleLearningObjectivesApp .bt3-btn.bt3-btn-primary:hover:not(.disabled){background-color:#1977cc;-webkit-box-shadow:1px 1px 0 #e0e0e0;box-shadow:1px 1px 0 #e0e0e0}.rc-QuizAuthoring .bt3-btn.bt3-btn-primary.disabled,.rc-CourseAuthoring .bt3-btn.bt3-btn-primary.disabled,.rc-LectureAuthoring .bt3-btn.bt3-btn-primary.disabled,.rc-ReadingsAuthoring .bt3-btn.bt3-btn-primary.disabled,.rc-ProgrammingAuthoringTool .bt3-btn.bt3-btn-primary.disabled,.rc-LtiAuthoringTool .bt3-btn.bt3-btn-primary.disabled,.rc-AnnouncementTool .bt3-btn.bt3-btn-primary.disabled,.rc-PeerReviewAuthoring .bt3-btn.bt3-btn-primary.disabled,.rc-DiscussionPromptAuthoring .bt3-btn.bt3-btn-primary.disabled,.rc-PeerReviewAdminSubmissionTable .bt3-btn.bt3-btn-primary.disabled,.rc-AdminViewGradeOverride .bt3-btn.bt3-btn-primary.disabled,.rc-AdminDeletionConfirmModal .bt3-btn.bt3-btn-primary.disabled,.rc-ModuleLearningObjectivesApp .bt3-btn.bt3-btn-primary.disabled{color:#fff;background-color:#bdbdbd;border-color:#9e9e9e}.rc-QuizAuthoring .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-CourseAuthoring .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-LectureAuthoring .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-ReadingsAuthoring .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-ProgrammingAuthoringTool .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-LtiAuthoringTool .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-AnnouncementTool .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-PeerReviewAuthoring .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-DiscussionPromptAuthoring .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-PeerReviewAdminSubmissionTable .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-AdminViewGradeOverride .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-AdminDeletionConfirmModal .bt3-btn.bt3-btn-primary:active:not(.disabled),.rc-ModuleLearningObjectivesApp .bt3-btn.bt3-btn-primary:active:not(.disabled){-webkit-box-shadow:none;box-shadow:none;background-color:#1568bf}.rc-QuizAuthoring .bt3-dropdown-menu,.rc-CourseAuthoring .bt3-dropdown-menu,.rc-LectureAuthoring .bt3-dropdown-menu,.rc-ReadingsAuthoring .bt3-dropdown-menu,.rc-ProgrammingAuthoringTool .bt3-dropdown-menu,.rc-LtiAuthoringTool .bt3-dropdown-menu,.rc-AnnouncementTool .bt3-dropdown-menu,.rc-PeerReviewAuthoring .bt3-dropdown-menu,.rc-DiscussionPromptAuthoring .bt3-dropdown-menu,.rc-PeerReviewAdminSubmissionTable .bt3-dropdown-menu,.rc-AdminViewGradeOverride .bt3-dropdown-menu,.rc-AdminDeletionConfirmModal .bt3-dropdown-menu,.rc-ModuleLearningObjectivesApp .bt3-dropdown-menu{-webkit-border-radius:1px;border-radius:1px;}.rc-QuizAuthoring .bt3-dropdown-menu .dropdown-header-title,.rc-CourseAuthoring .bt3-dropdown-menu .dropdown-header-title,.rc-LectureAuthoring .bt3-dropdown-menu .dropdown-header-title,.rc-ReadingsAuthoring .bt3-dropdown-menu .dropdown-header-title,.rc-ProgrammingAuthoringTool .bt3-dropdown-menu .dropdown-header-title,.rc-LtiAuthoringTool .bt3-dropdown-menu .dropdown-header-title,.rc-AnnouncementTool .bt3-dropdown-menu .dropdown-header-title,.rc-PeerReviewAuthoring .bt3-dropdown-menu .dropdown-header-title,.rc-DiscussionPromptAuthoring .bt3-dropdown-menu .dropdown-header-title,.rc-PeerReviewAdminSubmissionTable .bt3-dropdown-menu .dropdown-header-title,.rc-AdminViewGradeOverride .bt3-dropdown-menu .dropdown-header-title,.rc-AdminDeletionConfirmModal .bt3-dropdown-menu .dropdown-header-title,.rc-ModuleLearningObjectivesApp .bt3-dropdown-menu .dropdown-header-title{color:#757575;font-family:\"HelveticaNeue-Medium\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-size:12px;padding:6px 0}.rc-QuizAuthoring .bt3-dropdown-menu li a,.rc-CourseAuthoring .bt3-dropdown-menu li a,.rc-LectureAuthoring .bt3-dropdown-menu li a,.rc-ReadingsAuthoring .bt3-dropdown-menu li a,.rc-ProgrammingAuthoringTool .bt3-dropdown-menu li a,.rc-LtiAuthoringTool .bt3-dropdown-menu li a,.rc-AnnouncementTool .bt3-dropdown-menu li a,.rc-PeerReviewAuthoring .bt3-dropdown-menu li a,.rc-DiscussionPromptAuthoring .bt3-dropdown-menu li a,.rc-PeerReviewAdminSubmissionTable .bt3-dropdown-menu li a,.rc-AdminViewGradeOverride .bt3-dropdown-menu li a,.rc-AdminDeletionConfirmModal .bt3-dropdown-menu li a,.rc-ModuleLearningObjectivesApp .bt3-dropdown-menu li a{padding:8px 20px}.rc-QuizAuthoring .bt3-dropdown-menu li i,.rc-CourseAuthoring .bt3-dropdown-menu li i,.rc-LectureAuthoring .bt3-dropdown-menu li i,.rc-ReadingsAuthoring .bt3-dropdown-menu li i,.rc-ProgrammingAuthoringTool .bt3-dropdown-menu li i,.rc-LtiAuthoringTool .bt3-dropdown-menu li i,.rc-AnnouncementTool .bt3-dropdown-menu li i,.rc-PeerReviewAuthoring .bt3-dropdown-menu li i,.rc-DiscussionPromptAuthoring .bt3-dropdown-menu li i,.rc-PeerReviewAdminSubmissionTable .bt3-dropdown-menu li i,.rc-AdminViewGradeOverride .bt3-dropdown-menu li i,.rc-AdminDeletionConfirmModal .bt3-dropdown-menu li i,.rc-ModuleLearningObjectivesApp .bt3-dropdown-menu li i{margin-right:8px;vertical-align:middle}.rc-AdminDeletionConfirmModal{font-family:\"HelveticaNeue-Regular\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif !important;color:#616161;}.rc-AdminDeletionConfirmModal.rc-Modal .c-modal-content{width:380px;padding:0;background-color:#e0e0e0;border:1px solid #616161}.rc-AdminDeletionConfirmModal .c-modal-x-out{display:none}.rc-AdminDeletionConfirmModal .browser-alert-container{height:40px;border-bottom:1px solid #616161}.rc-AdminDeletionConfirmModal .browser-alert{line-height:40px}.rc-AdminDeletionConfirmModal .confirm-question{width:250px;margin:20px auto 20px auto;text-align:center}.rc-AdminDeletionConfirmModal button.bt3-btn{-webkit-border-radius:15px;border-radius:15px;width:85px;background-color:#e0e0e0;border-color:#616161}.rc-AdminDeletionConfirmModal button.yes-button{margin-right:20px}.rc-PeerReviewAdminMessage{padding:30px 50px;color:#333;background-color:#ffecd0;}.rc-PeerReviewAdminMessage .admin-warning-outer{margin-right:20px;padding-top:7px;}.rc-PeerReviewAdminMessage .admin-warning-outer .admin-warning{font-size:30px;color:#fda200}.rc-PeerReviewAdminMessage .admin-action{color:#2775d1;font-weight:bold;}.rc-PeerReviewAdminMessage .admin-action:hover{cursor:pointer}.rc-PeerReviewAdminMessage .bold-text{font-weight:bold}.rc-PeerReviewAdminMessage a{text-deroration:none;color:#2775d1;font-weight:bold}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-MentorGradedSurvey .question-prompt{padding-bottom:10px}.rc-MentorGradedSurvey .short-answer-input{padding-left:10px;padding-right:10px;width:100%;height:40px;line-height:20px}.rc-MentorGradedSurvey .rc-MultipleChoiceQuestion,.rc-MentorGradedSurvey .rc-ShortAnswerQuestion{padding:15px 0;margin-bottom:15px}.rc-MentorGradedSurvey .rc-MultipleChoiceQuestion{border-bottom:1px solid rgba(0,0,0,0.06)}.rc-SurveyModal .survey-modal-title{padding:32px;-webkit-border-radius:3px 3px 0 0;border-radius:3px 3px 0 0}.rc-SurveyModal .survey-modal-content{padding:32px}.rc-PremiumGradingModal .rc-Modal.box .c-modal-content{padding:28px 40px 13px 40px}.rc-PremiumGradingModal .rc-Modal .container{padding-top:50px}.rc-PremiumGradingModal .rc-Modal .c-modal-content{width:600px}.rc-PremiumGradingModal .rc-Modal .title{padding-bottom:20px}.rc-PremiumGradingModal .rc-Modal hr{margin-top:20px;margin-bottom:10px}.rc-PremiumGradingModal .rc-Modal button{margin:10px}.rc-AssignmentUpgradeChanges .change-item{margin-bottom:16px}.rc-AssignmentUpgradeChanges .type-of-change{margin-left:8px}.rc-AssignmentUpgradeChanges .change-table-container{position:relative;margin-top:10px;margin-left:20px;}.rc-AssignmentUpgradeChanges .change-table-container .change-contents{width:100%}.rc-ShareCourseButtons .share-course-button{min-height:30px;padding-bottom:5px}.rc-ShareCourseButtons i[class*=\"cif-\"]{margin-right:10px}.rc-CertificatePromoBox{text-align:center;}.rc-CertificatePromoBox img{display:block;float:none;margin:5px auto}.rc-CertificatePromoBox span.fa{font-size:12px;margin-left:6px}.rc-CertificatePromoBox .c-cpb-main-link i{margin-top:2px}.rc-CourseRatingHeader{margin-bottom:40px;float:left;width:100%;}.rc-CourseRatingHeader .c-course-rating-header-img{float:left;display:block;margin-right:20px}.rc-CourseRatingHeader .c-course-rating-header-content{float:left;width:350px}.rc-CourseRatingIcons{cursor:pointer;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;}.rc-CourseRatingIcons.read-only{cursor:default}.rc-CourseRatingIcons.small{font-size:18px}.rc-CourseRatingIcons.large{font-size:28px}.rc-CourseRatingIcons .c-course-rating-icon{margin-right:5px;}.rc-CourseRatingIcons .c-course-rating-icon:last-of-type{margin-right:0}.rc-CourseRatingIcons .c-course-rating-icon.cif-star-o{color:#ccc}.rc-CourseRatingIcons .c-course-rating-icon.cif-star{color:#ffc74e;}.rc-CourseRatingIcons .c-course-rating-icon.cif-star.highlight{color:#fba11b}.rc-CourseRatingIcons .c-course-rating-icon.cif-star-half-empty{color:#ffc74e}.rc-CourseRatingIcons .c-course-rating-icons-message{color:#616161;margin-left:20px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-AverageCourseRating .c-average-course-rating-icons{margin-bottom:10px;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;}.rc-AverageCourseRating .c-average-course-rating-icons .c-course-rating-count{margin-left:20px;font-family:\"HelveticaNeue-Light\",\"Helvetica Neue Light\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-size:30px;margin-top:-2px;margin-bottom:0;color:#757575;font-weight:normal}.rc-AverageCourseRating .c-average-course-rating-stats{font-family:\"HelveticaNeue-Regular\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-size:15px;color:#757575;margin-bottom:10px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-CourseRatingsPreviewBox >h5{margin-bottom:20px}.rc-CourseRatingsPreviewBox a.reviews-link{margin-top:24px;display:block;cursor:pointer}.rc-CourseRatingsPreviewBox .c-modal-content .rc-CourseRatingHeader .c-course-rating-header-content .body-2-text{font-family:\"HelveticaNeue-Regular\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif}.rc-CourseRatingsPreviewBox .c-modal-content .rc-CourseRatingHeader .c-course-rating-header-content h3{font-family:\"HelveticaNeue-Light\",\"Helvetica Neue Light\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-weight:inital}.rc-CourseRatingsPreviewBox .rc-CourseRatingsDashboardContent{width:100%;clear:both;}.rc-CourseRatingsPreviewBox .rc-CourseRatingsDashboardContent .rc-CourseRatingBreakdown{margin-right:0 !important}.rc-CourseRatingsPreviewBox >.rc-CourseRatingBreakdown{margin-top:40px;}.rc-CourseRatingsPreviewBox >.rc-CourseRatingBreakdown .c-course-rating-percent-meter{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:0 0 145px !important;-ms-flex:0 0 145px !important;flex:0 0 145px !important}.rc-CourseRatingsPreviewBox >.rc-AverageCourseRating .rc-CourseRatingIcons.large{font-size:24px}.rc-CourseRatingsPreviewBox >.rc-AverageCourseRating >.c-average-course-rating-icons>.c-course-rating-count,.rc-CourseRatingsPreviewBox >.rc-AverageCourseRating .c-average-course-rating-stats{font-family:\'OpenSans\',Arial,sans-serif;font-size:16px}.rc-CourseRatingsPreviewBox >.rc-AverageCourseRating .c-course-rating-count{margin-left:13px !important;margin-top:4px !important}.rc-CourseRatingsPreviewBox >.rc-AverageCourseRating strong{font-family:\'OpenSans\',Arial,sans-serif;font-weight:bold}.primary-cta{margin-top:10px;margin-bottom:20px}.secondary-cta{margin-top:5px}.rc-AboutBox .c-about-box-icon{margin-right:5px}.rc-CourseInfoHeader{height:250px;position:relative;-webkit-box-shadow:0 1px 1.5px 0 rgba(0,0,0,0.12),0 0 1px 0 rgba(0,0,0,0.24);box-shadow:0 1px 1.5px 0 rgba(0,0,0,0.12),0 0 1px 0 rgba(0,0,0,0.24);}.rc-CourseInfoHeader .course-image{background-position:10% 40%;-webkit-background-size:cover;-moz-background-size:cover;-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;background-repeat:no-repeat;opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30);width:100%;height:100%;position:absolute;top:0;z-index:-1}.rc-CourseInfoHeader .course-text{height:100%;position:relative;max-width:1000px;margin:0 auto;text-align:center;}.rc-CourseInfoHeader .course-text > *{max-width:100%}.rc-CourseInfoHeader .course-text .course-name{margin:8px 0}.rc-CourseInfoHeader .s12n-name{margin-top:6px}.rc-CourseInfoHeader .rc-CourseInfoHeaderS12nLink{margin-top:16px}.rc-HowToPass{margin-top:24px;}.rc-HowToPass p{white-space:pre-wrap;margin-bottom:0}.rc-InstructorBox .instructor{margin:16px 0;}.rc-InstructorBox .instructor .instructor-photo{margin-right:16px;min-width:64px;-webkit-border-radius:50%;border-radius:50%}.rc-InstructorBox .instructor .instructor-name{margin-bottom:4px}.rc-ReferrerInformation{padding:18px 24px;margin:24px 0 -26px 0;}.rc-ReferrerInformation .information{padding-left:12px}.rc-ReferrerInformation .rc-ProfileImage{min-width:44px;min-height:44px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-OfferingCard{display:block;position:relative;}.rc-OfferingCard .offering-content{background-color:#fff;border:1px solid #dcdcdc;margin-bottom:10px;min-height:120px;padding:10px;position:relative;cursor:pointer;overflow:hidden;}.rc-OfferingCard .offering-content:hover{background-color:#f7f7f7}.rc-OfferingCard .offering-info{margin:0 30px 20px 30px;}.rc-OfferingCard .offering-info h2{font-size:20px;line-height:24px;margin:20px 0 8px 0}.rc-OfferingCard .dot-delimiter{margin:0 7px;color:#b3b3b3}.rc-OfferingCard .text-light{color:#b3b3b3}.rc-OfferingCard .offering-partner-names{display:inline-block}.rc-OfferingCard .specialization-course-count{background-color:#969696;color:#fff;display:inline-block;padding:2px 8px}.rc-OfferingCard .offering-debug-info{position:absolute;top:0;right:0;font-size:12px;line-height:18px;width:100%}.rc-OfferingCard .offering-badge{float:right;color:#fff;padding:2px 15px;background-color:rgba(39,117,209,0.75);}.rc-OfferingCard .offering-badge:hover{background-color:rgba(39,117,209,0.5)}.rc-OfferingCard .offering-debug-details{color:#000;position:absolute;top:22px;right:0;background:#fff;width:100%;padding:10px;z-index:10}.rc-OfferingCard .expandable-handle{cursor:help;}.rc-OfferingCard .expandable-handle code{word-break:break-all;white-space:normal}@media (max-width:991px){.rc-OfferingCard .offering-image{width:85px;height:85px}}@media (max-width:767px){.rc-OfferingCard .offering-info{margin-left:10px;margin-bottom:0;}.rc-OfferingCard .offering-info h2{margin-top:0}.rc-OfferingCard .offering-info .specialization-course-count{display:inline-block;margin-bottom:5px}.rc-OfferingCard .offering-info .dot-delimiter{display:none}.rc-OfferingCard .offering-info .horizontal-box{display:block}.rc-OfferingCard .offering-info .offering-partner-names{display:block}}.rc-RelatedCourses .rc-OfferingCard .offering-content{border:none;}.rc-RelatedCourses .rc-OfferingCard .offering-content .offering-info-container .offering-info{margin-left:25px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-Syllabus{margin-top:24px;}.rc-Syllabus a{cursor:pointer}.rc-Syllabus .week-entry{margin-bottom:24px}.rc-Syllabus .week-header{padding:8px 0}.rc-Syllabus .border-bottom{border-bottom:1px solid rgba(0,0,0,0.06)}.rc-Syllabus .honors-title{padding-bottom:12px}.rc-Syllabus .honors-syllabus .week-number{padding-top:8px}.rc-Syllabus .module-name{margin-left:16px}.rc-Syllabus .week-number{line-height:24px;width:48px}.rc-Syllabus .week-topics,.rc-Syllabus .week-assignments{padding:12px 0;}.rc-Syllabus .week-topics li,.rc-Syllabus .week-assignments li{margin-left:64px;list-style-type:none;}.rc-Syllabus .week-topics li ol,.rc-Syllabus .week-assignments li ol{padding:0;}.rc-Syllabus .week-topics li ol li,.rc-Syllabus .week-assignments li ol li{margin:0 0 0 32px}.rc-Syllabus .week-assignments{padding-left:24px;margin:0 -24px;}@media (max-width:767px){.rc-Syllabus .week-assignments{padding-left:18px;margin:0 -18px}}.rc-Syllabus .deadline{text-align:right;margin:0 24px;white-space:pre-wrap;}.rc-Syllabus .deadline span{display:block}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-CoursePassedBox{background-color:#2a73cc;padding:20px;}.rc-CoursePassedBox .badge{margin-bottom:6px}.rc-CoursePassedBox h5{color:#fff}.rc-CoursePassedBox .passed-session-dates{margin-top:4px;margin-bottom:0;color:#fff}.rc-CoursePassedBox .rc-HonorsBanner{margin-top:12px}.rc-PreEnrollBox .price{margin-top:12px}.rc-SessionEnrollBox{margin-top:24px;}.rc-SessionEnrollBox .capstone-eligible-message{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:12px 16px}.rc-SessionEnrollBox .primary-enroll-box.od-container{margin-top:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-SessionSwitchModal .contents{margin:16px 24px 16px 0}.rc-SessionSwitchModal .cancel-button{margin-right:24px}.rc-SessionSwitchModal .rc-SessionSwitchSuccess .content,.rc-SessionSwitchModal .rc-SessionSwitchBranchChangeInfo .content,.rc-SessionSwitchModal .rc-SessionSwitchInfo .content{padding:16px 0}.rc-SessionSwitchModal .rc-SessionSwitchBranchChangeInfo .instructor-note{padding:12px 0;border-top:1px solid rgba(0,0,0,0.06)}.rc-SessionSwitchBox .upcoming-session.od-container.cozy{margin-top:0;padding:24px;}.rc-SessionSwitchBox .upcoming-session.od-container.cozy .button-container{margin-top:16px}.rc-SessionSwitchBox .caption-text{display:block}.rc-SessionSwitchBox .current-session-dates{margin-top:8px}.rc-SessionSwitchBox .session-date{white-space:nowrap}.rc-EnrollBox{width:100%;margin-bottom:24px;}.rc-EnrollBox .rc-SessionBox.od-container.cozy{-webkit-border-radius:0;border-radius:0}.rc-EnrollBox.rc-OnDemandBox,.rc-EnrollBox.rc-LoggedOutBox{padding:24px;}.rc-EnrollBox.rc-OnDemandBox .vertical-box h3,.rc-EnrollBox.rc-LoggedOutBox .vertical-box h3{margin-bottom:16px}.rc-EnrollBox.rc-OnDemandBox button{margin-top:8px}.rc-EnrollBox .session-dates{margin:12px 0;}.rc-EnrollBox .session-dates .session-date{white-space:nowrap}.rc-EnrollBox .button-container{margin-top:24px}.rc-EnrollBox .rc-NoSessionBox .no-sessions-available{margin-bottom:12px}.rc-EnrollBox .following-session{-webkit-border-radius:0;border-radius:0;padding:16px 24px;}.rc-EnrollBox .following-session p{margin-bottom:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-CapstoneBanner{padding:12px 20px;}.rc-CapstoneBanner .body-1-text{color:#fff}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-S12nInfoBox .s12n-description{margin:8px 0}.rc-S12nInfoBox .metadata-box{width:100%;max-height:120px;margin-top:16px;border:1px solid rgba(0,0,0,0.06);}.rc-S12nInfoBox .metadata-box .logo{width:120px}.rc-S12nInfoBox .metadata-box .link-box{padding:16px 24px;}.rc-S12nInfoBox .metadata-box .link-box .view-specialization{margin-top:16px;display:block}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ModeSwitcher .explanation{margin-top:12px}.rc-ModeSwitcher .dropdown-section{margin-bottom:12px;}.rc-ModeSwitcher .dropdown-section .bt3-dropdown-toggle{width:160px;border:1px solid rgba(0,0,0,0.1);text-align:left}.rc-ModeSwitcher .dropdown-section .bt3-caret{position:absolute;top:15px;right:10px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-CourseInfoPage{max-width:100% !important;padding:0 !important;}.rc-CourseInfoPage .od-container{margin-top:24px;}.rc-CourseInfoPage .od-container h4{margin-bottom:12px}@media (max-width:991px){.rc-CourseInfoPage .column-container{-webkit-box-direction:reverse;-moz-box-direction:reverse;-o-box-direction:reverse;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}}.rc-CourseInfoPage .content{max-width:1000px;padding:20px 20px 32px 20px;margin:0 auto}.rc-CourseInfoPage .about-container{margin-top:24px;}.rc-CourseInfoPage .about-container .rc-AboutBox{white-space:pre-wrap}.rc-CourseInfoPage .about-container .fa{margin-right:1em}.rc-CourseInfoPage .rc-CertificatePromoBox img{width:64px}.rc-CourseInfoPage .card-headline{margin:0 0 12px 0}.rc-FinaidLink{line-height:18px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-MessageCard{padding:12px 12px;border-top:1px solid rgba(0,0,0,0.12);border-bottom:1px solid rgba(0,0,0,0.12);}.rc-MessageCard .rc-SessionSwitchButton{margin:auto 12px auto 0}.rc-ReviewModeMetaInfo .deadline-pill{margin-bottom:20px}.rc-ReviewModeMetaInfo .review-count-table{margin-bottom:20px;}.rc-ReviewModeMetaInfo .review-count-table th{font-weight:strong;padding-right:20px}.rc-MessageAndButton .button-container{padding-left:20px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-SubmissionModeMetaInfo .deadline-pill{margin-bottom:20px}.rc-SubmissionModeMetaInfo i{margin:8px 10px 0 0;}.rc-SubmissionModeMetaInfo i.cif-warning{color:#f5a623}.rc-SubmissionModeMetaInfo i.cif-info{color:#2a73cc}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-AlertBanner{padding:10px 12px;border:1px solid #2a73cc;background-color:#f6faff;}.rc-AlertBanner i:not(.cif-close){color:#2a73cc}.rc-AlertBanner i.cif-close{color:rgba(0,0,0,0.54)}.rc-AlertBanner .info-icon{-webkit-border-radius:100%;border-radius:100%;border:1px solid #2a73cc;color:#2a73cc;height:16px;width:16px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.c-phoenix-template-truncate{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.c-phoenix-template-button{outline:none;margin:15px 0;color:#fff;background-color:#428bca;cursor:pointer;border-top-right-radius:3px;border-top-left-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;}.c-phoenix-template-button:hover{background-color:#3d7cb3;color:#fff}.c-phoenix-template-button[disabled]{background-color:#cccccb}.c-phoenix-template-button:focus{color:#fff}.c-phoenix-hide{display:none}.c-hidden-accessibility{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px)}.c-col-no-left-padding{padding-left:0}.c-col-no-right-padding{padding-right:0}.c-no-margin{margin:0}.c-phoenix-template-header{margin-bottom:0 !important;max-width:960px;}.c-phoenix-template-header.c-focus-on-signup .c-phoenix-template-header-nav li:not(.c-focus-on-signup-show){display:none}.c-phoenix-template-header.c-focus-on-search .c-phoenix-template-header-nav li:not(.c-focus-on-search-show){display:none}.c-phoenix-template-header:not(.c-focus-on-search) .c-phoenix-template-header-nav li.c-focus-on-search-default-hide{display:none}.c-phoenix-template-header .c-phoenix-template-header-nav > li > a{cursor:pointer;color:#717171;text-decoration:none;}.c-phoenix-template-header .c-phoenix-template-header-nav > li > a:hover,.c-phoenix-template-header .c-phoenix-template-header-nav > li > a:focus{color:#4d8ce9;background-color:transparent}.c-phoenix-template-header .c-banner-search{padding-top:9px;}@media (max-width:991px){.c-phoenix-template-header .c-banner-search{display:none}}.c-phoenix-template-header .c-banner-search .c-banner-search-input-container .c-banner-search-input{-webkit-box-shadow:none;box-shadow:none;border:1px solid #ccc;font-size:14px;height:35px;max-width:340px}.c-phoenix-template-header .c-banner-search .c-banner-search-input-container .c-banner-search-button{top:1px;height:33px;border-left:1px solid #ccc;}.c-phoenix-template-header .c-banner-search .c-banner-search-input-container .c-banner-search-button:hover{background-color:rgba(100,100,100,0.1)}@media (max-width:767px){.c-phoenix-template-header .c-phoenix-template-header-menu.popup-open{outline:0 !important;position:static !important;float:none !important;width:auto !important;background-color:transparent !important;border:0 !important;-webkit-box-shadow:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}}@media (min-width:768px){.c-phoenix-template-header .c-phoenix-template-header-collapse-container{display:block}}.c-phoenix-template-header .c-phoenix-template-header-navbar{margin-left:0;margin-right:0;}.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle{border-color:#ddd;margin-right:0;}.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle:hover,.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle:focus{background-color:#ddd}.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle .c-phoenix-template-header-navbar-icon-bar{background-color:#888}.c-logout-button-link{display:block;padding:3px 20px;clear:both;font-weight:normal;line-height:1.428571429;color:#333;white-space:nowrap;width:100%;margin:0;left:0;text-align:left;cursor:pointer;border:0;text-decoration:none;letter-spacing:1px;background-color:transparent}.c-logout-button-link:hover,.c-logout-button-link:focus{color:#303030;text-decoration:none;outline:0;background-color:#f5f5f5}.bt3-dropdown-menu form{margin:0}.c-peer-review-assignment .c-peer-review-assignment-section h1,.c-peer-review-assignment .c-peer-review-assignment-section h2,.c-peer-review-assignment .c-peer-review-assignment-section h3,.c-peer-review-assignment .c-peer-review-assignment-section h4,.c-peer-review-assignment .c-peer-review-assignment-section h5,.c-peer-review-assignment .c-peer-review-assignment-section h6{font-size:14px;line-height:21px;font-family:\'OpenSans\',Arial,sans-serif}.c-peer-review-assignment .c-peer-review-assignment-section h1,.c-peer-review-assignment .c-peer-review-assignment-section h2,.c-peer-review-assignment .c-peer-review-assignment-section h3,.c-peer-review-assignment .c-peer-review-assignment-section h4,.c-peer-review-assignment .c-peer-review-assignment-section h5,.c-peer-review-assignment .c-peer-review-assignment-section h6{font-family:\'OpenSans\',Arial,sans-serif;font-weight:bold}body,.c-phoenix-template-page{background-color:#f5f5f5}div[data-readme]{display:none}.readme{background:#daebf8;color:#428bca;padding:10px 40px 9px 20px;position:relative;display:none;min-height:50px;}.readme a,.readme a:visited:not(.btn){color:#428ccd;font-weight:bold;text-decoration:none}.readme a:hover,.readme a:focus{text-decoration:underline}.readme .c-container{max-width:960px;margin:0 auto}.readme .c-message{float:left;margin:4px 25px 0 25px}.readme .c-action-items{margin-left:12px}.readme button{background-color:#51bc53}.readme .c-action-item{font-size:12px}.readme-close-icon{position:absolute;top:50%;right:20px;cursor:pointer;color:#428bca;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}@media (max-width:991px){.c-message{float:none}}.c-peer-review-like-prompt{margin-top:40px;border:1px solid rgba(0,0,0,0.12);border-left:none;border-right:none;height:70px;line-height:70px;}.c-peer-review-like-prompt .c-peer-review-like-area-prompt{float:left}.c-peer-review-like-prompt .c-peer-review-like-area-prompt-container{height:100%;display:table;margin:auto}.c-peer-review-like-prompt .c-peer-review-like-big-heart-container{float:left;height:40px;width:40px;-webkit-border-radius:20px;border-radius:20px;top:15px;position:relative;border:1px solid rgba(0,0,0,0.12);margin:0 10px 0 10px;}.c-peer-review-like-prompt .c-peer-review-like-big-heart-container:hover{cursor:pointer}.c-peer-review-like-prompt .c-peer-review-like-big-heart-container:active{background-color:rgba(255,255,255,0.55)}.c-peer-review-like-prompt .c-peer-review-like-big-heart-container .c-peer-review-like-heart{display:block;line-height:40px;text-align:center}.c-peer-review-like-prompt .c-peer-review-like-area-likes{float:left;}.c-peer-review-like-prompt .c-peer-review-like-area-likes span{vertical-align:middle}.c-peer-review-like-heart:hover,.c-review-page-number-box:hover .c-peer-review-like-heart,.c-peer-review-like-heart-liked{color:#ff394f}.c-peer-review-submission-header{border-bottom:1px solid rgba(0,0,0,0.12);margin-bottom:20px;padding-bottom:16px;position:relative;}.c-peer-review-submission-header .c-peer-review-submission-header-author-container{margin-top:10px;}.c-peer-review-submission-header .c-peer-review-submission-header-author-container .c-peer-review-submission-header-meta-area{margin:4px 0 0 8px}.c-peer-review-submission-header .c-peer-review-submission-header-author-container .c-peer-review-submission-header-author-name{font-size:14px;line-height:16px}.c-peer-review-submission-header .c-review-page-number-box{display:inline-block;margin:5px 10px 0 0;min-width:70px;background-color:rgba(255,255,255,0.55);color:rgba(0,0,0,0.54);-webkit-border-radius:5px;border-radius:5px;padding:3px;font-size:14px;text-align:center;font-weight:400;border:1px solid rgba(0,0,0,0.12);}.c-peer-review-submission-header .c-review-page-number-box:hover{background-color:rgba(0,0,0,0.05);cursor:pointer}.c-peer-review-submission-header .c-peer-review-submission-actions-area{bottom:12px;right:0}@media (min-width:768px){.c-peer-review-submission-header .c-peer-review-submission-actions-area{position:absolute}}@media (max-width:767px){.c-peer-review-submission-header .c-peer-review-submission-actions-area{clear:both;display:block;float:none !important;padding-top:10px}}.c-review-page-delete-large{padding:10px 0 0;}.c-review-page-delete-large .c-review-page-delete-link{width:100%}.c-review-page-delete-message{float:right;}.c-review-page-delete-message,.c-review-page-delete-message:hover,.c-review-page-delete-message:focus,.c-review-page-delete-message:active{color:rgba(0,0,0,0.54)}.c-review-page-delete-small{border-top:1px solid rgba(0,0,0,0.06);padding:10px 0 0;min-height:40px;}.c-review-page-delete-small .c-review-page-delete-link{float:right;cursor:pointer;}.c-review-page-delete-small .c-review-page-delete-link,.c-review-page-delete-small .c-review-page-delete-link:hover,.c-review-page-delete-small .c-review-page-delete-link:focus,.c-review-page-delete-small .c-review-page-delete-link:active{color:rgba(0,0,0,0.54)}.c-review-page-delete-modal .c-review-page-keep-project-link{text-decoration:underline;outline:none}.c-review-page-modal-overlay{background-color:#fff;opacity:.75;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)\";filter:alpha(opacity=75)}.c-peer-embedded-content-image{max-height:370px;max-width:100%}.c-peer-embedded-content-iframe{max-height:370px;max-width:100%}.c-peer-embedded-content-soundcloud{max-height:166px;max-width:100%}.c-peer-review-assignment h2.headline-2-text{margin-top:10px}.c-peer-review-assignment .c-peer-review-assignment-intro{margin-top:20px;margin-bottom:20px}.c-peer-review-assignment .c-peer-review-assignment-sections{border-bottom:1px solid rgba(0,0,0,0.06)}.c-peer-review-assignment .c-peer-review-assignment-section h1,.c-peer-review-assignment .c-peer-review-assignment-section h2,.c-peer-review-assignment .c-peer-review-assignment-section h3,.c-peer-review-assignment .c-peer-review-assignment-section h4,.c-peer-review-assignment .c-peer-review-assignment-section h5,.c-peer-review-assignment .c-peer-review-assignment-section h6{margin:10px 0}.c-peer-review-assignment .c-peer-review-assignment-section .c-peer-review-assignment-section-title-container{padding:5px 10px;border-top:1px solid rgba(0,0,0,0.06);margin:0 0 5px;}.c-peer-review-assignment .c-peer-review-assignment-section .c-peer-review-assignment-section-title-container.active{background-color:#f6faff}.c-peer-review-assignment .c-peer-review-assignment-section .c-peer-review-assignment-section-title-container:hover{cursor:pointer;background-color:#f6faff}.c-peer-review-assignment .c-peer-review-assignment-section .c-peer-review-assignment-section-title-container .c-peer-review-assignment-section-title{color:#2a73cc}.c-peer-review-assignment .c-peer-review-assignment-section .c-peer-review-assignment-section-title-container .c-peer-review-assignment-section-title-toggle{float:right;color:rgba(0,0,0,0.26);}.c-peer-review-assignment .c-peer-review-assignment-section .c-peer-review-assignment-section-title-container .c-peer-review-assignment-section-title-toggle .c-peer-review-assignment-section-title-toggle-arrow{font-size:10px}.c-peer-review-assignment .c-peer-review-assignment-section .c-peer-review-assignment-section-content{padding:16px 10px;}.c-peer-review-assignment .c-peer-review-assignment-section .c-peer-review-assignment-section-content img{max-width:100%}.c-peer-review-feedback,.c-peer-review-feedback-form-container{-webkit-border-radius:4px;border-radius:4px;padding:10px;padding-left:0;position:relative;}.c-peer-review-feedback .c-peer-review-feedback-container,.c-peer-review-feedback-form-container .c-peer-review-feedback-container{margin:0 0 0 55px}.c-peer-review-feedback .c-peer-review-feedback-avatar,.c-peer-review-feedback-form-container .c-peer-review-feedback-avatar{position:absolute;height:40px;width:40px;-webkit-border-radius:50%;border-radius:50%;margin-right:10px;background:#808080;float:left}.c-peer-review-feedback .c-peer-review-feedback-authorName,.c-peer-review-feedback-form-container .c-peer-review-feedback-authorName{display:block;font-weight:bold;font-size:14px;margin:11px 0 20px;}.c-peer-review-feedback .c-peer-review-feedback-authorName.c-peer-review-feedback-expert,.c-peer-review-feedback-form-container .c-peer-review-feedback-authorName.c-peer-review-feedback-expert{margin:4px 0 2px}.c-peer-review-feedback .c-peer-review-feedback-authorStatus,.c-peer-review-feedback-form-container .c-peer-review-feedback-authorStatus{display:block;margin-bottom:15px}.c-peer-review-feedback .c-peer-review-feedback-time,.c-peer-review-feedback-form-container .c-peer-review-feedback-time{position:absolute;top:25px;right:15px;color:#aaa}.c-peer-review-feedback .c-peer-review-feedback-form,.c-peer-review-feedback-form-container .c-peer-review-feedback-form{margin-left:50px;}.c-peer-review-feedback .c-peer-review-feedback-form .c-peer-review-feedback-textarea,.c-peer-review-feedback-form-container .c-peer-review-feedback-form .c-peer-review-feedback-textarea{-webkit-border-radius:4px;border-radius:4px;border:1px solid #d3d3d3;outline:none;overflow:auto;width:100%;max-width:100%;margin:0;padding:10px 10px 0;resize:none;max-height:40px;height:40px;}.c-peer-review-feedback .c-peer-review-feedback-form .c-peer-review-feedback-textarea.c-peer-review-feedback-textarea-has-feedback,.c-peer-review-feedback-form-container .c-peer-review-feedback-form .c-peer-review-feedback-textarea.c-peer-review-feedback-textarea-has-feedback{resize:both;max-height:none;height:100px}.c-peer-review-feedback .c-peer-review-feedback-form .c-peer-review-feedback-post-button-container,.c-peer-review-feedback-form-container .c-peer-review-feedback-form .c-peer-review-feedback-post-button-container{text-align:right}.c-peer-review-feedback .c-peer-review-feedback-text,.c-peer-review-feedback-form-container .c-peer-review-feedback-text{margin:0 0 25px;white-space:pre-wrap;word-wrap:break-word}.rc-CommentsSection .c-peer-review-feedback-hr{display:none}.c-peer-review-flagging .c-peer-review-flagging-container{background:#ecf1f4;border:1px solid #dce1e4;border-bottom-left-radius:5px;border-bottom-right-radius:5px;-webkit-box-shadow:inset 0 6px 8px -8px #999;box-shadow:inset 0 6px 8px -8px #999;font-size:13px;margin:0 -20px -25px;padding:10px 20px 15px;}.c-peer-review-flagging .c-peer-review-flagging-container:before,.c-peer-review-flagging .c-peer-review-flagging-container:after{content:\" \";display:table}.c-peer-review-flagging .c-peer-review-flagging-container:after{clear:both}.c-peer-review-flagging .c-peer-review-flagging-container .c-title{font-size:16px;font-weight:normal;margin-bottom:0}.c-peer-review-flagging .c-peer-review-flagging-container .field-container{margin-top:15px}.c-peer-review-flagging .c-peer-review-flagging-container .field{-webkit-border-radius:4px;border-radius:4px;border:1px solid #d3d3d3;width:100%}.c-peer-review-flagging .c-peer-review-flagging-container label{font-weight:normal}.c-peer-review-flagging .c-peer-review-flagging-container select{height:30px}.c-peer-review-flagging .c-peer-review-flagging-container textarea{height:140px}.c-peer-review-flagging .c-peer-review-flagging-container .actions{margin-top:5px}.c-peer-review-gallery .c-peer-review-gallery-controls{margin-bottom:10px;color:rgba(0,0,0,0.255);}.c-peer-review-gallery .c-peer-review-gallery-controls .c-peer-review-filter{color:rgba(0,0,0,0.255);text-decoration:none}.c-peer-review-gallery .c-next-submission-area{background-color:#f5f5f5;border:1px solid rgba(0,0,0,0.12);padding:20px;position:relative}.c-peer-review-gallery .c-next-submission-prompt{left:240px;position:absolute;right:10px;top:30px}.c-peer-review-gallery .c-peer-review-my-progress{background-color:rgba(255,255,255,0.8);padding:20px 30px;}.c-peer-review-gallery .c-peer-review-my-progress .title{margin-top:0}.c-peer-review-gallery .c-peer-review-queue-sidebar{padding-left:0}.c-peer-review-gallery .c-peer-review-gallery-row{margin-bottom:10px;margin-left:-5px;margin-right:-5px}.c-peer-review-gallery .c-peer-review-gallery-tile-container{padding-left:5px;padding-right:5px}.c-peer-review-gallery .c-peer-review-gallery-tile{height:200px;display:block;min-width:200px;}.c-peer-review-gallery .c-peer-review-gallery-tile:hover{background-color:rgba(0,0,0,0.05)}.c-peer-review-gallery .c-peer-review-gallery-tile .c-peer-review-gallery-tile-header{padding:10px;height:154px;}.c-peer-review-gallery .c-peer-review-gallery-tile .c-peer-review-gallery-tile-header .c-peer-review-gallery-tile-title{margin:0;word-wrap:break-word}.c-peer-review-gallery .c-peer-review-gallery-tile .c-peer-review-gallery-tile-header .c-peer-review-gallery-tile-timestamp{color:rgba(0,0,0,0.26)}.c-peer-review-gallery .c-peer-review-gallery-tile .c-peer-review-gallery-tile-footer{padding-left:10px;padding-right:10px;height:46px;line-height:44px;}.c-peer-review-gallery .c-peer-review-gallery-tile .c-peer-review-gallery-tile-footer .c-peer-review-gallery-tile-submitter-name{display:inline-block;max-width:75%}.c-peer-review-gallery .c-peer-review-gallery-tile .c-peer-review-gallery-tile-footer .c-peer-review-gallery-tile-img{background-color:rgba(0,0,0,0.255);display:inline-block;height:30px;margin-right:10px;position:relative;top:-6px;vertical-align:inherit;width:30px}.c-peer-review-gallery .c-peer-review-gallery-tile-label{left:30px;padding:4px 10px;position:absolute;top:0;}.c-peer-review-gallery .c-peer-review-gallery-tile-label.success{background-color:#2ab573;color:#fff}.c-peer-review-gallery .c-peer-review-jumbo-tile{margin-bottom:10px;padding:0 15px;position:relative;}.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile{height:210px;padding-top:36px;padding-left:5px;}.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile .c-peer-review-gallery-tile-header{height:112px}.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile .c-peer-review-gallery-tile-title{margin-bottom:14px !important}.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile .c-peer-review-gallery-tile-footer{height:56px}.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile .c-peer-review-gallery-tile-img-container,.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile .c-peer-review-gallery-tile-author-container{float:left}.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile .c-peer-review-gallery-tile-img{height:40px !important;top:3px;width:40px !important}.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile .c-peer-review-gallery-tile-author-container{padding-top:8px}.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile .c-peer-review-gallery-tile-submitter-name{margin-bottom:7px}.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile .c-peer-review-gallery-tile-submitter-name,.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile .c-peer-review-gallery-tile-timestamp{display:block;margin-top:-2px}.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile .c-peer-review-gallery-tile-submitter-name{line-height:1.2em}.c-peer-review-gallery .c-peer-review-jumbo-tile .c-peer-review-gallery-tile .c-peer-review-gallery-tile-timestamp{line-height:.9em}@media (max-width:991px){.c-peer-review-gallery .c-peer-review-queue-sidebar{margin-bottom:15px;padding-left:15px}}@media (max-width:991px){.c-peer-review-gallery .c-peer-review-gallery-tile{margin-bottom:10px}}.c-peer-review-review-prompt{color:rgba(0,0,0,0.54);margin:8px 0 16px;}.c-peer-review-review-prompt img{display:block;max-width:100%}.c-peer-review-review-response{word-wrap:break-word;}.c-peer-review-review-response img{max-width:100%}.c-peer-review-review-response .c-peer-review-review-response-link{font-size:16px;display:block;margin:0 0 8px;}.c-peer-review-review-response .c-peer-review-review-response-link .c-peer-review-review-response-link-text{text-decoration:underline}.c-peer-submission-part-with-inline-review .c-peer-review-review-prompt{padding:10px;margin:10px 0;border:1px solid rgba(0,0,0,0.12)}.c-peer-submission-part-with-inline-review .c-peer-review-review-response{color:rgba(0,0,0,0.54)}.c-peer-review-review-response-plain-text{white-space:pre-wrap}.c-peer-review-submit-title-area{border-bottom:1px solid rgba(0,0,0,0.12);margin:0 -20px 20px;padding:0 20px 20px}.c-peer-review-submit-prompt{margin:32px 0 16px 0}.c-peer-review-submit-title-prompt{margin-top:0}.c-peer-review-submit-textarea-field,.c-peer-review-submit-text-field{background-color:#fff;border:1px solid rgba(0,0,0,0.06);-webkit-border-radius:5px;border-radius:5px;height:38px;max-width:100%;padding:10px;width:100%;}.c-peer-review-submit-textarea-field.c-peer-review-submit-text-field-group-top,.c-peer-review-submit-text-field.c-peer-review-submit-text-field-group-top{border-bottom-left-radius:0;border-bottom-right-radius:0}.c-peer-review-submit-textarea-field.c-peer-review-submit-text-field-group-middle,.c-peer-review-submit-text-field.c-peer-review-submit-text-field-group-middle{-webkit-border-radius:0;border-radius:0;margin-top:-1px}.c-peer-review-submit-textarea-field.c-peer-review-submit-text-field-group-bottom,.c-peer-review-submit-text-field.c-peer-review-submit-text-field-group-bottom{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}.c-peer-review-submit-textarea-field{height:100px}.c-peer-review-submit-text-field-container{position:relative}.c-peer-review-submit-text-field-annotation{pointer-events:none;position:absolute;right:10px;top:6px;color:rgba(0,0,0,0.26)}.c-peer-review-submit-upload-field{border:1px solid rgba(0,0,0,0.12);-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);height:auto;padding:6px 12px;}.c-peer-review-submit-upload-field.disabled{background:rgba(0,0,0,0.05)}.c-peer-review-submit-upload-field.disabled,.c-peer-review-submit-upload-field.disabled *{cursor:not-allowed}.c-peer-review-submit-upload-field.disabled a:hover{text-decoration:none}.c-peer-review-submit-upload-field .bt3-progress{margin-bottom:0}.c-peer-review-submit-upload-remove{color:rgba(0,0,0,0.54);margin-left:4px;font-size:16px;font-weight:bold;cursor:pointer}.c-peer-review-submit-upload-error{color:#f3001b;margin-right:10px}.c-review-page .c-review-success-area-label{position:relative;top:-8px}.c-review-page .c-review-circle{color:rgba(0,0,0,0.1);font-size:38px;margin-right:10px}.c-review-page .c-review-circle-checked{color:#2ab573}.c-review-page .c-next-review-loading-text{color:rgba(0,0,0,0.26);font-size:16px;margin-top:40px;text-align:center}.c-review-page .c-review-page-container .c-review-page-breadcrumb{color:rgba(0,0,0,0.54)}.c-review-page .c-review-page-container .c-review-page-breadcrumb a:link{text-decoration:none}.c-review-page .c-review-page-container .c-review-page-breadcrumb a:hover{color:#2a73cc}.c-review-page .c-review-page-container .c-review-page-feedback{padding-bottom:15px;margin-top:20px}.c-review-page .c-review-page-container .c-review-page-feedback-title{font-family:sofiapro-light;font-size:18px}.c-review-page .c-review-sidebar-container{padding:10px 20px;margin-bottom:20px;}.c-review-page .c-review-sidebar-container .c-review-sidebar-arrow-indicator{border-top:8px solid transparent;border-bottom:8px solid transparent;border-right:12px solid rgba(0,0,0,0.05);height:0;left:-32px;position:absolute;top:18px;width:0}.c-review-page .c-review-sidebar-container .c-review-sidebar-area{position:relative}.c-review-page .c-review-sidebar-container .c-review-sidebar-header{font-weight:bold}.c-review-page .c-review-sidebar-container .c-review-sidebar-review-count{color:#777;font-size:.8em}.c-review-page .c-review-sidebar-container .c-review-sidebar-form .c-review-sidebar-form-header{margin-top:0}.c-review-page .c-review-sidebar-container .c-peer-review-reviewer-info{margin:5px 0 15px}.c-review-page .c-review-sidebar-container .c-peer-learner-photo{margin-right:10px}.c-review-page .c-review-sidebar-container .c-review-sidebar-learner-list-area a{color:#333;text-decoration:underline}.c-review-page .c-review-sidebar-container .c-review-sidebar-learner-list-area .c-peer-learner-photo{border:2px solid transparent;opacity:.5;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";filter:alpha(opacity=50)}.c-review-page .c-review-sidebar-container .c-review-sidebar-learner-list-area .c-peer-review-selected-learner{border-color:#000}.c-review-page .c-review-sidebar-container .c-review-sidebar-learner-list-area .c-peer-learner-photo:hover,.c-review-page .c-review-sidebar-container .c-review-sidebar-learner-list-area .c-peer-review-selected-learner{opacity:1;-ms-filter:none;filter:none}.c-review-page .c-review-sidebar-container .c-review-sidebar-selected-learner-area{margin:20px 0 5px;}.c-review-page .c-review-sidebar-container .c-review-sidebar-selected-learner-area .c-review-sidebar-selected-learner-area-name{font-size:16px;font-weight:bold}.c-review-page .c-review-sidebar-container .c-review-sidebar-rating-area{padding-bottom:10px}.c-review-page .c-review-sidebar-container .c-review-sidebar-flagging-area{margin:15px 0}.c-review-review-item{margin-bottom:30px}.c-review-review-item-label{color:#858585}.c-review-review-item-widget{margin-bottom:5px;word-wrap:break-word}.c-review-summary-part-prompt{color:#858585}.c-review-summary-part-label{color:#000;margin-top:2px}.c-review-summary-part-score{color:#858585;font-size:11px;font-style:italic;line-height:1em}.submit-page-honor-code-agreement{margin-top:20px}.c-peer-review-submit-controls{margin-top:10px}.c-peer-review-submit-button-container{display:inline-block}.c-peer-review{margin:0 auto;}.c-peer-review .rc-PeerReviewInformation{margin-top:8px}.c-peer-review .c-peer-review-body{margin:0 auto 60px}@media (min-width:768px){.c-peer-review .c-peer-review-header{margin-bottom:45px;margin-top:15px}}@media (max-width:767px){.c-peer-review .c-peer-review-header{margin-bottom:10px}}.c-peer-review .c-peer-review-header .c-peer-review-time-commitment{color:rgba(0,0,0,0.54);text-align:right}.c-peer-review .c-peer-review-header .c-peer-review-title{margin-top:20px;margin-bottom:10px;}.c-peer-review .c-peer-review-header .c-peer-review-title .cif-check-circle.c-peer-review-title-check{margin-right:10px;color:#2ab573}.c-peer-review .c-peer-review-todo-item{color:rgba(0,0,0,0.54);display:block;margin-bottom:15px;padding-left:26px;position:relative;}.c-peer-review .c-peer-review-todo-item .c-icon{color:rgba(0,0,0,0.1);font-size:23px;left:0;position:absolute;top:-1px}.c-peer-review .c-peer-review-todo-item .c-peer-review-todo-item-title{color:rgba(0,0,0,0.54);margin:0 0 3px;padding:0}.c-peer-review .c-peer-review-todo-item .c-peer-review-todo-item-message{color:rgba(0,0,0,0.54);margin:0;padding:0}.c-peer-review .c-peer-review-todo-item-complete .c-icon{color:#2ab573}.c-peer-review .c-peer-review-nav{margin-bottom:20px;}.c-peer-review .c-peer-review-nav .c-peer-review-navlist-container{border-bottom:1px solid rgba(0,0,0,0.06)}.c-peer-review .c-peer-review-nav .c-peer-review-navlist{line-height:1.4em;margin-bottom:7px;-webkit-padding-start:0;-moz-padding-start:0;-khtml-padding-start:0;-o-padding-start:0;padding-start:0;width:100%;}.c-peer-review .c-peer-review-nav .c-peer-review-navlist li a{text-decoration:none;padding:6px 0}@media (max-width:767px){.c-peer-review .c-peer-review-nav .c-peer-review-navlist li{position:relative;display:block;margin:0;width:100%;}.c-peer-review .c-peer-review-nav .c-peer-review-navlist li:before{content:\"\";position:absolute;height:100%;width:2px;background-color:rgba(0,0,0,0.05);left:0;top:0}.c-peer-review .c-peer-review-nav .c-peer-review-navlist li:hover,.c-peer-review .c-peer-review-nav .c-peer-review-navlist li.active{background-color:rgba(0,0,0,0.05);}.c-peer-review .c-peer-review-nav .c-peer-review-navlist li:hover:before,.c-peer-review .c-peer-review-nav .c-peer-review-navlist li.active:before{background-color:rgba(0,0,0,0.255)}.c-peer-review .c-peer-review-nav .c-peer-review-navlist li.active a{font-weight:bold}.c-peer-review .c-peer-review-nav .c-peer-review-navlist li a{margin:0 0 0 8px;display:block;width:100%;height:100%}}@media (min-width:768px){.c-peer-review .c-peer-review-nav .c-peer-review-navlist li{display:inline-block;margin:0 33px 0 0;padding:0;}.c-peer-review .c-peer-review-nav .c-peer-review-navlist li.c-peer-review-navlist-item{max-width:125px;white-space:nowrap;overflow:visible}.c-peer-review .c-peer-review-nav .c-peer-review-navlist li.c-peer-review-navlist-item-right{float:right}.c-peer-review .c-peer-review-nav .c-peer-review-navlist li.c-peer-review-navlist-separator{width:218px}.c-peer-review .c-peer-review-nav .c-peer-review-navlist li:last-child{margin-right:0}.c-peer-review .c-peer-review-nav .c-peer-review-navlist li:hover a,.c-peer-review .c-peer-review-nav .c-peer-review-navlist li.active a{border-bottom:3px solid #2ab573}.c-peer-review .c-peer-review-nav .c-peer-review-navlist li.active a{font-weight:bold}}.c-peer-review .c-peer-review-preview-title{margin-top:0}.c-peer-reviews-sidebar h2{margin-top:0}.c-peer-reviews-sidebar hr{border-color:rgba(0,0,0,0.12);width:70px}.c-peer-reviews-sidebar .c-learner-picture-list{margin:5px 0 10px}.c-peer-reviews-sidebar .c-title{margin-bottom:5px;}.c-peer-reviews-sidebar .c-title .c-help-icon{margin-left:8px;position:relative;top:-2px}.c-peer-reviews-sidebar.passed .c-title{color:#1d7f50}.c-peer-reviews-sidebar.not-passed .c-title{color:#f3001b}.c-peer-reviews-sidebar .c-subtitle{margin-bottom:15px}.c-peer-reviews-sidebar .c-peer-reviews-sidebar-toggle-button-bar{margin-bottom:20px}.c-help-icon{color:rgba(0,0,0,0.26)}.c-peer-learner-photo{display:inline-block;vertical-align:middle;-webkit-border-radius:40px;border-radius:40px;height:40px;width:40px;border:1px solid rgba(0,0,0,0.12);}.c-peer-learner-photo.learner-photo-small{-webkit-border-radius:30px;border-radius:30px;height:30px;width:30px}.c-peer-learner-photo-placeholder{border:1px dashed rgba(0,0,0,0.12)}.c-rubric-questions .c-rubric-questions-title{margin:12px 0}.c-rubric-questions .c-rubric-question{color:rgba(0,0,0,0.54);margin-bottom:12px}.c-small-link{color:rgba(0,0,0,0.26);}.c-small-link:hover{text-decoration:none}.c-peer-review-verification{margin:15px 0 30px}@media (min-width:992px){.c-peer-review{max-width:960px;padding:0}}.c-peer-card{padding:10px 20px;margin-bottom:20px}.c-peer-card-group{margin-bottom:20px;}.c-peer-card-group .c-peer-card{-webkit-border-radius:0;border-radius:0;margin-bottom:0}.c-peer-submission-part-with-inline-review{margin-bottom:20px}.rc-RubricPreviewLink{margin-bottom:12px}');
